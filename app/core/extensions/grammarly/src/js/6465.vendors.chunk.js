(self.webpackChunk=self.webpackChunk||[]).push([[6465],{5315:(e,t)=>{t.x=void 0,t.x=.5},77993:(e,t,n)=>{n.d(t,{Q:()=>i});var i,r=n(63513),o=n(80358);!function(e){function t(e){return"error"===e.kind}e.isCheetahChunk=function(e){return"cheetah:chunk"===e.kind},e.isCheetahSetContext=function(e){return"cheetah:setContext"===e.kind},e.isCheetahResult=function(e){return"cheetah:result"===e.kind},e.isCheetahError=function(e){return"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind},e.isError=t,e.isErrorSessionNotInitialized=function(e){return t(e)&&e.error===r.jK.SESSION_NOT_INITIALIZED},e.isRelevant=function(e){return o.ld.isCheetahEvent(e)||o.ld.isCheetahAck(e)||"error"===e.kind}}(i||(i={}))},61792:(e,t,n)=>{n.d(t,{a:()=>i});var i,r=n(8125),o=n(5114),s=n(52573);!function(e){let t,n,i;function a(e){return e.kind===t.active}function c(e){return e.kind===t.passive}function u(e){return e.kind===t.unknown}function l(e){return a(e)||u(e)}!function(e){e.unavailable="unavailable",e.active="active",e.passive="passive",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=(0,r.HP)((e=>{const t=Date.parse(e);return isNaN(t)?0:t}));function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),function(t){t.empty={kind:e.Kind.passive,promptsAllocated:0,promptsRemaining:0,refillDate:0}}(i=e.Passive||(e.Passive={})),e.isActive=a,e.isPassive=c,e.isUnknown=u,e.isUsable=l,e.isVisible=function(e){return l(e)||c(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUsage=function(n){return(0,s.zG)(o.fromNullable(n),o.map((n=>{const i=e.Active.parseRefillDate(n.refillDate);return n.promptsRemaining<0?{kind:t.unknown}:n.promptsRemaining>0?{kind:t.active,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:i}:{kind:t.passive,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:i}})),o.getOrElse((()=>({kind:e.Kind.unknown}))))}}(i||(i={}))},27605:(e,t,n)=>{n.d(t,{aU:()=>r,pY:()=>i,Cl:()=>ae,ix:()=>ee,ec:()=>ne,a8:()=>re.a,JZ:()=>oe,_y:()=>o,nF:()=>ie,x2:()=>p,_H:()=>se,TG:()=>X,lG:()=>te,H3:()=>s,x4:()=>c,z_:()=>d.z,Z7:()=>h,Zq:()=>Q,LA:()=>f.L});var i,r,o,s,a=n(52573);!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={}))}(i||(i={})),function(e){function t(e){return"userPrompt"===e.kind}function n(e){return"dynamic"===e.kind}function r(e){return"quickRewrite"===e.kind}let o,s,c,u,l;e.isUserPrompt=t,e.isDynamic=n,e.isQuickRewrite=r,e.willGenerateResult=function(e){return t(e)||r(e)||n(e)&&e.generatesResult},function(e){e.create=function(e){return e}}(o=e.Id||(e.Id={})),function(e){e.isFollowUpQuestion=function(e){return 1===e.args.length&&"string"===e.args[0].kind},e.isQuickAction=function(e){return 0===e.args.length}}(s=e.DynamicInput||(e.DynamicInput={})),function(e){e.fromInputAndValue=function(e,t){return Object.assign(Object.assign({},e),{args:[(0,a.zG)(e.args[0],(e=>i.StringValue.create(e.id,t)))]})}}(c=e.FollowUpQuestionValue||(e.FollowUpQuestionValue={})),function(e){e.fromInput=function(e,t){return Object.assign(Object.assign({},e),{arg:i.StringValue.create(e.arg.id,t)})}}(u=e.UserPromptValue||(e.UserPromptValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(l=e.QuickRewriteValue||(e.QuickRewriteValue={}))}(r||(r={})),function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind}}(o||(o={})),function(e){let t,n;e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter((e=>""!==e)).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(s||(s={}));var c,u=n(73975),l=n(8125);!function(e){let t,n;!function(e){e.create=function(e){return`${e}`},e.toPrimitive=function(e){return parseInt(e)},e.eq=u.yv}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),e.hasId=function(e){return"id"in e},e.isComplete=function(e){return"complete"===e.kind},e.isInProgressOngoing=function(e){return"inProgressOngoing"===e.kind},e.isInProgressPending=function(e){return"inProgressPending"===e.kind},e.isInProgress=(0,l.Kg)(e.isInProgressOngoing,e.isInProgressPending)}(c||(c={}));var p,d=n(45626),f=n(9295);!function(e){let t,n;!function(e){e.ok="ok",e.satisfied="satisfied",e.dissatisfied="dissatisfied"}(t=e.Mood||(e.Mood={})),function(e){e.resultCard="resultCard",e.quickReplyInitialActions="quickReplyInitialActions"}(n=e.Source||(e.Source={}))}(p||(p={}));var h,m=n(22232);!function(e){let t,n,i,r,o,s,c;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(i=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(r=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(o=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(s=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close"}(t=e.UserAction||(e.UserAction={}))}(c=e.Assistant||(e.Assistant={})),e.getComponentId=function(e,t){return(0,a.zG)(e.kind,(t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===i.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"prompt":case"onboardingPopup":case"onboardingRewriteTooltip":return t;default:(0,m.L0)(t)}}),(e=>`cheetah:${e}${t?`:${t}`:""}`))},e.getUserAction=function(e){return(0,a.zG)(e.kind,(t=>{switch(t){case"actions":return e.userAction===i.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===c.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"onboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":return e.userAction;default:(0,m.L0)(t)}}))}}(h||(h={}));var g=n(5114),v=n(95195),b=(n(99527),n(15053)),y=b.t$,x=b.F2,w="Either",_=x,S=(a.yR,b.nM);b.tO;b.F4,b.Xl;var k,C=(k=function(e,t){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},k(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(){return E=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)},O=y,I=function(e,t,n){return O([{value:e,context:t,message:n}])},A=x,T=function(){function e(e,t,n,i){this.name=e,this.is=t,this.validate=n,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var i=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,(function(e,n){var r=i.validate(e,n);return S(r)?r:t.validate(r.right,n)}),this.encode===R&&t.encode===R?R:function(e){return i.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),R=function(e){return e};function P(e,t,n,i){for(var r=e.length,o=Array(r+1),s=0;s<r;s++)o[s]=e[s];return o[r]={key:t,type:n,actual:i},o}function N(e,t){for(var n=t.length,i=0;i<n;i++)e.push(t[i])}Object.prototype.hasOwnProperty;function U(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")}function D(e){for(var t=0;t<e.length;t++)if(e[t].encode!==R)return!1;return!0}function B(e){return"{ ".concat(U(e)," }")}function j(e){return"Partial<".concat(e,">")}new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="NullType",t}return C(t,e),t}(T));var G=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="UndefinedType",t}return C(t,e),t}(T)),L=(new(function(e){function t(){var t=e.call(this,"void",G.is,G.validate,R)||this;return t._tag="VoidType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),A,R)||this;return t._tag="UnknownType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="StringType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="NumberType",t}return C(t,e),t}(T))),z=(new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="BigIntType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="BooleanType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="AnyArrayType",t}return C(t,e),t}(T))),F=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="AnyDictionaryType",t}return C(t,e),t}(T));!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.value=o,s._tag="LiteralType",s}C(t,e)}(T);!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.keys=o,s._tag="KeyofType",s}C(t,e)}(T);var M=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,i,r)||this;return a.type=o,a.predicate=s,a._tag="RefinementType",a}return C(t,e),t}(T);Y(L,(function(e){return Number.isInteger(e)}),"Int");var V=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.runDefinition=o,s._tag="RecursiveType",s}return C(t,e),t}(T);Object.defineProperty(V.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Z=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.type=o,s._tag="ArrayType",s}return C(t,e),t}(T);!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.props=o,s._tag="InterfaceType",s}C(t,e)}(T);var H=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.props=o,s._tag="PartialType",s}return C(t,e),t}(T);!function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,i,r)||this;return a.domain=o,a.codomain=s,a._tag="DictionaryType",a}C(t,e)}(T);var $=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.types=o,s._tag="UnionType",s}return C(t,e),t}(T);!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.types=o,s._tag="IntersectionType",s}C(t,e)}(T);!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.types=o,s._tag="TupleType",s}C(t,e)}(T);var K=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.type=o,s._tag="ReadonlyType",s}return C(t,e),t}(T);var W=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.type=o,s._tag="ReadonlyArrayType",s}return C(t,e),t}(T);function q(e,t){void 0===t&&(t="ReadonlyArray<".concat(e.name,">"));var n=function(e,t){return void 0===t&&(t="Array<".concat(e.name,">")),new Z(t,(function(t){return z.is(t)&&t.every(e.is)}),(function(t,n){var i=z.validate(t,n);if(S(i))return i;for(var r=i.right,o=r.length,s=r,a=[],c=0;c<o;c++){var u=r[c],l=e.validate(u,P(n,String(c),e,u));if(S(l))N(a,l.left);else{var p=l.right;p!==u&&(s===r&&(s=r.slice()),s[c]=p)}}return a.length>0?O(a):A(s)}),e.encode===R?R:function(t){return t.map(e.encode)},e)}(e);return new W(t,n.is,n.validate,n.encode,e)}!function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.type=o,s._tag="ExactType",s}C(t,e)}(T);new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="FunctionType",t}return C(t,e),t}(T)),function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,i,r,o)||this;return a.tag=s,a}C(t,e)}($),new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return I(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),A,R)||this;return t._tag="AnyType",t}return C(t,e),t}(T)),new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return t.is(e)?A(e):I(e,n)}),R)||this;return t._tag="ObjectType",t}return C(t,e),t}(T));function Y(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(function(e){return e.displayName||e.name||"<function".concat(e.length,">")}(t),")")),new M(n,(function(n){return e.is(n)&&t(n)}),(function(n,i){var r=e.validate(n,i);if(S(r))return r;var o=r.right;return t(o)?A(o):I(o,i)}),e.encode,e,t)}Y(L,Number.isInteger,"Integer"),function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.props=o,s._tag="StrictType",s}C(t,e)}(T);var Q,X,J=n(89115);!function(e){const t=["initial","prompts","review","rewrite"],n=["extension","editor","llamaMac","llamaWin"];function i(e,t){return`${e}|${t}`}function r(e,t,n){return`${e}|${t}|${n}`}function o(e){return g.isSome(h(e))}function s(e){return g.isSome(m(e))}const c=new T("CompletedStepName",(e=>"string"==typeof e&&o(e)),((e,t)=>"string"==typeof e&&o(e)?A(e):I(e,t)),R),u=new T("LastSeenStepName",(e=>"string"==typeof e&&s(e)),((e,t)=>"string"==typeof e&&s(e)?A(e):I(e,t)),R),l=function(e,t){return void 0===t&&(t="Readonly<".concat(e.name,">")),new K(t,e.is,e.validate,e.encode,e)}(function(e,t){void 0===t&&(t=j(B(e)));var n=Object.keys(e),i=n.map((function(t){return e[t]})),r=n.length;return new H(t,(function(t){if(F.is(t)){for(var i=0;i<r;i++){var o=n[i],s=t[o];if(void 0!==s&&!e[o].is(s))return!1}return!0}return!1}),(function(t,i){var o=F.validate(t,i);if(S(o))return o;for(var s=o.right,a=s,c=[],u=0;u<r;u++){var l=n[u],p=a[l],d=e[l],f=d.validate(p,P(i,l,d,p));if(S(f))void 0!==p&&N(c,f.left);else{var h=f.right;h!==p&&(a===s&&(a=E({},s)),a[l]=h)}}return c.length>0?O(c):A(a)}),D(i)?R:function(e){for(var t=E({},e),o=0;o<r;o++){var s=n[o],a=e[s];void 0!==a&&(t[s]=i[o].encode(a))}return t},e)}({completed:q(c),lastSeen:q(u)}));let p,d,f;function h(e){return(0,a.zG)(g.some(e.split("|")),g.filter((e=>2===e.length)),g.filter((e=>t.includes(e[0])&&n.includes(e[1]))))}function m(e){return(0,a.zG)(g.some(e.split("|")),g.filter((e=>3===e.length)),g.filter((e=>t.includes(e[0])&&n.includes(e[1]))),g.filterMap((e=>(0,a.zG)(parseInt(e[2],10),(t=>Number.isNaN(t)?g.none:g.some([e[0],e[1],t]))))))}function b(e,t,n){var i,r,o,s;return{extension:{completed:t.some((t=>t[0]===e&&"extension"===t[1])),lastSeen:null===(i=n.find((t=>t[0]===e&&"extension"===t[1])))||void 0===i?void 0:i[2]},editor:{completed:t.some((t=>t[0]===e&&"editor"===t[1])),lastSeen:null===(r=n.find((t=>t[0]===e&&"editor"===t[1])))||void 0===r?void 0:r[2]},llamaMac:{completed:t.some((t=>t[0]===e&&"llamaMac"===t[1])),lastSeen:null===(o=n.find((t=>t[0]===e&&"llamaMac"===t[1])))||void 0===o?void 0:o[2]},llamaWin:{completed:t.some((t=>t[0]===e&&"llamaWin"===t[1])),lastSeen:null===(s=n.find((t=>t[0]===e&&"llamaWin"===t[1])))||void 0===s?void 0:s[2]}}}e.emptyClientStep={completed:!1,lastSeen:void 0},function(e){e.everyClient=function(e){return t=>e(t.extension)&&e(t.editor)&&e(t.llamaMac)&&e(t.llamaWin)}}(p=e.Step||(e.Step={})),e.emptyStep={extension:e.emptyClientStep,llamaMac:e.emptyClientStep,llamaWin:e.emptyClientStep,editor:e.emptyClientStep},e.codec=new T("UpstreamOnboarding",(e=>l.is(e)),((e,t)=>(0,a.zG)(l.validate(e,t),v.UI((e=>{const t=(0,a.zG)(e.completed||[],J.UI(h),J.oA),n=(0,a.zG)(e.lastSeen||[],J.UI(m),J.oA);return{initial:b("initial",t,n),prompts:b("prompts",t,n),review:b("review",t,n),rewrite:b("rewrite",t,n)}})))),(e=>({completed:(0,a.zG)(Object.entries(e),J.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),J.tS((([t,n])=>n.completed?[i(e,t)]:[])))}(e,t)))),lastSeen:(0,a.zG)(Object.entries(e),J.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),J.tS((([t,n])=>n.lastSeen?[r(e,t,n.lastSeen)]:[])))}(e,t))))}))),function(t){t.empty={initial:e.emptyStep,prompts:e.emptyStep,review:e.emptyStep,rewrite:e.emptyStep},t.toClientState=function(e,t){return{initial:e.initial[t],prompts:e.prompts[t],review:e.review[t],rewrite:e.rewrite[t]}},t.patch=function(e,t){return n=>({initial:Object.assign(Object.assign({},n.initial),{[t]:e.initial}),prompts:Object.assign(Object.assign({},n.prompts),{[t]:e.prompts}),review:Object.assign(Object.assign({},n.review),{[t]:e.review}),rewrite:Object.assign(Object.assign({},n.rewrite),{[t]:e.rewrite})})}}(d=e.State||(e.State={})),function(t){t.empty={initial:e.emptyClientStep,prompts:e.emptyClientStep,review:e.emptyClientStep,rewrite:e.emptyClientStep}}(f=e.ClientState||(e.ClientState={}))}(Q||(Q={})),function(e){let t;!function(e){e.initial="initial",e.prompts="prompts",e.review="review",e.rewrite="rewrite"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){return t===e.prompts||t===e.review},e.isTooltipOnboardingStep=function(t){return t===e.prompts||t===e.review||t===e.rewrite}}(t=e.StepName||(e.StepName={}))}(X||(X={}));var ee,te,ne,ie,re=n(61792);!function(e){let t;!function(e){e.mount="mount",e.unmount="unmount",e.close="close",e.goBack="goBack",e.openVoiceProfile="openVoiceProfile",e.closeVoiceProfile="closeVoiceProfile",e.applyVoiceProfile="applyVoiceProfile",e.toggleTone="toggleTone",e.selectStyle="selectStyle",e.selectRole="selectRole",e.selectDialect="selectDialect",e.promptFieldChange="promptFieldChange",e.promptFieldFocusChange="promptFieldFocusChange",e.clickActionBrick="clickActionBrick",e.promptSend="promptSend",e.generateStop="generateStop",e.escapePressed="escapePressed",e.insert="insert",e.rephrase="rephrase",e.dismissResult="dismissResult",e.dismissError="dismissError",e.openFeedbackForm="openFeedbackForm",e.updateFeedbackForm="updateFeedbackForm",e.submitFeedbackForm="submitFeedbackForm",e.reportOffensiveResult="reportOffensive",e.reportOffensiveActions="reportOffensiveActions",e.clickResultHeader="clickResultHeader",e.collapsePromptMenu="collapsePromptMenu",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick",e.cardHover="cardHover",e.cardFocus="cardFocus",e.reportMenuVisibilityChange="reportMenuVisibilityChange"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=(0,l.Kg)(e.is(e.Kind.insert),e.is(e.Kind.rephrase),e.is(e.Kind.dismissResult),e.is(e.Kind.reportOffensiveResult))}(ee||(ee={})),(0,m.L0)(void 0),function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(te||(te={})),(0,m.L0)(void 0),function(e){e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList",e.creditsInfoButton="creditsInfoButton"}(ne||(ne={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(ie||(ie={}));var oe,se,ae,ce=n(7369),ue=n(63513);!function(e){let t;function n(e){switch(e){case t.sensitiveResult:return{header:"Assistance is unavailable",text:"GrammarlyGO assistance is unavailable for that text or prompt.\nTry something else."};case t.overload:return{header:"Couldn’t generate text",text:"We’re handling a lot of prompts right now and couldn’t generate that text.\nPlease try again later."};case t.unsupportedLanguage:return{header:"Hmm, don’t know that language",text:"GrammarlyGO assistance is currently only available for English."};case t.critical:case t.timeout:case t.emptyResult:case t.truncatedResult:case t.usageExceeded:return{header:"Something went wrong",text:"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."};default:(0,m.L0)(e)}}!function(e){e.create=function(t){switch(t){case ue.vv.Schema.ErrorKind.Generic:return e.critical;case ue.vv.Schema.ErrorKind.Overflow:return e.truncatedResult;case ue.vv.Schema.ErrorKind.PromptsLimitExceeded:return e.usageExceeded;case ue.vv.Schema.ErrorKind.SensitiveContent:return e.sensitiveResult;case ue.vv.Schema.ErrorKind.ServerOverloaded:return e.overload;case ue.vv.Schema.ErrorKind.UnsupportedLanguage:return e.unsupportedLanguage;default:(0,m.L0)(t)}}}(t=e.Reason||(e.Reason={})),function(e){e.emptyResult="emptyResult",e.truncatedResult="truncatedResult",e.sensitiveResult="sensitiveResult",e.usageExceeded="usageExceeded",e.unsupportedLanguage="unsupportedLanguage",e.overload="overload",e.timeout="timeout",e.critical="critical"}(t=e.Reason||(e.Reason={})),e.create=function(e){const i=t.create(e.kind),r=(0,a.zG)(ce.Yt(g.option)({header:(0,a.zG)(g.fromNullable(e.title),g.filter((e=>""!==e.trim()))),text:(0,a.zG)(g.fromNullable(e.text),g.filter((e=>""!==e.trim())))}),g.getOrElse((()=>n(i))));return Object.assign({reason:i},r)},e.createCriticalError=function(e){return{reason:t.critical,header:"Something went wrong",text:e?"We’re not sure what happened.\nPlease try again later.":"We’re not sure what happened, but we couldn’t generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:t.emptyResult},n(t.emptyResult))}}(oe||(oe={})),function(e){let t,n,i;e.isInfo=function(e){return e.kind===t.info},e.isError=function(e){return e.kind===t.error},function(e){e.info="info",e.error="error"}(t=e.Kind||(e.Kind={})),function(e){let n,i,r;!function(e){e.startSession="startSession",e.action="action"}(n=e.Name||(e.Name={})),function(e){e.create=function(e){return{kind:t.info,name:n.startSession,sessionMode:e}}}(i=e.StartSession||(e.StartSession={})),function(e){e.create=function(e){return{kind:t.info,name:n.action,sessionMode:e}}}(r=e.Action||(e.Action={}))}(n=e.Info||(e.Info={})),function(e){let n,i,r,o,s;!function(e){e.waitForContextTimeout="waitForContextTimeout",e.waitForResultTimeout="waitForResultTimeout",e.waitForAckTimeout="waitForAckTimeout"}(n=e.Name||(e.Name={})),function(e){e.startSession="startSession",e.action="action"}(i=e.SourceEvent||(e.SourceEvent={})),function(e){e.create=function(e,i){return{kind:t.error,name:n.waitForContextTimeout,sourceEvent:e,sessionMode:i}}}(r=e.WaitForContextTimeout||(e.WaitForContextTimeout={})),function(e){e.create=function(e){return{kind:t.error,name:n.waitForResultTimeout,sessionMode:e}}}(o=e.WaitForResultTimeout||(e.WaitForResultTimeout={})),function(e){e.create=function(e,i){return{kind:t.error,name:n.waitForAckTimeout,sourceEvent:e,sessionMode:i}}}(s=e.WaitForAckTimeout||(e.WaitForAckTimeout={}))}(i=e.Error||(e.Error={}))}(se||(se={})),function(e){let t;!function(e){e.feedbackSubmitted="feedbackSubmitted"}(t=e.Kind||(e.Kind={}))}(ae||(ae={}))},45626:(e,t,n)=>{n.d(t,{z:()=>i});var i,r=n(5114);!function(e){let t,n;!function(e){function t(t){return t===e.rewrite}function n(t){return t===e.quickRewrite}e.isIdeation=function(t){return t===e.ideation},e.isRewrite=t,e.isQuickReply=function(t){return t===e.quickReply},e.isQuickRewrite=n,e.isRewriteOrQuickRewrite=function(e){return t(e)||n(e)}}(t=e.Mode||(e.Mode={})),function(e){e.ideation="ideation",e.rewrite="rewrite",e.quickReply="quickReply",e.quickRewrite="quickRewrite"}(t=e.Mode||(e.Mode={})),function(e){e.disposed="disposed",e.closed="closed",e.textInserted="textInserted",e.regularAssistantOrSidebarOpened="regularAssistantOrSidebarOpened",e.textFieldBlurred="textFieldBlurred",e.assistantBlurred="assistantBlurred"}(n=e.EndReason||(e.EndReason={})),e.toStarting=function(e){return"starting"===e.kind?r.some(e):r.none},e.toStarted=function(e){return"started"===e.kind?r.some(e):r.none}}(i||(i={}))},9295:(e,t,n)=>{n.d(t,{L:()=>i});var i,r=n(73975),o=n(22232),s=n(5114),a=n(53875),c=n(78302);!function(e){let t,n,i,u,l;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=r.yv}(t=e.Id||(e.Id={}))}(i=e.Role||(e.Role={})),function(e){let t,n;function i(e){switch(e){case t.american:return"American English";case t.australian:return"Australian English";case t.british:return"British English";case t.canadian:return"Canadian English";case t.indian:return"Indian English";default:(0,o.L0)(e)}}function s(e){switch(e){case t.american:return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case t.australian:return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case t.british:return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case t.canadian:return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case t.indian:return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:(0,o.L0)(e)}}!function(e){e.fromString=function(t){switch(t){case"american":return e.american;case"australian":return e.australian;case"british":return e.british;case"canadian":return e.canadian;case"indian":return e.indian;default:(0,o.L0)(t)}}}(t=e.Value||(e.Value={})),function(e){e.american="american",e.australian="australian",e.british="british",e.canadian="canadian",e.indian="indian"}(t=e.Value||(e.Value={})),function(e){e.create=function(e){return e},e.eq=r.yv}(n=e.Id||(e.Id={})),e.american={id:n.create(t.american),label:i(t.american),iconUrl:s(t.american)},e.australian={id:n.create(t.australian),label:i(t.australian),iconUrl:s(t.australian)},e.british={id:n.create(t.british),label:i(t.british),iconUrl:s(t.british)},e.canadian={id:n.create(t.canadian),label:i(t.canadian),iconUrl:s(t.canadian)},e.indian={id:n.create(t.indian),label:i(t.indian),iconUrl:s(t.indian)},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(u=e.Dialect||(e.Dialect={})),function(e){e.eq=r.MW({selectedStyle:n.Id.eq,selectedTonesPerStyle:a.Eh(n.Id.eq,c.Eh(t.Id.eq)),selectedRole:s.getEq(i.Id.eq),selectedDialect:u.Id.eq})}(l=e.Selections||(e.Selections={}))}(i||(i={}))},22337:(e,t,n)=>{n.d(t,{$C:()=>T,gz:()=>k,ZP:()=>E,c3:()=>R});var i=n(31699),r=n(52573),o=n(63513),s=n(8709),a=n(9922),c=n(98403),u=n(16118),l=n(80900),p=n(5114),d=n(83078),f=n(22232),h=n(38983),m=n(89115),g=n(42040),v=n(46680),b=n(27605),y=n(67457),x=n(77993),w=n(95195);async function _(e,t,n,i){if(n)try{const r=await n();w.nM(r)?t.warn("runTaskEither() - error running task",{name:e,result:r}):null==i||i()}catch(n){t.error("runTaskEither() - promise rejection running task",n,{name:e})}}var S=n(32952);class k{constructor(){this._events=new S.xQ}static getInstance(){return null===k.instance&&(k.instance=new k),k.instance}notify(e){this._events.next(e)}get events(){return this._events.asObservable()}}k.instance=null;var C=n(97547);class E{constructor(e){var t,n,i,o,s;this._params=e,this._subs=new a.w.Keeper,this._session=h.h.create({kind:"starting",mode:this._params.startSessionOptions.mode,selectedText:(0,r.zG)(p.fromNullable(this._params.startSessionOptions.mode===b.z_.Mode.rewrite||this._params.startSessionOptions.mode===b.z_.Mode.quickRewrite?this._params.startSessionOptions.selectedRange:void 0),p.map((e=>this._params.textEditorService.getText(e)))),quickReplyContext:p.fromNullable(this._params.startSessionOptions.mode===b.z_.Mode.quickReply?this._params.startSessionOptions.quickReplyContext:void 0),error:p.none}),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=h.h.create(b.LA.Dialect.Id.create(b.LA.Dialect.Value.american)),this._cheetahAckIds=new Set,this._cheetahAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._cheetahAckTimeout=void 0,this._resultTimeoutMs=null!==(t=this._params.resultTimeoutMs)&&void 0!==t?t:1e4,this._contextTimeoutMs=null!==(n=this._params.contextTimeoutMs)&&void 0!==n?n:1e4,this._cheetahAckTimeoutMs=null!==(i=this._params.cheetahAckTimeoutMs)&&void 0!==i?i:1e4,this._monitoringService=null!==(o=this._params.monitoringService)&&void 0!==o?o:k.getInstance(),this._logger=null!==(s=this._params.logger)&&void 0!==s?s:g.C8.Logging.getLogger("CheetahWeb.SessionService",v.i.DEBUG),this._subs.push(this._params.relevantCAPIEvents.subscribe((e=>this._handleRelevantCAPIEvent(e)))),this._subs.push(this._params.upstreamDialect.subscribe((e=>c.wW(this._upstreamDialect)(b.LA.Dialect.Id.create(e))))),this._subs.push(this._upstreamDialect.subscribe((e=>this._handleUpstreamDialectChange(e)))),this._session.pipe(u.G()).subscribe((([e,t])=>this._logger.debug("session updated",{prevSession:e,newSession:t}))),this._startSession(this._params.startSessionOptions)}get session(){return this._session.view()}async _startSession(e,t){var n;this._logger.debug("startSession()",{startSessionOptions:e}),await this._params.textEditorService.flush();const i=p.fromNullable(e.mode===b.z_.Mode.rewrite||e.mode===b.z_.Mode.quickRewrite?e.selectedRange:void 0),o=p.fromNullable(e.mode===b.z_.Mode.quickReply?e.quickReplyContext:void 0);this._setupCheetahAckHandler(b._H.Error.SourceEvent.startSession,(()=>{this._setupContextTimeout(b._H.Error.SourceEvent.startSession)}));const s={entryPoint:this._prepareEntryPoint(e.mode),selectedRange:(0,r.zG)(i,p.getOrElse((()=>({start:0,end:0})))),outerContext:(0,r.zG)(o,p.map((e=>this._prepareOuterContext(e))),p.toUndefined),stateBlob:t,metadata:e.metadata};this._logger.debug("startSession() - sending `cheetah:startSession` to CAPI",{data:s}),_("cheetahStartSession",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.cheetahStartSession(s),(()=>this._monitoringService.notify(b._H.Info.StartSession.create(this._session.get().mode))))}submitAction(e){this._logger.debug("submitAction()",{action:e}),this._submitAction(e)}setVoiceProfile(e){var t,n;this._logger.debug("setVoiceProfile()",{voiceProfileSelections:e});const i=this._session.get();if("started"===i.kind){this._session.set(Object.assign(Object.assign({},i),{voiceProfile:Object.assign(Object.assign({},i.voiceProfile),e),context:Object.assign(Object.assign({},i.context),{kind:"pending",loadingMessage:"Working on it..."})}));const s={voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:(0,r.zG)(e.selectedRole,p.toUndefined),needSetup:!1}};if(this._logger.debug("setVoiceProfile() - sending `cheetah:setVoice` to CAPI",{data:s}),_("cheetahSetVoice",this._logger,null===(t=this._params.getCAPIClient())||void 0===t?void 0:t.cheetahSetVoice(s)),!b.LA.Dialect.Id.eq.equals(i.voiceProfile.selectedDialect,e.selectedDialect)){const t={kind:o.rP.Context,context:{goals:p.none,domain:p.none,audience:p.none,style:p.none,dialect:p.some(e.selectedDialect),outcomeContext:p.none}};this._logger.debug("setVoiceProfile() - sending `set_context` to CAPI",{data:t}),_("setSessionOption",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.setSessionOption(t)),this._params.onVoiceProfileSelectedDialectChange(e.selectedDialect)}}else this._logger.warn("setVoiceProfile() - setting voice profile with a session that is not `started`, skipping",{session:i})}stopInProgressResult(){this._logger.debug("stopInProgressResult()");const e=this._session.get();if("started"===e.kind){let t=e.context;if(this._clearAllTimeouts(),e.resultHistory.length>0){this._logger.debug("stopInProgressResult() - non-empty result history, will try to restore context from latest result",{session:e});const n=this._extractLatestResultContext(e);n?(this._logger.debug("stopInProgressResult() - non-empty result history, found context for latest result, will restore its context",{session:e,latestResultContext:n}),t=n):this._logger.warn("stopInProgressResult() - non-empty result history, could not find context for latest result, context will not be updated",{session:e})}else{this._logger.debug("stopInProgressResult() - empty result history, will try to restore initial context",{session:e});const n=this._extractInitialContext();n?(this._logger.debug("stopInProgressResult() - empty result history, found initial context, restoring it",{session:e,initialContext:n}),t=n):this._logger.warn("stopInProgressResult() - empty result history, but there is no initial context to restore, keeping the latest context",{session:e})}this._session.modify((e=>Object.assign(Object.assign({},e),{context:t,inProgressResult:p.none}))),(0,r.zG)(e.inProgressResult,p.filter(b.x4.isInProgressOngoing),d.bw((e=>{var t;const n={promptId:b.x4.Id.toPrimitive(e.id)};this._logger.debug("stopInProgressResult() - sending `cheetah:interrupt` to CAPI",{data:n}),_("cheetahInterrupt",this._logger,null===(t=this._params.getCAPIClient())||void 0===t?void 0:t.cheetahInterrupt(n))})),d.ew((()=>this._logger.warn("stopInProgressResult() - trying to stop in-progress result when we have no result in-progress-ongoing, skipping",{session:e}))))}else this._logger.warn("stopInProgressResult() - trying to stop in-progress result with a session that is not `started`, skipping",{session:e})}regenerateResult(e){this._logger.debug("regenerateResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){const n=this._resultById.get(e);if(n){this._submitAction(n.source.action,n.source.contextId);const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultRephrase(t)}else this._logger.warn("regenerateResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissResult(e){this._logger.debug("dismissResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){if(this._resultById.delete(e)){const n=t.resultHistory.findIndex((t=>t.id===e));let i=t.context;if(0===n&&t.resultHistory.length>1){this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:t,resultId:e});const n=this._extractPreviousResultContext(t);n?(this._logger.debug("dismissResult() - found context for previous result, will restore its context",{session:t,resultId:e,previousResultContext:n}),i=n):this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:t,resultId:e})}else if(1===t.resultHistory.length){const n=this._extractInitialContext();n?(this._logger.debug("dismissResult() - dismissed all results, restoring initial context",{session:t,resultId:e,initialContext:n}),i=n):this._logger.warn("dimissResult() - dismissed all results, but there is no initial context to restore, keeping the latest context",{session:t,resultId:e})}this._session.set(Object.assign(Object.assign({},t),{context:i,resultHistory:t.resultHistory.filter((t=>!b.x4.Id.eq.equals(t.id,e)))}));const r=this._contextIdByResultId.get(e);this._params.trackingService.trackResultDismiss(r)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissError(){this._logger.debug("dismissError()"),this._session.modify((e=>Object.assign(Object.assign({},e),{error:p.none})))}trackResultInsert(e){this._logger.debug("trackResultInsert()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultInsert(t)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:e})}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._params.trackingService.trackResultOffensive(t)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:e})}trackActionsOffensive(){this._logger.debug("trackActionsOffensive()");const e=this._session.get();if("started"!==e.kind)return this._logger.warn("trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping");this._params.trackingService.trackActionsOffensive(e.context.id)}dispose(e){this._logger.debug("dispose()",{reason:e}),this._endSession(),this._subs.dispose()}_endSession(){var e;this._logger.debug("endSession() - sending `cheetah:endSession` to CAPI"),_("cheetahEndSession",this._logger,null===(e=this._params.getCAPIClient())||void 0===e?void 0:e.cheetahEndSession())}_handleRelevantCAPIEvent(e){x.Q.isCheetahSetContext(e)?this._handleCheetahSetContext(e):x.Q.isCheetahChunk(e)?this._handleCheetahChunk(e):x.Q.isCheetahResult(e)?this._handleCheetahResult(e):x.Q.isCheetahError(e)?this._handleCheetahError(e):x.Q.isCheetahAck(e)?this._handleCheetahAck(e):x.Q.isError(e)?this._handleError(e):(this._logger.warn("_handleRelevantCAPIEvent() - unknown event",{event:e}),(0,f.L0)(e))}_handleCheetahSetContext(e){this._logger.debug("_handleCheetahSetContext()",{event:e}),this._clearContextTimeout();const t=this._session.get(),n=e.message,i=this._extractVoiceProfile(n.context.voice),r={id:b._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),quickRewriteAction:this._extractQuickRewriteAction(n.context.quickRewriteAction),intent:this._extractIntent(n.context.intent)},o=n.progressMessage?Object.assign(Object.assign({},r),{kind:"pending",loadingMessage:n.progressMessage}):Object.assign(Object.assign({},r),{kind:"received"});let s=!1;if(0===this._contextById.size&&b._y.isReceived(o)&&(s=!0,this._initialReceivedContext=o),this._contextById.set(o.id,o),this._stateBlobByContextId.set(o.id,n.context.stateBlob),this._session.set(Object.assign(Object.assign({},t),{kind:"started",voiceProfile:i,context:o,inProgressResult:"started"===t.kind?t.inProgressResult:p.none,resultHistory:"started"===t.kind?t.resultHistory:[]})),s&&b.z_.Mode.isQuickRewrite(t.mode)){const i=b.aU.QuickRewriteValue.fromInput(this._extractQuickRewriteAction(n.context.quickRewriteAction));this._logger.debug("_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",{session:t,event:e,quickRewriteAction:i}),this._submitAction(i)}}_handleCheetahChunk(e){this._logger.debug("_handleCheetahChunk()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,i=b.x4.Id.create(n.promptId);(0,r.zG)(t.inProgressResult,p.filter(b.x4.isInProgressOngoing),p.filter((e=>b.x4.Id.eq.equals(e.id,i))),p.map((e=>{this._clearAllTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:p.some(Object.assign(Object.assign({},e),{text:e.text+n.token}))}))})),d.ew((()=>this._logger.warn("_handleCheetahChunk() - received chunk that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahResult(e){this._logger.debug("_handleCheetahResult()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,i=b.x4.Id.create(n.promptId);(0,r.zG)(t.inProgressResult,p.filter(b.x4.isInProgressOngoing),p.filter((e=>b.x4.Id.eq.equals(e.id,i))),p.map((i=>{if(this._clearAllTimeouts(),n.error||!n.text||""===n.text.plain){const i=n.error?b.JZ.create(n.error):b.JZ.createEmptyResultError();this._logger.warn("_handleCheetahResult() - received result with error, adding error to session",{session:t,event:e,error:i}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(i)}))}else if(n.text.interrupted)this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping",{session:t,event:e});else{const r=Object.assign(Object.assign({},i),{kind:"complete",text:n.text.plain,timestamp:Date.now(),delta:"ops"in n.text.delta&&Array.isArray(n.text.delta.ops)?new s.i([...n.text.delta.ops]):new s.i});let o,a,c;this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history",{session:t,event:e,result:r}),n.context?(a=this._extractVoiceProfile(n.context.voice),o={kind:"received",id:b._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),intent:this._extractIntent(n.context.intent)},c=n.context.stateBlob,this._logger.debug("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:t,event:e,voiceProfile:a,context:o})):(this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:t,event:e}),a=t.voiceProfile,o=t.context,c=this._stateBlobByContextId.get(t.context.id)),this._contextById.set(o.id,o),void 0!==c&&this._stateBlobByContextId.set(o.id,c),this._resultById.set(r.id,r),this._contextIdByResultId.set(r.id,o.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:a,context:o,inProgressResult:p.none,resultHistory:[r,...t.resultHistory]}))}})),d.ew((()=>this._logger.warn("_handleCheetahResult() - received result that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahError(e){this._logger.debug("_handleCheetahError",{event:e}),this._clearAllTimeouts();const t=b.JZ.create(e.message.error);this._logger.warn("_handleCheetahError - received error, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none,error:p.some(t)})))}_handleUpstreamDialectChange(e){this._logger.debug("_handleUpstreamDialectChange()",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=b.LA.Dialect.Id.create(e);this._logger.debug("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("_handleCheetahAck()",{event:e}),this._clearCheetahAckTimeout(),this._cheetahAckIds.add(e.id);const t=this._cheetahAckHandlers.length>0?this._cheetahAckHandlers[0]:void 0;t&&(this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{event:e,cheetahAckHandlers:this._cheetahAckHandlers}),this._cheetahAckHandlers=this._cheetahAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._logger.debug("_handleError()",{event:e}),this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),x.Q.isErrorSessionNotInitialized(e)){const t=(0,r.zG)(b.z_.toStarted(this._session.get()),p.map((e=>this._stateBlobByContextId.get(e.context.id))),p.toUndefined);this._logger.warn("_handleError() - received session not initialized error, restarting session",{event:e,startSessionOptions:this._params.startSessionOptions,stateBlob:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none}))),this._startSession(this._params.startSessionOptions,t)}else{const e=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),p.isSome));this._logger.warn("_handleError - received error event that corresponds to one of the `cheetah:*` messages, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(e)})))}}_extractVoiceProfile(e){var t,n;const i=(0,r.zG)(b.z_.toStarted(this._session.get()),p.map((e=>e.voiceProfile.styles)),p.getOrElse((()=>[]))),o=(0,r.zG)(b.z_.toStarted(this._session.get()),p.map((e=>e.voiceProfile.roles)),p.getOrElse((()=>[]))),s=(0,r.zG)(null!==(t=e.styles)&&void 0!==t?t:[],m.UI((e=>({id:b.LA.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map((e=>({id:b.LA.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description}))),maxTones:e.maxTones,description:e.button.description}))),(e=>e.length>0?e:i)),a=b.LA.Style.Id.create(e.selectedStyle),c=s.find((e=>b.LA.Style.Id.eq.equals(e.id,a))),u={styles:s,roles:(0,r.zG)(null!==(n=e.roles)&&void 0!==n?n:[],m.UI((e=>({id:b.LA.Role.Id.create(e),label:e}))),(e=>e.length>0?e:o)),selectedStyle:a,selectedTonesPerStyle:(new Map).set(a,new Set(e.selectedTones.filter((e=>null==c?void 0:c.tones.map((e=>e.id.toString())).includes(e))))),selectedRole:(0,r.zG)(p.fromNullable(e.selectedRole),p.map((e=>e.trim())),p.filter((e=>""!==e)),p.map(b.LA.Role.Id.create)),dialects:b.LA.Dialect.all(),selectedDialect:(0,r.zG)(b.z_.toStarted(this._session.get()),p.fold((()=>b.LA.Dialect.Id.create(this._upstreamDialect.get())),(e=>e.voiceProfile.selectedDialect))),needsSetup:e.needSetup};return this._logger.debug("_extractVoiceProfile()",{voice:e,voiceProfile:u}),u}_extractDynamicActions(e){const t=e.map((e=>e.group)),n=e.map((e=>({id:b.aU.Id.create(e.id),kind:"dynamic",iconUrl:e.iconUrl,group:{label:e.group,rank:t.findIndex((t=>e.group===t))},label:(0,i.sanitize)(e.label,{ALLOWED_TAGS:C.ap}),searchLabel:(0,i.sanitize)(e.label,{ALLOWED_TAGS:[]}),searchTags:e.searchTags,generatesResult:e.generatesText,args:e.args.map((e=>({id:b.pY.Id.create(e.name),kind:"string",label:e.label,hints:(0,r.zG)(p.fromNullable(e.hint),p.map((e=>({header:e.header,items:e.text}))))})))})));return this._logger.debug("_extractDynamicActions()",{availableActions:e,dynamicActions:n}),n}_extractUserPromptAction(e){const t=(0,r.zG)(e.args,m.YM,p.map((t=>({id:b.aU.Id.create(e.id),kind:"userPrompt",arg:{id:b.pY.Id.create(t.name),kind:"string",label:t.label,hints:(0,r.zG)(p.fromNullable(t.hint),p.map((e=>({header:e.header,items:e.text}))))}}))));return p.isSome(t)?this._logger.debug("_extractUserPromptAction()",{promptAction:e,userPromptAction:t}):this._logger.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:e}),t}_extractQuickRewriteAction(e){const t={kind:"quickRewrite",id:b.aU.Id.create(e.id),label:(0,i.sanitize)(e.label,{ALLOWED_TAGS:C.ap}),iconUrl:e.iconUrl};return this._logger.debug("_extractQuickRewriteAction()",{quickRewriteAction:e,extractedQuickRewriteAction:t}),t}_extractIntent(e){const t=(0,r.zG)(p.fromNullable(e),p.filter((e=>e.length>0)),p.map((e=>({header:"Sender's intent",text:(0,i.sanitize)(e,{ALLOWED_TAGS:[...C.ap,"person"]})}))));return this._logger.debug("_extractIntent()",{intent:e,extractedIntent:t}),t}_prepareOuterContext(e){const t={title:e.title,people:{from:[b.H3.Person.extractNameAndEmailString(e.author)],to:e.directRecipients.map(b.H3.Person.extractNameAndEmailString),cc:e.indirectRecipients.map(b.H3.Person.extractNameAndEmailString),bcc:e.undisclosedRecipients.map(b.H3.Person.extractNameAndEmailString)},items:[{text:e.previousMessageInfo.text,people:{from:[b.H3.Person.extractNameAndEmailString(e.previousMessageInfo.author)],to:e.previousMessageInfo.directRecipients.map(b.H3.Person.extractNameAndEmailString)}}]};return this._logger.debug("_prepareOuterContext()",{quickReplyContext:e,preparedOuterContext:t}),t}_submitAction(e,t){var n;this._logger.debug("_submitAction()",{action:e,contextId:t});const i=this._session.get();if("started"===i.kind){const o=null!=t?t:i.context.id,s=this._stateBlobByContextId.get(o);if(void 0===s)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:i,contextId:o,contextStateBlob:s});this._session.set(Object.assign(Object.assign({},i),{context:Object.assign(Object.assign({},i.context),{kind:"pending",loadingMessage:"Working on it..."}),inProgressResult:b.aU.willGenerateResult(e)?p.some({kind:"inProgressPending",header:{label:b.aU.isUserPrompt(e)?e.arg.value:e.label,iconUrl:b.aU.isUserPrompt(e)?p.none:p.some(e.iconUrl),copiablePrompt:b.aU.isUserPrompt(e)?p.some(e.arg.value):p.none},text:"",source:{contextId:o,action:e}}):p.none,error:p.none})),this._setupCheetahAckHandler(b._H.Error.SourceEvent.action,(e=>{this._setupContextTimeout(b._H.Error.SourceEvent.action),(0,r.zG)(b.z_.toStarted(this._session.get()),p.chain((e=>e.inProgressResult)),p.filter(b.x4.isInProgressPending),p.map((t=>Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:b.x4.Id.create(e)}))),d.bw((t=>{this._logger.debug("received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{ackId:e,inProgressResult:t}),this._resultById.set(t.id,t),this._clearResultTimeout(),this._logger.debug("setting up result timeout",{ackId:e,inProgressResult:t}),this._resultTimeout=l.H(this._resultTimeoutMs).subscribe((()=>{const e=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),p.isSome));this._logger.warn("waited too long with an in-progress-ongoing result, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(e)}))),this._monitoringService.notify(b._H.Error.WaitForResultTimeout.create(this._session.get().mode))})),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.some(t)})))})),d.ew((()=>this._logger.warn("received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{ackId:e}))))}));const a={contextId:o,actionId:e.id,args:b.aU.isUserPrompt(e)?[{name:e.arg.id,value:e.arg.value}]:(0,r.zG)(y.c2(e.args),p.fold((()=>[]),(e=>e.map((e=>({name:e.id,value:e.value})))))),stateBlob:s};this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI",{data:a}),_("cheetahAction",this._logger,null===(n=this._params.getCAPIClient())||void 0===n?void 0:n.cheetahAction(a),(()=>this._monitoringService.notify(b._H.Info.Action.create(this._session.get().mode))))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:i,action:e,contextId:t})}_prepareEntryPoint(e){let t;switch(e){case b.z_.Mode.ideation:t=o.vv.Schema.MessageStartSessionEntryPoint.Ideation;break;case b.z_.Mode.rewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.Rewrite;break;case b.z_.Mode.quickRewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickRewrite;break;case b.z_.Mode.quickReply:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickReply;break;default:(0,f.L0)(e)}return this._logger.debug("_prepareEntryPoint()",{sessionMode:e,entryPoint:t}),t}_extractLatestResultContext(e){return this._extractContextFromResultHistory(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResultHistory(e,1)}_extractContextFromResultHistory(e,t){const n=(0,r.zG)(p.fromNullable(e.resultHistory[t]),p.map((e=>e.id)),p.chain((e=>p.fromNullable(this._contextIdByResultId.get(e)))),p.chain((e=>p.fromNullable(this._contextById.get(e)))),p.toUndefined);return n?this._logger.debug("_extractContextFromResultHistory()",{session:e,resultIndex:t,resultContext:n}):this._logger.warn("_extractContextFromResultHistory() - could not find context for result",{session:e,resultIndex:t}),n}_extractInitialContext(){return null!==this._initialReceivedContext?(this._logger.debug("_extractInitialContext()",{initialContext:this._initialReceivedContext}),this._initialReceivedContext):void this._logger.warn("_extractInitialContext() - could not find initial context")}_clearResultTimeout(){var e;this._logger.trace("_clearResultTimeout()"),null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;this._logger.trace("_clearContextTimeout()"),null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearCheetahAckTimeout(){var e;this._logger.trace("_clearCheetahAckTimeout()"),null===(e=this._cheetahAckTimeout)||void 0===e||e.unsubscribe(),this._cheetahAckTimeout=void 0}_clearAllTimeouts(){this._logger.trace("_clearAllTimeouts()"),this._clearResultTimeout(),this._clearContextTimeout(),this._clearCheetahAckTimeout()}_setupContextTimeout(e){this._logger.debug("_setupContextTimeout()",{sourceEvent:e}),this._clearContextTimeout(),this._contextTimeout=l.H(this._contextTimeoutMs).subscribe((()=>{const t=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),p.isSome));this._logger.warn("waited too long to receive `cheetah:setContext`, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none,error:p.some(t)}))),this._monitoringService.notify(b._H.Error.WaitForContextTimeout.create(e,this._session.get().mode))}))}_setupCheetahAckTimeout(e){this._logger.debug("_setupCheetahAckTimeout()",{sourceEvent:e}),this._clearCheetahAckTimeout(),this._cheetahAckTimeout=l.H(this._cheetahAckTimeoutMs).subscribe((()=>{const t=b.JZ.createCriticalError((0,r.zG)(b.z_.toStarting(this._session.get()),p.isSome));this._logger.warn("waited too long to receive an ACK for a `cheetah:*` command, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none,error:p.some(t)}))),this._monitoringService.notify(b._H.Error.WaitForAckTimeout.create(e,this._session.get().mode))}))}_setupCheetahAckHandler(e,t){this._setupCheetahAckTimeout(e),this._cheetahAckHandlers.push(t)}}var O=n(24209),I=n(8125),A=n(61792);class T{constructor(e,t,n,i=g.C8.Logging.getLogger("CheetahWeb.AvailabilityService",v.i.DEBUG)){this._capiSessionStartedPartialEvent=e,this._capiCheetahSetContextEvents=t,this._capiCheetahResultEvents=n,this._logger=i,this._subs=new a.w.Keeper,this.availability=h.h.create({kind:A.a.Kind.pending}),this.promptsAllocated=this.availability.view((e=>(0,r.zG)(e,p.fromPredicate((0,I.Kg)(A.a.isActive,A.a.isPassive)),p.map((e=>e.promptsAllocated))))),this._subs.push(this._capiSessionStartedPartialEvent.subscribe((({allowedFeatures:e,cheetahUsage:t})=>this.availability.set(e.includes(o.vv.AllowedFeature)?A.a.fromUsage(t):{kind:A.a.Kind.unavailable}))),O.T(this._capiCheetahSetContextEvents,this._capiCheetahResultEvents).subscribe((e=>this.availability.set(A.a.fromUsage(e.message.usage)))),this.availability.pipe(u.G()).subscribe((([e,t])=>{this._logger.debug("availability updated",{prevAvailability:e,newAvailability:t}),(A.a.isActive(t)||A.a.isPassive(t))&&0===t.refillDate&&this._logger.warn("availability updated - error parsing refill date for new availability, setting timestamp to 0",{prevAvailability:e,newAvailability:t})})))}dispose(){this._subs.dispose()}}class R{constructor(e,t=g.C8.Logging.getLogger("CheetahWeb.TrackingService",v.i.DEBUG)){this._getCAPIClient=e,this._logger=t}trackResultInsert(e){this._logger.debug("trackResultInsert()",{contextId:e}),e||this._logger.warn("trackResultInsert() - tracking result insert without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.insert},e)}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{contextId:e}),e||this._logger.warn("trackResultOffensive() - tracking result offensive without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.offensive},e)}trackResultDismiss(e){this._logger.debug("trackResultDismiss()",{contextId:e}),e||this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.dismiss},e)}trackResultRephrase(e){this._logger.debug("trackResultRephrase()",{contextId:e}),e||this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),this._trackUxInteraction({kind:"result",userAction:b.Z7.Result.UserAction.rephrase},e)}trackVoiceProfileOpen(e){this._logger.debug("trackVoiceProfileOpen()",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?b.Z7.VoiceProfile.UserAction.open:b.Z7.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:b.Z7.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("trackActionsOpenStore()"),this._trackUxInteraction({kind:"actions",userAction:b.Z7.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("trackActionsOffensive()"),e||this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),this._trackUxInteraction({kind:"actions",userAction:b.Z7.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:b.Z7.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("trackUsageInfoClick()"),this._trackUxInteraction({kind:"usageInfo",userAction:b.Z7.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("trackUsageInfoHover()"),this._trackUxInteraction({kind:"usageInfo",userAction:b.Z7.UsageInfo.UserAction.hover})}trackOnboardingPopupView(){this._logger.debug("trackOnboardingPopupView()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){this._logger.debug("trackOnboardingPopupSkip()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){this._logger.debug("trackOnboardingPopupNext()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:b.Z7.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){this._logger.debug("trackOnboardingPromptsTooltipView()"),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){this._logger.debug("trackOnboardingReviewTooltipView()"),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:b.Z7.Onboarding.UserAction.view})}trackAssistantClose(){this._logger.debug("trackAssistantClose()"),this._trackUxInteraction({kind:"assistant",userAction:b.Z7.Assistant.UserAction.close})}_trackUxInteraction(e,t){var n;const i=b.Z7.getComponentId(e,t),r=b.Z7.getUserAction(e);this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:i,userAction:r,uxInteraction:e,contextId:t}),_("sendUserAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.sendUserAction(i,r))}}},79584:(e,t,n)=>{n.d(t,{TB:()=>K,WY:()=>fs,aK:()=>ds});var i=n(52573),r=n(20654),o=n(14601),s=n(2768),a=n(85985),c=n(2834),u=n(49708),l=n(5114),p=n(55415),d=n(38983);function f(e){return(0,i.zG)(e,l.fromPredicate((e=>"initial"===e.kind||"dragged"===e.kind)))}class h{constructor(e,t){this._positionInfo=e,this._onFocus=t,this._internalState=d.h.create({managedPositionInfo:l.none,assistant:l.none,dragState:l.none,assistantMaxHeight:l.none}),this.state=this._internalState.view((e=>(0,i.zG)(e.dragState,l.map((t=>{return n=t,i=e.assistantMaxHeight,{kind:"dragged",dragging:n.dragging,referencePosition:n.translationOrigin,assistantMaxHeight:i,translation:(0,r.NN)(Object.assign(Object.assign({},n.assistantSize),{top:n.viewportSize.height-n.translationOrigin.bottom-n.assistantSize.height,left:n.viewportSize.width-n.translationOrigin.right-n.assistantSize.width}),Object.assign({left:0,top:0},n.viewportSize))(n.translation)};var n,i})),l.alt((()=>(0,i.zG)(e.managedPositionInfo,l.map((t=>({kind:"initial",referenceElement:t.referenceElement,placement:t.placement,offset:t.offset,assistantMaxHeight:e.assistantMaxHeight})))))),l.getOrElse((()=>({kind:"none"})))))),this._subs=new o.w,this._subs.add(this._positionInfo.pipe(s.R(this._internalState.view("dragState").pipe(a.h(l.isSome))),c.b((e=>this._internalState.lens("managedPositionInfo").set(l.some(e))))).subscribe()),this._subs.add(u.R(self,"resize").pipe(c.b((()=>this._internalState.lens("dragState").modify(l.map(r.eG.set("viewportSize",(0,i.zG)((0,r.C7)(),p.H6("width","height")))))))).subscribe())}onFocus(e){this._onFocus(e)}onMount(e){this._internalState.lens("assistant").set(l.some(e))}onResize(e){this._internalState.lens("dragState").modify(l.map(r.eG.set("assistantSize",(0,i.zG)(e,p.H6("width","height")))))}onMaxHeightChange(e){this._internalState.lens("assistantMaxHeight").set(l.some(e))}onDrag(e){this._internalState.modify((t=>Object.assign(Object.assign({},t),{dragState:(0,i.zG)(t.dragState,l.map((0,i.ls)(r.eG.set("translation",e),r.eG.set("dragging",!0))),l.alt((()=>(0,i.zG)(t.assistant,l.map((e=>({assistantRect:e.getBoundingClientRect(),viewportSize:(0,i.zG)((0,r.C7)(),p.H6("width","height"))}))),l.map((({assistantRect:t,viewportSize:n})=>({dragging:!0,viewportSize:n,assistantSize:{width:t.width,height:t.height},translation:e,translationOrigin:{bottom:n.height-(t.top+t.height),right:n.width-(t.left+t.width)}})))))))})))}onDragEnd(){this._internalState.lens("dragState").modify(l.map(r.eG.set("dragging",!1)))}dispose(){this._subs.unsubscribe()}}var m,g,v,b=n(7369),y=n(53875),x=n(78302),w=n(89115),_=n(67457),S=n(42040),k=n(99341),C=n(32952),E=n(78674),O=n(41398),I=n(77176),A=n(98403),T=n(24209),R=n(60797),P=n(19751),N=n(2844),U=n(66310),D=n(76974),B=n(93508),j=n(8125),G=n(45701),L=n(95195),z=n(73975),F=n(83078),M=n(22232),V=n(27605),Z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};!function(e){let t,n;e.isSupportedDynamicAction=(0,j.Kg)(V.aU.DynamicInput.isFollowUpQuestion,V.aU.DynamicInput.isQuickAction),function(e){e.ordByGroup=G.contramap((e=>e.group.rank))(G.ordNumber)}(t=e.SupportedDynamicActions||(e.SupportedDynamicActions={})),function(e){e.make=function(e){return{kind:"backendAction",action:e}}}(n=e.BackendAction||(e.BackendAction={}))}(m||(m={})),function(e){e.eq=L.Eh(z.yv,V.x4.Id.eq),e.card=function(e){return L.F2(e)},e.uiItem=function(e){return L.t$(e)},e.toCard=function(e){return l.fromEither(e)},e.toUIItem=function(e){return(0,i.zG)(e,L.g_(l.some,(()=>l.none)))}}(g||(g={})),function(e){function t(e){return t=>Object.assign(Object.assign({},t),{activeView:e,previousView:t.activeView})}e.create=function(){return{activeView:"loading",previousView:"loading",stagingVoiceProfile:l.none,stagingFeedbackFormData:{},textBox:"",selectedDynamicAction:l.none,contentOverflowUnderToolbar:!1,promptAutofocusToken:0,cardsState:{hoveredCard:l.none,focusedCard:l.none},promptMenu:l.none,reportMenuVisible:l.none}},e.updateActiveView=t,e.goToPreviousView=e=>t(e.previousView)(e)}(v||(v={}));class H{constructor(e,t,n,s,u,p,f,h,b=S.C8.Logging.getLogger(H.name)){var y,x,k;this._userService=e,this._availabilityService=t,this._trackingService=n,this._textEditorService=s,this._uphookService=u,this._feedbackService=p,this._sessionService=f,this._handlers=h,this._log=b,this._state=d.h.create(v.create()),this._subs=new o.w,this._userTyped=new C.xQ,this._promptMenuActions=new C.xQ,this._reportMenuVisibleDebounced=d.h.create(l.none),this.state=d.h.combine(this._state,this._userService.user,this._availabilityService.availability,this._sessionService.session,this._reportMenuVisibleDebounced,((e,t,n,r,o)=>{var{cardsState:s,reportMenuVisible:a}=e,c=Z(e,["cardsState","reportMenuVisible"]);return Object.assign(Object.assign({},c),{user:t,availability:n,session:r,userPromptAction:(0,i.zG)(V.z_.toStarted(r),l.chain((e=>e.context.userPromptAction))),activeCards:new Set((0,i.zG)([s.hoveredCard,(0,i.zG)(s.focusedCard,F.vx((0,i.zG)(o,l.chain(g.toCard))))],w.oA)),canScroll:l.isNone(a),contextualActions:$(r)})})),this._subs.add(this.state.subscribe((e=>this._log.debug("State update",e)))),this._subs.add(this._updateActiveView().subscribe()),this._subs.add(this._userTyped.pipe(E.b(150),O.M(this._state),I.U((([e,t])=>t)),a.h((e=>l.isNone(e.selectedDynamicAction))),c.b((e=>this._promptMenuActions.next({kind:"showSearchRestuls",search:e.textBox})))).subscribe()),this._subs.add((y=this._promptMenuActions,x=this._sessionService.session,k=this._availabilityService.availability,N.aj([y.pipe(U.w((e=>"showSearchRestuls"===e.kind?x.view(V.z_.toStarted).pipe(I.U((t=>(0,i.zG)(t,l.filter((()=>""!==e.search.trim())),l.chain((t=>function(e,t){return(0,i.zG)(e,w.DZ((e=>(0,i.zG)((0,r.lA)(t,e.searchLabel,e.searchTags),l.map((t=>({data:e,matchScore:t})))))),w.DY((0,r.JY)()),w.UI((({data:e})=>e)),_.c2)}((0,i.zG)(t.context.dynamicActions,w.hX(m.isSupportedDynamicAction)),e.search))),l.map((e=>({kind:"searchResults",actions:e}))))))):"showActionsStore"===e.kind?x.view((0,i.ls)($,l.map((e=>({kind:"actionsStore",actions:e}))))):"close"===e.kind?D.of(l.none):(0,M.L0)(e))),B.O(l.none)),k]).pipe(I.U((([e,t])=>(0,i.zG)(e,l.filter((()=>!V.a8.isUnavailable(t)))))))).subscribe(A.wW(this._state.lens("promptMenu")))),this._subs.add(T.T(this._state.view("reportMenuVisible").pipe(R.oA,I.U(l.some)),this._state.view("reportMenuVisible").pipe(P.skipBy(l.getEq(g.eq)),E.b(250),a.h(l.isNone))).subscribe(A.wW(this._reportMenuVisibleDebounced)))}_updateActiveView(){return d.h.combine(this._sessionService.session.view(V.z_.toStarting).view((0,i.ls)(l.chain((e=>e.error)),l.fold(i.jv,i.W8))),this._sessionService.session.view(V.z_.toStarted).view(l.map((e=>({hasResults:e.resultHistory.length>0,hasInProgressResult:l.isSome(e.inProgressResult)})))),this._state.view("selectedDynamicAction").view(l.isSome),((e,t,n)=>{const r=e?l.some("loadingError"):(0,i.zG)(t,l.map((({hasResults:e,hasInProgressResult:t})=>n?"actionSelected":e||t?"afterResults":"beforeResults")));(0,i.zG)(r,F.bw((e=>this._state.modify((t=>"voiceProfile"!==t.activeView&&"feedbackForm"!==t.activeView?v.updateActiveView(e)(t):t)))))}))}notify(e){switch(this._handlers.notify(e),e.kind){case V.ix.Kind.close:return this._close();case V.ix.Kind.goBack:return this._goBack();case V.ix.Kind.openVoiceProfile:return this._openVoiceProfile(e.source);case V.ix.Kind.closeVoiceProfile:return this._closeVoiceProfile();case V.ix.Kind.applyVoiceProfile:return this._applyVoiceProfile();case V.ix.Kind.toggleTone:return this._toggleTone(e.id,e.selected);case V.ix.Kind.selectStyle:return this._selectStyle(e.id);case V.ix.Kind.selectRole:return this._selectRole((0,i.zG)(e.role,l.map((e=>e.id))));case V.ix.Kind.selectDialect:return this._selectDialect(e.dialect.id);case V.ix.Kind.promptFieldChange:return this._updateTextBox(e.text);case V.ix.Kind.promptFieldFocusChange:return this._onPromptFieldFocusChange(e.focused);case V.ix.Kind.clickActionBrick:return this._executeAction(e.action);case V.ix.Kind.promptSend:return this._go();case V.ix.Kind.generateStop:return this._stop();case V.ix.Kind.insert:return this._insert(e.result);case V.ix.Kind.rephrase:return this._rephrase(e.result);case V.ix.Kind.dismissResult:return this._dismissResult(e.result);case V.ix.Kind.dismissError:return this._dismissError();case V.ix.Kind.openFeedbackForm:return this._openFeedbackForm(e.source);case V.ix.Kind.updateFeedbackForm:return this._updateFeedbackForm(e.feedbackData);case V.ix.Kind.submitFeedbackForm:return this._submitFeedbackForm(e.feedbackData);case V.ix.Kind.reportOffensiveResult:return this._reportOffensiveResult(e.result);case V.ix.Kind.reportOffensiveActions:return this._reportOffensiveActions();case V.ix.Kind.clickResultHeader:return this._clickResultHeader(e.prompt);case V.ix.Kind.collapsePromptMenu:return this._collapsePromptMenu();case V.ix.Kind.creditsInfoHover:return this._onCreditsInfoHover();case V.ix.Kind.creditsInfoClick:return this._onCreditsInfoClick(e.userIsFree);case V.ix.Kind.cardHover:return this._onCardHover(e.resultId,e.hovered);case V.ix.Kind.cardFocus:return this._onCardFocus(e.resultId,e.focused);case V.ix.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case V.ix.Kind.mount:e.name===V.ec.creditsInfoButton&&this._uphookService.onShowGetMorePrompts(this._userService.user.get().isFree);break;case V.ix.Kind.unmount:break;case V.ix.Kind.escapePressed:this._onEscapePressed();break;default:(0,M.L0)(e)}}contentOverflowUnderToolbar(e){this._state.lens("contentOverflowUnderToolbar").set(e)}dispose(){this._subs.unsubscribe()}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>l.some(e):l.filter((t=>t!==e)))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>l.some(e):l.filter((t=>t!==e)))}_onCardReportMenuVisibilityChange(e,t){this._state.modify((n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?l.some(e):(0,i.zG)(n.reportMenuVisible,l.filter((t=>!g.eq.equals(t,e)))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:(0,i.zG)(g.toCard(e),l.fold((()=>n.cardsState.hoveredCard),(e=>t?n.cardsState.hoveredCard:(0,i.zG)(n.cardsState.hoveredCard,l.filter((t=>t!==e))))))})})))}_onEscapePressed(){this._sessionService.session.view((e=>"started"===e.kind&&l.isNone(e.inProgressResult))).get()&&this._close()}_close(e=V.z_.EndReason.closed){e===V.z_.EndReason.closed&&this._trackingService.trackAssistantClose(),this._handlers.close(e)}_goBack(){const e=(0,i.zG)(V.z_.toStarted(this._sessionService.session.get()),l.map((e=>e.resultHistory.length>0)),l.fold(i.jv,i.W8));this._state.modify((t=>Object.assign(Object.assign({},"actionSelected"===t.activeView?v.updateActiveView(e?"afterResults":"beforeResults")(t):v.updateActiveView(t.previousView)(t)),{selectedDynamicAction:"actionSelected"===t.activeView?l.none:t.selectedDynamicAction,textBox:"actionSelected"===t.activeView?"":t.textBox})))}_openVoiceProfile(e){(0,i.zG)(V.z_.toStarted(this._sessionService.session.get()),F.bw((t=>{this._trackingService.trackVoiceProfileOpen(e),this._state.modify((0,i.ls)(v.updateActiveView("voiceProfile"),k.e.set("stagingVoiceProfile",l.some({selectedStyle:t.voiceProfile.selectedStyle,selectedTonesPerStyle:t.voiceProfile.selectedTonesPerStyle,selectedRole:t.voiceProfile.selectedRole,selectedDialect:t.voiceProfile.selectedDialect,needsSetup:t.voiceProfile.needsSetup})),k.e.set("reportMenuVisible",l.none),k.e.set("cardsState",{hoveredCard:l.none,focusedCard:l.none})))})))}_closeVoiceProfile(){this._trackingService.trackVoiceProfileSkip(),this._state.modify((e=>(0,i.zG)(v.updateActiveView(e.previousView)(e),k.e.set("stagingVoiceProfile",l.none))))}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._state.modify((e=>(0,i.zG)(v.updateActiveView(e.previousView)(e),k.e.set("stagingVoiceProfile",l.none)))),(0,i.zG)(e,F.bw((e=>{this._sessionService.setVoiceProfile(e)})))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(l.map((n=>Object.assign(Object.assign({},n),{selectedTonesPerStyle:(0,i.zG)(n.selectedTonesPerStyle,t?(0,k.n)(V.LA.Style.Id.eq)(n.selectedStyle,l.fold((()=>new Set([e])),x.$T(V.LA.Tone.Id.eq)(e))):(0,i.ls)(y.cq(V.LA.Style.Id.eq)(n.selectedStyle,x.Od(V.LA.Tone.Id.eq)(e)),l.getOrElse((()=>n.selectedTonesPerStyle))))}))))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedStyle:e}))))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedRole:e}))))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))}_updateTextBox(e){this._state.lens("textBox").set(e),this._userTyped.next(e)}_onPromptFieldFocusChange(e){this._handlers.onFocus(e),""===this._state.view("textBox").get().trim()||e||this._trackingService.trackPromptSearch()}_executeAction(e){if(this._promptMenuActions.next({kind:"close"}),"backendAction"===e.kind)if(V.aU.DynamicInput.isFollowUpQuestion(e.action)){const t=e.action;this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.some(t)})))}else V.aU.DynamicInput.isQuickAction(e.action)?(this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.none}))),this._sessionService.submitAction(e.action)):(0,M.L0)(e.action);else"allResults"===e.kind?(this._trackingService.trackActionsOpenStore(),this._promptMenuActions.next({kind:"showActionsStore"})):"go"===e.kind?this._go():(0,M.L0)(e)}_go(){this._promptMenuActions.next({kind:"close"}),l.isSome(this._state.get().selectedDynamicAction)?this._submitSelectedFollowUpAction():this._submitCustomPrompt()}_stop(){this._sessionService.stopInProgressResult()}_insert(e){this._sessionService.trackResultInsert(e.id),this._textEditorService.insertText(e.text),this._close(V.z_.EndReason.textInserted)}_rephrase(e){this._sessionService.regenerateResult(e.id)}_dismissResult(e){this._sessionService.dismissResult(e.id),this._state.modify((t=>Object.assign(Object.assign({},t),{reportMenuVisible:(0,i.zG)(t.reportMenuVisible,l.filter((t=>!g.eq.equals(t,g.card(e.id))))),cardsState:{hoveredCard:(0,i.zG)(t.cardsState.hoveredCard,l.filter((t=>t!==e.id))),focusedCard:(0,i.zG)(t.cardsState.hoveredCard,l.filter((t=>t!==e.id)))}})))}_dismissError(){this._sessionService.dismissError()}_openFeedbackForm(e){this._state.modify((t=>Object.assign(Object.assign({},v.updateActiveView("feedbackForm")(t)),{stagingFeedbackFormData:{source:e},reportMenuVisible:l.none,cardsState:{hoveredCard:l.none,focusedCard:l.none}})))}_updateFeedbackForm(e){this._state.modify((t=>Object.assign(Object.assign({},t),{stagingFeedbackFormData:Object.assign(Object.assign({},t.stagingFeedbackFormData),e)})))}_submitFeedbackForm(e){this._state.modify((e=>Object.assign(Object.assign({},v.goToPreviousView(e)),{stagingFeedbackFormData:{}}))),this._feedbackService.submitFeedback(e)}_reportOffensiveResult(e){this._sessionService.trackResultOffensive(e.id)}_reportOffensiveActions(){this._sessionService.trackActionsOffensive()}_clickResultHeader(e){this._state.modify((t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1})))}_collapsePromptMenu(){this._promptMenuActions.next({kind:"close"})}_onCreditsInfoHover(){this._trackingService.trackUsageInfoHover()}_onCreditsInfoClick(e){this._trackingService.trackUsageInfoClick(),this._uphookService.onClickGetMorePrompts(e)}_submitSelectedFollowUpAction(){const e=(0,i.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)));(0,i.zG)(b.Yt(l.option)({text:e,selectedDynamicAction:this._state.get().selectedDynamicAction}),l.map((({text:e,selectedDynamicAction:t})=>V.aU.FollowUpQuestionValue.fromInputAndValue(t,e))),F.bw((e=>{this._state.modify((e=>Object.assign(Object.assign({},e),{selectedDynamicAction:l.none,textBox:""}))),this._sessionService.submitAction(e)})))}_submitCustomPrompt(){(0,i.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)),l.chain((e=>(0,i.zG)(V.z_.toStarted(this._sessionService.session.get()),l.chain((e=>e.context.userPromptAction)),l.map((t=>({userPromptAction:t,text:e})))))),F.bw((({text:e,userPromptAction:t})=>{this._state.lens("textBox").set(""),this._sessionService.submitAction(V.aU.UserPromptValue.fromInput(t,e))})))}}function $(e){return(0,i.zG)(V.z_.toStarted(e),l.map((e=>e.context.dynamicActions)),l.chain((0,i.ls)(w.hX(m.isSupportedDynamicAction),_.c2)))}var K,W,q=n(80900),Y=n(28043);class Q{constructor(e,t,n=3e3,i=1){this._assistantUIActions=e,this._activeView=t,this._notificationsDurationMs=n,this._maxNotificationsCountAtOnce=i,this._state=d.h.create([]),this._notificationsSubs=new Map,this._subs=new o.w,this._nextToastId=0,this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(w.hX((t=>t.id!==e)))}clearAll(){this._notificationsSubs.forEach((e=>e.unsubscribe())),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){const t=this._nextToastId++;this._notificationsSubs.set(t,q.H(this._notificationsDurationMs).subscribe((()=>this.dismiss(t)))),this._state.modify((0,i.ls)(w.QI({kind:e,id:t}),w.ke(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(a.h((0,j.Kg)(V.ix.is(V.ix.Kind.submitFeedbackForm),V.ix.is(V.ix.Kind.reportOffensiveResult),V.ix.is(V.ix.Kind.reportOffensiveActions))),c.b((()=>this._showNotification(V.Cl.Kind.feedbackSubmitted))))}_clearNotificationsOnViewChange(){return this._activeView.pipe(Y.x(),c.b((e=>{"feedbackForm"!==e&&"voiceProfile"!==e||this.clearAll()})))}}!function(e){e.create=function(e,t,n,i,r,o,s,a,c){const u=W.create(e,t,n,i,r,o,s,a),l=new h(c,(e=>a.onFocus(e)));return Object.assign(Object.assign({},u),{position:l,dispose:()=>{l.dispose(),u.dispose()}})}}(K||(K={})),function(e){e.create=function(e,t,n,i,r,o,s,a){const c=new C.xQ,u=new H(e,t,n,i,r,o,s,Object.assign(Object.assign({},a),{notify:e=>{c.next(e),a.notify(e)}})),l=new Q(c,u.state.view("activeView"));return{assistant:u,notifications:l,dispose:()=>{l.dispose(),u.dispose()}}}}(W||(W={}));var X=n(27378),J=n(34217),ee=n(19703),te=n(12187),ne=n(74204),ie=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const re=e=>{var{placement:t,onMount:n,onMaxSizeChange:o,children:s}=e,a=ie(e,["placement","onMount","onMaxSizeChange","children"]);const[c,u]=X.useState(null),p="initial"===t.kind?t:void 0,d=(0,r.gM)(o),{styles:f}=(0,ne.D)(null==p?void 0:p.referenceElement,c,{placement:null==p?void 0:p.placement,modifiers:[d,...(0,i.zG)((null==p?void 0:p.offset)||l.none,l.fold((()=>[]),(e=>[{name:"offset",options:{offset:e}}])))]});return X.createElement("div",Object.assign({ref:e=>{u(e),e&&e!==c&&n(e)},style:"initial"===t.kind?f.popper:{position:"fixed",top:t.referencePosition.top,left:t.referencePosition.left,bottom:t.referencePosition.bottom,right:t.referencePosition.right,transform:`translate(${t.translation.x}px, ${t.translation.y}px)`},tabIndex:0},a),s)},oe=X.createContext({portalContainer:d.h.create(l.none)});var se=n(89894),ae=n(62172),ce=n(88392),ue=n(9546);const le="content",pe="toolbar",de=e=>se.ux.color(ae.BlueGray40).toRGBA().fade(e).toString(),fe={fontFamily:"Inter, sans-serif",width:se.ux.rem(26.875),boxShadow:`0px 0px 0px 0.5px ${ae.BlueGray40}, 0px 0px 2px 0.5px ${de(.5)}, 0px 1px 8px 0.5px ${de(.1)}, 0px 2px 12px 0.5px ${de(.1)}, 0px 4px 20px 0.5px ${de(.25)}`,backdropFilter:`blur(${se.ux.rem(.34375)})`,borderRadius:se.ux.rem(ce.ze),background:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{"&[data-dragging='true']":{cursor:"grabbing",$nest:{[`.${le}`]:{pointerEvents:"none"},[`.${pe}`]:{pointerEvents:"none"}}}}},he={maxWidth:se.ux.rem(40),minWidth:se.ux.rem(18),width:se.ux.percent(100)},me={display:"flex",alignItems:"center",justifyContent:"space-between",gap:se.ux.rem(ue.x),padding:`${se.ux.rem(ue.F2)} ${se.ux.rem(ue.x)}`,height:se.ux.rem(2.5),boxSizing:"border-box"},ge={borderBottom:`0.5px solid ${ae.BlueGray10}`},ve={container:se.ux.style(fe),fixedContainer:se.ux.style(fe,he),toolbar:se.ux.joinClasses([pe,se.ux.style(me)]),toolbarDraggable:se.ux.joinClasses([pe,se.ux.style(me,{cursor:"grab",$nest:{"&:active":{cursor:"grabbing"}}})]),toolbarOverflow:se.ux.style(ge),content:le};var be=n(15906),ye=n(90845),xe=n(99094),we=n(31278);const _e=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{ref:i,onMount:r}=ye.P.useElWatcher();return X.createElement(oe.Provider,{value:{portalContainer:i}},X.createElement(xe.f.Context.Provider,{value:xe.f.emptyWithName("cheetahAssistant")},X.createElement(ee.F.Fragment,null,t.pipe(I.U((t=>"initial"===t.kind||"dragged"===t.kind?X.createElement(re,{placement:t,onFocus:n({kind:"focus",focused:!0}),onBlur:n({kind:"focus",focused:!1}),onMount:e=>{n({kind:"mount",element:e})(),r(e)},onMaxSizeChange:e=>n({kind:"maxSize",maxSize:e})(),"data-grammarly-part":"ideation-assistant","data-dragging":"dragged"===t.kind&&t.dragging,className:ve.container},X.createElement("header",Object.assign({},(0,te.Sh)(ve.toolbarDraggable,t.contentOverflowUnderToolbar?ve.toolbarOverflow:null),{ref:e=>e&&n({kind:"dragHandleMount",element:e})()}),e.toolbar,X.createElement(be.zx.Tertiary,{onClick:n({kind:V.ix.Kind.close}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},X.createElement(we.JO.Close,null))),X.createElement("main",{className:ve.content},e.content)):"none"===t.kind?null:(0,M.L0)(t)))))))}));var Se=n(38194),ke=n(49143),Ce=n(14811),Ee=n(83401);function Oe(e,t){return(0,i.ls)(Se.B(),(n=>T.T(n.pipe(c.b((n=>function(e,t,n){switch(e.kind){case"focus":return t.onFocus(e.focused);case"mount":return t.onMount(e.element);case"maxSize":return t.onMaxHeightChange(e.maxSize.height);case"dragHandleMount":break;case V.ix.Kind.close:return n.notify(e);default:(0,M.L0)(e)}}(n,e,t))),ke.l()),n.pipe(function(e){return(0,i.ls)(I.U((e=>"dragHandleMount"===e.kind?l.some(e.element):l.none)),R.oA,(0,r.uj)(),(t=e,(0,i.ls)(Se.B(),(e=>(0,i.zG)(T.T(e.pipe(a.h((e=>r.E9.l1Distance(r.E9.fromCartesian(e.translate),r.E9.fromCartesian(e.lastTranslate))>=3)),c.b((e=>t.onDrag(e.translate)))),e.pipe(a.h((e=>e.dragEnd)),c.b((()=>t.onDragEnd())))),ke.l())))),ke.l());var t}(e)),n.pipe(function(e){return(0,i.ls)(I.U((e=>"mount"===e.kind?l.some(e.element):l.none)),R.oA,U.w((e=>Ce.YC(e).pipe(B.O(null),I.U((()=>e.getBoundingClientRect()))))),c.b((t=>e.onResize(t))),ke.l())}(e)),n.pipe((0,i.ls)(I.U((e=>"mount"===e.kind?l.some(e.element):l.none)),R.oA,I.U(l.some),ye.P.FocusTrap.dynamicFocusTrap(ye.P.FocusTrap.InitialFocus.none,Ie,Ae),ke.l())),N.aj([e.state,t.state]).pipe(I.U((([e,{contentOverflowUnderToolbar:t,activeView:n}])=>Object.assign(Object.assign({},e),{contentOverflowUnderToolbar:t&&"voiceProfile"!==n&&"feedbackForm"!==n})))))))}function Ie(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function Ae(e,t){return e instanceof HTMLIFrameElement?e.contentDocument?u.R(e.contentDocument.body,t):Ee.C:u.R(e,t)}const Te=J.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{ref:r,onMount:o}=ye.P.useElWatcher();return X.createElement(oe.Provider,{value:{portalContainer:r}},X.createElement(xe.f.Context.Provider,{value:xe.f.emptyWithName("cheetahAssistant")},X.createElement(ee.F.Fragment,null,t.pipe(I.U((t=>X.createElement(ee.F.div,{key:"ideation-assistant-container",className:ve.fixedContainer,mount:e=>{(0,i.zG)(l.fromNullable(e),F.bw((e=>{n({kind:"mount",element:e})}))),o(e)}},X.createElement(ee.F.header,Object.assign({},(0,te.Sh)(ve.toolbar,t.contentOverflowUnderToolbar?ve.toolbarOverflow:null)),e.toolbar,X.createElement(be.zx.Tertiary,{onClick:n({kind:V.ix.Kind.close}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},X.createElement(we.JO.Close,null))),X.createElement(ee.F.main,{className:ve.content},e.content))))))))}));var Re=n(13578);const Pe="brick",Ne=r.Es.buttonOverrideSpecificity({padding:`0 ${se.ux.rem(ue.x)} 0 ${se.ux.rem(ue.F2)}`},Pe),Ue={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x)},De=r.Es.buttonOverrideSpecificity({minHeight:se.ux.rem(1.75),fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),color:ae.BlueGray80},Pe),Be=r.Es.buttonOverrideSpecificity({minHeight:se.ux.rem(2),fontSize:se.ux.rem(.875),lineHeight:se.ux.rem(1.375),color:Re.XY.Content.Primary.Default},Pe),je=r.Es.buttonOverrideSpecificity({boxShadow:`inset 0 0 0 ${se.ux.rem(.125)} ${r.BO.BrandGreen60}`},Pe),Ge={textAlign:"left",whiteSpace:"initial",lineHeight:se.ux.rem(1.125),margin:`${se.ux.rem(.25)} 0 ${se.ux.rem(.25)} 0`},Le=Object.assign({},r.Es.iconSizeRems(1.5)),ze={brick:se.ux.joinClasses([Pe,se.ux.style(Ne)]),content:se.ux.style(Ue),compact:se.ux.style(De),standard:se.ux.style(Be),goAction:se.ux.style(je),label:se.ux.style(Ge),ideasIcon:se.ux.style(Le),goIcon:se.ux.style(Le)};var Fe=n(97547);const Me=(0,te.xb)(be.zx.Secondary),Ve=J.UI.Node.make((({view:e,notify:t})=>X.createElement(Me,Object.assign({onClick:e("action").pipe(I.U((e=>t({kind:V.ix.Kind.clickActionBrick,action:e})))),name:"actionBrick"},(0,te.Sh)(ze.brick,e("action").pipe(I.U((({kind:e})=>"go"===e?ze.goAction:null))),e("mode").pipe(I.U((e=>"compact"===e?ze.compact:"standard"===e?ze.standard:(0,M.L0)(e)))))),X.createElement(ee.F.div,{className:ze.content},e("icon").pipe(I.U(L.g_((({kind:e})=>{switch(e){case"allResults":return X.createElement(be.k8,{className:ze.ideasIcon});case"go":return X.createElement(be.CT,{className:ze.goIcon});default:(0,M.L0)(e)}}),(({url:e})=>X.createElement("img",{src:e,style:{width:20,height:20}}))))),X.createElement(ee.F.span,Object.assign({className:ze.label},(0,Fe.E)(e("label"))))))));function Ze(e,t,n){return J.Z.fromSideEffect((t=>e.notify(t)),N.aj([t,e.state.view("textBox")]).pipe(I.U((([e,t])=>({icon:"backendAction"===e.kind?L.F2({url:e.action.iconUrl}):L.t$({kind:e.kind}),label:"backendAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:(0,M.L0)(e),action:e,mode:n})))))}const He=J.UI.List.make(w.Bk,Ve);function $e(e,t,n){return J.Z.composeList(w.Bk,(()=>t.pipe(I.U(l.getOrElse((()=>[]))))),(t=>Ze(e,D.of(t),n)))}function Ke(e=3,t=(t=>t.length>e)){return n=>t(n)?_.Ss(w.ke(e)(n),{kind:"allResults"}):n}const We={background:"white",display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x)},qe={color:Re.XY.Content.Secondary.Default,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ye={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:se.ux.rem(ue.x)},Qe=se.ux.prefixedStylesheet("action_group",{container:[We],header:[qe],content:[Ye]}),Xe=({className:e,children:t,header:n})=>X.createElement("div",Object.assign({},(0,te.Sh)(Qe.container,e)),n?X.createElement("div",{className:Qe.header},n):null,X.createElement("div",{className:Qe.content},t)),Je={background:"transparent",padding:`${se.ux.rem(ue.x)} 0`},et=se.ux.prefixedStylesheet("action_groups",{group:[Je]}),tt=J.UI.Grid.make((({slots:e,view:t})=>X.createElement(Xe,{header:X.createElement(ee.F.Fragment,null,t("group")),className:et.group},e.actions))),nt=J.UI.Knot.make(tt,{actions:He}),it=J.UI.List.make(w.Bk,nt);function rt(e,t){return J.Z.composeList(w.Bk,(()=>t),(t=>function(e,t){return J.Z.composeKnot({root:()=>D.of({group:t.group}),actions:$e(e,D.of(l.some(t.actions)),"standard")})}(e,t)))}const ot={display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x)},st={position:"relative",backgroundColor:ae.White,padding:`${se.ux.rem(ue.F2)} ${se.ux.rem(ue.qp)}`,border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe)},at={position:"absolute",top:se.ux.rem(ue.qp),right:se.ux.rem(ue.qp)},ct=se.ux.stylesheet({wrapper:[ot],actionsContainer:[st],reportMenu:[at]}),ut={display:"flex",flexDirection:"column",padding:se.ux.rem(ue.qp),border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),gap:se.ux.rem(ue.yC)},lt={color:Re.XY.Content.Secondary.Default,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},pt={color:Re.XY.Content.Primary.Default,fontStyle:"normal",fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{color:ae.Blue60,fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:se.ux.rem(1),height:se.ux.rem(1),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${ae.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${ae.Blue60}"/></svg>`)}')`}}}}},dt={container:se.ux.style(ut),header:se.ux.style(lt),text:se.ux.style(pt)},ft=J.UI.Node.make((({view:e})=>X.createElement("div",{className:dt.container},X.createElement(ee.F.div,{className:dt.header},e("header")),X.createElement(ee.F.div,Object.assign({className:dt.text},(0,Fe.E)(e("text"),[...Fe.ap,"person"])))))),ht=J.UI.Union.asOption(ft),mt="setVoiceBtn",gt={padding:se.ux.rem(ue.qp),border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},vt={fontWeight:700,fontSize:se.ux.rem(.875),lineHeight:se.ux.rem(1.375),color:Re.XY.Content.Primary.Default},bt={fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),color:Re.XY.Content.Secondary.Default},yt=r.Es.buttonOverrideSpecificity({marginTop:se.ux.rem(ue.x),padding:`0 ${se.ux.rem(ue.x)} 0 ${se.ux.rem(ue.F2)}`,lineHeight:se.ux.rem(1.125),gap:se.ux.rem(ue.F2),$nest:{"& > i":Object.assign({marginLeft:0},r.Es.iconSizeRems(1.5))}},mt),xt={container:se.ux.style(gt),header:se.ux.style(vt),description:se.ux.style(bt),setVoiceBtn:se.ux.joinClasses([mt,se.ux.style(yt)]),voiceIcon:se.ux.style({stroke:"white"})},wt=J.UI.Node.make((({notify:e})=>X.createElement("div",{className:xt.container},X.createElement("div",{className:xt.header},"Set your voice"),X.createElement("div",{className:xt.description},"Choose how you want your generated text to sound."),X.createElement(be.zx.Primary,{className:xt.setVoiceBtn,onClick:e({kind:V.ix.Kind.openVoiceProfile,source:"banner"}),name:"bannerVoiceProfile",size:"small"},X.createElement(be.uA,{className:xt.voiceIcon}),"Set voice")))),_t=J.UI.Union.asOption(wt);function St(e){return J.Z.fromSideEffect((t=>e.notify(t)),null)}var kt=n(80544),Ct=n(79692),Et=n(9223),Ot=n(93002),It=n(11227),At=n(74911),Tt=n(55935),Rt=n(13444),Pt=n(93497);const Nt="reportMenuBtnIcon",Ut=r.Es.buttonOverrideSpecificity(r.Es.iconSizeRems(1.5),Nt),Dt=X.memo((function({className:e,reportMenuButtonClassName:t,onClickReportOffensive:n,onClickProvideFeedback:r,onVisibilityChange:o}){const{ref:s,onMount:a}=ye.P.useElWatcher(),u=X.useMemo((()=>d.h.create(!1)),[]),[p,f]=X.useState("Provide feedback"),h=X.useMemo((()=>u.pipe(Tt.T(1),U.w((e=>e?D.of(!1):D.of(!1).pipe(Rt.g(250),B.O(!0)))),Pt.n((e=>!e)),Y.x(),c.b((e=>{var t;e?(null===(t=l.toNullable(s.get()))||void 0===t||t.focus(),f("")):f("Provide feedback")})))),[u]);return ye.P.useSubscriptionTo(h),X.createElement(oe.Consumer,null,(({portalContainer:s})=>X.createElement(ee.F.Fragment,null,s.view(l.fold(i.gn,(i=>X.createElement("div",{className:e},X.createElement(Ot.v.Dropdown,{"aria-label":p,name:"reportMenu",label:X.createElement("div",{ref:a},X.createElement(It.Gv,{className:se.ux.joinClasses([Nt,se.ux.style(Ut)])})),placement:"bottom end",appearanceBehavior:"mouseClick",theme:{button:se.ux.joinClasses([t,(0,At.P)({type:"tertiary",compact:!0,size:"small"})])},onAction:e=>{switch(e){case"provideFeedback":return r();case"reportOffensive":return n()}},onOpenChange:e=>{null==o||o(e),u.set(e)},portalContainer:i},X.createElement(Ot.v.Item,{key:"provideFeedback",textValue:"provideFeedback"},X.createElement(we.JO.AssistantFeedback,null),"Share your thoughts"),X.createElement(Ot.v.Item,{key:"reportOffensive",textValue:"reportOffensive"},X.createElement(we.JO.Report,null),"Report as offensive")))))))))})),Bt=X.createContext({notifyUnmount:i.Q1}),jt=J.UI.Knot.make(J.UI.Grid.make((({slots:e,notify:t,state:n})=>{const{ref:i,onMount:r}=ye.P.useElWatcher(),{notifyUnmount:o}=X.useContext(Bt),s=X.useMemo((()=>i.pipe(kt.QV(Ct.E),R.oA,c.b((e=>t({kind:V.ix.Kind.mount,name:V.ec.initialActionsList,element:e})())),Et.x((()=>o({kind:V.ix.Kind.unmount,name:V.ec.initialActionsList}))))),[i]);return ye.P.useSubscriptionTo(s),X.createElement("div",{className:ct.actionsContainer,ref:r},X.createElement(ee.F.Fragment,null,n.pipe(I.U((({isQuickReply:e})=>e?X.createElement(Dt,{className:ct.reportMenu,onClickProvideFeedback:t({kind:V.ix.Kind.openFeedbackForm,source:V.x2.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:V.ix.Kind.reportOffensiveActions}),onVisibilityChange:e=>t({kind:V.ix.Kind.reportMenuVisibilityChange,trigger:g.uiItem(V.ec.initialActionsList),visible:e})()}):null))),e.actions))})),{actions:it}),Gt=J.UI.Union.asOption(jt),Lt=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:ct.wrapper},e.voiceBanner,e.intent,e.initialActions))),zt=J.UI.Knot.make(Lt,{voiceBanner:_t,intent:ht,initialActions:Gt}),Ft=J.UI.Union.asOption(zt);var Mt=n(45626);function Vt(e){const t=e.state.view("session").view((0,i.ls)(Mt.z.toStarted,l.filter((e=>Mt.z.Mode.isQuickReply(e.mode))),l.map(p.ei("context")),l.chain((e=>e.intent))));return J.Z.composeOption(function(e){return()=>e.pipe(R.oA)}(t),(()=>t))}function Zt(e){const t=e.state.view("session").view((0,i.ls)(Mt.z.toStarted,l.chain((e=>e.selectedText)))),n=e.state.view("session").view((0,i.ls)(Mt.z.toStarted,l.fold(i.jv,(e=>e.voiceProfile.needsSetup)))),r=e.state.view("session").view((0,i.ls)(Mt.z.toStarted,l.fold(i.jv,(e=>Mt.z.Mode.isQuickReply(e.mode))))),o=d.h.combine(e.state.view("contextualActions"),t,r,((e,t,n)=>(0,i.zG)(e,l.map(_.UI(m.BackendAction.make)),l.map((e=>_.of({group:n?"Ways to reply":l.isSome(t)?`Your text: "${t.value}"`:"Ideas for you",actions:n?e:Ke()(e)}))))));return J.Z.composeOption(function(e,t,n,i){return J.Z.composeKnot({initialActions:Ht(e,t,i),voiceBanner:J.Z.composeOption(St(e),(()=>n.view((e=>e?l.some(null):l.none)))),intent:Vt(e)})}(e,o,n,r),(()=>d.h.combine(o,n,((e,t)=>l.isSome(e)||t?l.some(null):l.none))))}function Ht(e,t,n){return J.Z.composeOption(J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),n.view((e=>({isQuickReply:e})))),actions:rt(e,t.pipe(R.oA))}),(()=>t))}const $t={border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),padding:se.ux.rem(ue.qp),background:"white",display:"flex",alignItems:"center",flexDirection:"row",gap:se.ux.rem(ue.x),color:Re.XY.Content.Secondary.Default,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},Kt=se.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),Wt=Object.assign({animation:`${Kt} 1s linear infinite`},r.Es.iconSizeRems(1)),qt=se.ux.prefixedStylesheet("loading",{container:[$t],icon:[Wt]}),Yt=J.UI.Node.make((({view:e})=>X.createElement(ee.F.div,{className:qt.container},X.createElement(be.Ho,{className:qt.icon}),e("loadingMessage"))));function Qt(e){return()=>e.state.view("session").view(V.z_.toStarted).view((0,i.ls)(l.map((e=>e.context)),l.filter(V._y.isPending),l.fold((()=>({loadingMessage:"Working on it..."})),(e=>({loadingMessage:e.loadingMessage})))))}var Xt=n(99223);const Jt="primaryBtn",en="rephraseBtn",tn="dismissBtn",nn="reportBtn",rn="editHeaderBtn",on="headerBtn",sn="ignoreIcon",an=r.Es.buttonOverrideSpecificity(r.Es.iconSizeRems(1.5),sn),cn={dismissButton:tn,reportButton:nn,insertButton:Jt,rephraseButton:en,editHeaderButton:rn,ignoreIcon:se.ux.joinClasses([sn,se.ux.style(an)])},un={background:"white",$nest:{[`& .${tn}, & .${nn}`]:{opacity:1,pointerEvents:"auto"},[`& ${r.Es.repeatClassSelector(Jt,Xt.cheetahButtonContentOverrideSpecificity)}`]:{color:"white",backgroundColor:r.BO.BrandGreen60,border:"1px solid transparent"}}},ln={display:"flex",flexDirection:"column",padding:se.ux.rem(ue.qp),gap:se.ux.rem(ue.x),background:"transparent",border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),$nest:{"&:not(:last-of-type)":{borderBottom:`0.5px solid ${ae.BlueGray10}`},[`& ${r.Es.repeatClassSelector(Jt,Xt.cheetahButtonContentOverrideSpecificity)}`]:{lineHeight:se.ux.rem(1.125),backgroundColor:"white",color:Re.XY.Content.Secondary.Default,border:`1px solid ${ae.BlueGray5}`,boxSizing:"border-box"},[`& ${r.Es.repeatClassSelector(en,Xt.cheetahButtonContentOverrideSpecificity)}`]:{lineHeight:se.ux.rem(1.5)},[`& .${tn}, & .${nn}`]:{opacity:0,pointerEvents:"none",justifyContent:"center"},"&:focus, &:hover":Object.assign({},un),"&[data-active='true']":Object.assign({},un)}},pn={gap:se.ux.rem(ue.x),display:"flex",alignItems:"center",justifyContent:"space-between"},dn={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x)},fn=dn,hn={container:se.ux.style(ln),footer:se.ux.style(pn),footerLeft:se.ux.style(dn),footerRight:se.ux.style(fn)},mn=r.Es.buttonOverrideSpecificity({height:se.ux.rem(1.5),lineHeight:se.ux.rem(1.125),padding:`0 ${se.ux.rem(ue.F2)}`,margin:`0 ${se.ux.rem(-ue.F2)}`,$nest:{[`& .${rn}`]:{opacity:0,pointerEvents:"none"},"&:focus, &:hover":{background:ae.BlueGray0,[`& .${rn}`]:{opacity:1,pointerEvents:"auto",color:Re.XY.Content.Primary.Default}}}},on),gn={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x+ue.yC),height:se.ux.rem(1.5),fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),color:ae.BlueGray60},vn={display:"flex",justifyContent:"space-between",width:"100%",gap:se.ux.rem(ue.F2)},bn=se.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),yn={marginBottom:`-${se.ux.rem(ue.yC)}`,display:"inline-flex",alignItems:"center",justifyContent:"center",animation:`${bn} 1s linear infinite`,width:se.ux.rem(1),height:se.ux.rem(1),minWidth:se.ux.rem(1),minHeight:se.ux.rem(1)},xn={header:se.ux.style(gn),headerButton:se.ux.joinClasses([on,se.ux.style(mn)]),headerWrapper:se.ux.style(vn),loadingIcon:se.ux.style(yn),label:se.ux.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"})},wn=({isActive:e,id:t,children:n,onHovered:i,onFocused:r})=>{const o=X.useRef(null),s=X.useCallback((()=>{var e,t;return null===(t=(null===(e=document.activeElement)||void 0===e?void 0:e.shadowRoot)||document)||void 0===t?void 0:t.activeElement}),[]);return X.createElement("div",{ref:o,className:hn.container,"data-active":e,"data-id":t,onMouseEnter:()=>null==i?void 0:i(!0),onMouseLeave:()=>null==i?void 0:i(!1),onFocus:()=>{var e;return null==r?void 0:r((null===(e=o.current)||void 0===e?void 0:e.contains(s()))||!1)},onBlur:()=>{var e;return null==r?void 0:r((null===(e=o.current)||void 0===e?void 0:e.contains(s()))||!1)}},n)},_n=({header:e,footer:t,isActive:n,resultId:i,onHovered:r,onFocused:o,body:s})=>X.createElement(wn,{id:i,isActive:n,onHovered:r,onFocused:o},e,s,t),Sn=({onInsert:e,onRephrase:t,onDismiss:n,onProvideFeedback:i,onReportOffensive:r,onReportMenuVisibilityChange:o,disabled:s})=>X.createElement("div",{className:hn.footer},X.createElement("div",{className:hn.footerLeft},X.createElement(be.zx.Primary,{className:cn.insertButton,name:"insertResult",onClick:e,size:"small"},"Insert"),X.createElement(be.zx.Tertiary,{className:cn.rephraseButton,name:"rephraseResult",onClick:t,disabled:s,size:"small"},"Rephrase")),X.createElement("div",{className:hn.footerRight},X.createElement(be.zx.Tertiary,{onClick:n,className:cn.dismissButton,compact:!0,size:"small",name:"dismissResult",title:"Delete"},X.createElement(be.L3,{className:cn.ignoreIcon})),X.createElement(Dt,{reportMenuButtonClassName:cn.reportButton,onClickProvideFeedback:i,onClickReportOffensive:r,onVisibilityChange:o}))),kn=({header:e,onClick:t,disabled:n})=>X.createElement(be.zx.Tertiary,{compact:!0,disabled:n,onClick:t,className:xn.headerButton,name:"editResultPrompt",size:"small"},X.createElement("div",{className:xn.headerWrapper},X.createElement("div",Object.assign({className:xn.label},(0,Fe.E)(e))),X.createElement("div",{className:cn.editHeaderButton},"Edit"))),Cn=({iconUrl:e,loading:t,header:n})=>X.createElement("div",{className:xn.header},t?X.createElement(be.Ho,{className:xn.loadingIcon}):(0,i.zG)(e,l.fold(i.gn,(e=>X.createElement("img",{src:e,style:{width:se.ux.rem(1.25),height:se.ux.rem(1.25)}})))),X.createElement("span",Object.assign({className:xn.label},(0,Fe.E)(n))));var En=n(36991),On=n(65223);const In={whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:se.ux.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:se.ux.rem(1.3125),color:Re.XY.Content.Primary.Default},An={backgroundColor:ae.Green0,borderRadius:se.ux.rem(ce.fe)},Tn={backgroundColor:ae.Blue0,borderRadius:se.ux.rem(ce.fe)},Rn={result:se.ux.style(In),insertPart:se.ux.style(An),knowledgeHubPart:se.ux.style(Tn)};var Pn;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(Pn||(Pn={}));const Nn=({delta:e})=>X.createElement("div",{className:Rn.result},e.map(((e,t)=>{if(!En.s.isInsert(e))return null;switch(Dn(e.attributes)){case Pn.generatedText:return X.createElement(Bn,{key:t},e.insert);case Pn.knowledgeHubTerm:return X.createElement(jn,{key:t},e.insert);default:return X.createElement(Gn,{key:t},e.insert)}})));var Un;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(Un||(Un={}));const Dn=e=>{switch(!0){case null==e?void 0:e[Un.knowledgeHubTerm]:return Pn.knowledgeHubTerm;case null==e?void 0:e[Un.generatedText]:return Pn.generatedText;default:return Pn.none}},Bn=({children:e})=>X.createElement("span",{className:Rn.insertPart},e),jn=({children:e})=>X.createElement(On.u,{title:"from knowledge share"},X.createElement("span",{className:Rn.knowledgeHubPart},e)),Gn=({children:e})=>X.createElement("span",null,e),Ln=({text:e})=>""!==e.trim()?X.createElement("div",{className:Rn.result},e):null,zn=J.UI.Node.make((({state:e})=>X.createElement(ee.F.Fragment,null,e.pipe(I.U((({result:e})=>X.createElement(_n,{resultId:"in-progress",body:X.createElement(Ln,{text:e.text}),header:X.createElement(Cn,{header:"Working on it...",iconUrl:l.none,loading:!0}),isActive:!0}))))))),Fn=J.UI.Union.asOption(zn);function Mn(e){const t=e.state.view("session").view(V.z_.toStarted).view((0,i.ls)(l.chain(p.ei("inProgressResult")),l.map((e=>({result:e})))));return J.Z.composeOption((()=>t.pipe(R.oA)),(()=>t))}const Vn=J.UI.Grid.make((({slots:e,state:t,notify:n})=>X.createElement(ee.F.Fragment,null,t.pipe(I.U((({result:t,disabled:i,isActive:r})=>X.createElement(_n,{resultId:t.id,body:X.createElement(Nn,{delta:t.delta}),header:e.header,footer:X.createElement(Sn,{onRephrase:n({kind:V.ix.Kind.rephrase,result:t}),onInsert:n({kind:V.ix.Kind.insert,result:t}),onDismiss:n({kind:V.ix.Kind.dismissResult,result:t}),onProvideFeedback:n({kind:V.ix.Kind.openFeedbackForm,source:V.x2.Source.resultCard}),onReportOffensive:n({kind:V.ix.Kind.reportOffensiveResult,result:t}),onReportMenuVisibilityChange:e=>n({kind:V.ix.Kind.reportMenuVisibilityChange,trigger:g.card(t.id),visible:e})(),disabled:i}),isActive:r,onHovered:e=>n({kind:V.ix.Kind.cardHover,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:V.ix.Kind.cardFocus,focused:e,resultId:t.id})()})))))));var Zn;!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(Zn||(Zn={}));const Hn=J.UI.Node.make((({notify:e,state:t})=>X.createElement(ee.F.Fragment,null,t.pipe(I.U((t=>{switch(t.kind){case Zn.clickableSearchLabel:return X.createElement(kn,{header:t.label,disabled:t.disabled,onClick:e({kind:V.ix.Kind.clickResultHeader,prompt:t.copiablePrompt})});case Zn.searchLabel:return X.createElement(Cn,{header:t.label,iconUrl:t.iconUrl,loading:!1});case Zn.knowledgeHub:return X.createElement(Cn,{header:"Knowledge share content was used.",iconUrl:l.none,loading:!1});default:return(0,M.L0)(t)}}))))));var $n=n(17343);function Kn(e,t,n){return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),e.state.view((({availability:e,activeCards:r,session:o})=>({disabled:V.a8.isUnavailable(e),result:t,isActive:(0,i.zG)(!!r.has(t.id)||0===r.size&&n&&!Wn(V.z_.toStarted(o)))})))),header:J.Z.fromSideEffect((t=>e.notify(t)),e.state.pipe(U.w((e=>{const n=(0,i.zG)(t.header.copiablePrompt,l.fold((()=>({kind:Zn.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl})),(n=>({kind:Zn.clickableSearchLabel,label:t.header.label,disabled:V.a8.isUnavailable(e.availability),copiablePrompt:n}))));return function(e){return e.delta.ops.some((e=>{var t;return En.s.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[Un.knowledgeHubTerm])}))}(t)&&t.timestamp+3e3>Date.now()?q.H(t.timestamp+3e3-Date.now()).pipe($n.h(n),B.O({kind:Zn.knowledgeHub})):D.of(n)}))))})}function Wn(e){return(0,i.zG)(e,l.fold(i.jv,(e=>l.isSome(e.inProgressResult)||l.isSome(e.error))))}const qn=J.UI.Knot.make(Vn,{header:Hn}),Yn=J.UI.List.make(w.Bk,qn);const Qn={display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x)},Xn={display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x)},Jn={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",width:"100%",gap:se.ux.rem(ue.x),marginBottom:se.ux.rem(ue.x)},ei=se.ux.prefixedStylesheet("results",{container:[Qn],history:[Xn],actions:[Jn]}),ti={display:"flex",alignItems:"center",gap:se.ux.rem(ue.F2)},ni={fontSize:se.ux.rem(.875),lineHeight:se.ux.rem(1.375),fontWeight:700,color:Re.XY.Content.Primary.Default},ii={fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),color:Re.XY.Content.Secondary.Default,whiteSpace:"break-spaces",overflowWrap:"anywhere"},ri=Object.assign({padding:se.ux.rem(ue.yC)},r.Es.iconSizeRems(1.125)),oi={header:se.ux.style(ti),title:se.ux.style(ni),body:se.ux.style(ii),gotItBtn:Jt,warningIcon:se.ux.style(ri)},si=J.UI.Node.make((({view:e,notify:t})=>X.createElement(wn,{id:"error",isActive:!1},X.createElement(ee.F.div,{className:oi.header},e("error").pipe(I.U((e=>X.createElement(X.Fragment,null,X.createElement(be.T6,{className:oi.warningIcon}),X.createElement("span",{className:oi.title},e.header)))))),X.createElement(ee.F.div,{className:oi.body},e("error").pipe(I.U((e=>e.text)))),X.createElement(ee.F.div,null,e("showGotItButton").pipe(I.U((e=>e?X.createElement(be.zx.Primary,{className:oi.gotItBtn,name:"gotItButton",onClick:t({kind:V.ix.Kind.dismissError})},"OK"):null))))))),ai=J.UI.Union.asOption(si);function ci(e){const t=e.state.view("session").pipe(I.U((e=>e.error)));return J.Z.composeOption(function(e,t){const n=e.state.view("activeView").view((e=>"loadingError"!==e));return J.Z.fromSideEffect((t=>e.notify(t)),t.pipe(O.M(n),I.U((([e,t])=>({error:e,showGotItButton:t})))))}(e,t.pipe(R.oA)),(()=>t))}function ui(e){return e[0]}const li=J.UI.Grid.make((({slots:e,view:t})=>{const{ref:n,onMount:i}=ye.P.useElWatcher(),r=X.useMemo((()=>N.aj([n.pipe(R.oA),t("scrollToken").pipe(Y.x())]).pipe(I.U(ui),c.b((e=>e.scrollIntoView({behavior:"auto",block:"end"}))))),[n]);return ye.P.useSubscriptionTo(r),X.createElement("div",{className:ei.container,ref:i},e.intent,e.history,e.belowHistory)})),pi=J.UI.Knot.make(J.UI.Grid.make((({slots:e,notify:t})=>{const{ref:n,onMount:i}=ye.P.useElWatcher(),{notifyUnmount:r}=X.useContext(Bt),o=X.useMemo((()=>n.pipe(kt.QV(Ct.E),R.oA,c.b((e=>t({kind:V.ix.Kind.mount,name:V.ec.followUpActionsList,element:e})())),Et.x((()=>r({kind:V.ix.Kind.unmount,name:V.ec.followUpActionsList}))))),[n]);return ye.P.useSubscriptionTo(o),X.createElement("div",{className:ei.actions,ref:i},e.actions)})),{actions:He}),di=J.UI.Union.asOption(pi),fi=J.UI.Union.asOption(J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:ei.history},e.history))),Yn)),hi=J.UI.Union.make("kind",{inProgressResult:Fn,error:ai,followUpActions:di}),mi=J.UI.Union.asOption(hi),gi=J.UI.Knot.make(li,{intent:ht,history:fi,belowHistory:mi});function vi(e,t){return J.Z.composeOption(function(e,t){return J.Z.composeList(w.Bk,(()=>t.pipe(I.U((0,i.ls)(w.ke(50),w.Su(((e,t)=>({result:t,isLast:0===e}))),w.GY)))),(({result:t,isLast:n})=>Kn(e,t,n)))}(e,t.view(l.getOrElse((()=>[])))),(()=>t))}function bi(e){const t=e.state.view("session").view(V.z_.toStarted).pipe(I.U(l.map((e=>l.isSome(e.error)?"error":l.isSome(e.inProgressResult)?"inProgressResult":"followUpActions"))));return J.Z.composeOption(function(e,t){return J.Z.composeUnion({inProgressResult:Mn(e),followUpActions:(0,i.zG)(e.state.view("contextualActions").view((t=>(0,i.zG)(t,l.filter((()=>!V.a8.isUnavailable(e.state.get().availability))),l.map((0,i.ls)(_.UI(m.BackendAction.make),Ke()))))),(t=>J.Z.composeOption(J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),null),actions:$e(e,t,"compact")}),(()=>t)))),error:ci(e)},(()=>t.pipe(R.oA,I.U((e=>({kind:e}))))))}(e,t),(()=>t))}function yi(e){const t=e.state.view("session").view((0,i.ls)(V.z_.toStarted,l.map((e=>e.resultHistory)),l.chain(_.c2)));return J.Z.composeKnot({root:()=>e.state.view("session").view((0,i.ls)(V.z_.toStarted,l.chain((e=>e.inProgressResult)),l.map((e=>e.text)))).pipe(R.oA,B.O(""),I.U((e=>({scrollToken:e})))),intent:Vt(e),history:vi(e,t),belowHistory:bi(e)})}const xi=ue.x,wi=ue.x,_i={display:"flex",flexDirection:"column",gap:se.ux.rem(wi)},Si=se.ux.prefixedStylesheet("chat",{container:[_i]}),ki=J.UI.Union.make("kind",{loading:Yt,loadingError:ai,initialError:ai,initialActions:Ft,results:gi}),Ci=10,Ei=34.75,Oi=J.UI.Grid.make((({slots:e,state:t,view:n,notify:r})=>{const{rect:o,onMount:s}=ye.P.useRectWatcher(),a=X.useMemo((()=>o.pipe(R.oA,c.b((e=>r({kind:"contentSizeChange",height:e.height})())))),[o]);return ye.P.useSubscriptionTo(a),X.createElement(ee.F.div,{mount:s,onScroll:e=>r({kind:"contentScroll",scrollTop:e.currentTarget.scrollTop})(),style:{overflow:n("canScroll").pipe(I.U((0,j.RN)("auto","hidden"))),maxHeight:t.pipe(I.U((({assistantMaxHeight:e,promptHeight:t})=>(0,i.zG)(b.Yt(l.option)({assistantMaxHeight:e,promptHeight:t}),l.fold((()=>se.ux.rem(Ei)),(({assistantMaxHeight:e,promptHeight:t})=>(0,i.zG)(function(e,t,n=.25){const i=`calc(${se.ux.rem(xi+wi+2.5)} + ${se.ux.px(t)})`;return`calc(${e}px - ${i} - ${se.ux.rem(n)})`}(e,t),(e=>`max(min(${e}, ${se.ux.rem(Ei)}), ${se.ux.rem(Ci)})`))))))),B.O(se.ux.rem(Ei)))}},e.content)})),Ii=J.UI.Knot.make(Oi,{content:ki}),Ai=J.UI.Union.asOption(Ii);var Ti=n(61792);function Ri(e,t){return J.Z.composeUnion({loading:Qt(e),loadingError:ci(e),initialError:ci(e),initialActions:Zt(e),results:yi(e)},(()=>t.pipe(R.oA,I.U((e=>({kind:e}))))))}function Pi(e,t,n,i){const r=e.state.pipe(I.U((({activeView:e,availability:t,session:n})=>{switch(e){case"loading":return l.some("loading");case"loadingError":return l.some("loadingError");case"beforeResults":return l.isSome(n.error)?l.some("initialError"):Ti.a.isUnavailable(t)?l.none:l.some("initialActions");case"actionSelected":case"voiceProfile":case"feedbackForm":return l.none;case"afterResults":return l.some("results");default:(0,M.L0)(e)}})));return J.Z.composeOption(function(e,t,n,i,r){return J.Z.composeKnot({root:J.Z.fromSideEffect((t=>{switch(t.kind){case"contentScroll":return e.contentOverflowUnderToolbar(t.scrollTop>0);case"contentSizeChange":return n.set(l.some(t.height+8));default:(0,M.L0)(t)}}),d.h.combine(i,r,e.state.view("canScroll"),((e,t,n)=>({assistantMaxHeight:e,promptHeight:t,canScroll:n})))),content:Ri(e,t)})}(e,r,t,n,i),(()=>r))}const Ni="goBtn",Ui={display:"flex",alignItems:"flex-start",padding:`${se.ux.rem(ue.x)} ${se.ux.rem(ue.qp)}`,gap:se.ux.rem(ue.F2),justifyContent:"space-between"},Di={flexGrow:1,$nest:{"&[data-hashints='false']":{paddingTop:se.ux.rem(ue.F2+ue.W9)}}},Bi={width:se.ux.percent(100),border:"none"},ji=r.Es.buttonOverrideSpecificity({alignSelf:"flex-end",$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:ae.BlueGray30}}}}},Ni),Gi={container:se.ux.style(Ui),textBoxContainer:se.ux.style(Di),textBoxIframe:se.ux.style(Bi),goBtn:se.ux.joinClasses([Ni,se.ux.style(ji)])},Li=J.UI.Node.make((({state:e,view:t,notify:n})=>X.createElement(ee.F.div,{className:Gi.container},X.createElement(ee.F.div,{className:Gi.textBoxContainer,"data-hashints":t("hasHints")},e.pipe(I.U((({placeholder:e,kind:t,text:i,autofocusToken:r,availability:o})=>X.createElement(be.b,{text:i,className:Gi.textBoxIframe,placeholder:"ready"===t?l.toUndefined(e):void 0,fitContentHeight:!0,autofocus:r,onChange:e=>n({kind:V.ix.Kind.promptFieldChange,text:e})(),onKeyPressEnter:"ready"===t?n({kind:V.ix.Kind.promptSend,text:i}):()=>null,onKeyUpEscape:()=>{n({kind:V.ix.Kind.escapePressed})(),"waitingForResult"===t&&n({kind:V.ix.Kind.generateStop})()},onFocus:n({kind:V.ix.Kind.promptFieldFocusChange,focused:!0}),onBlur:n({kind:V.ix.Kind.promptFieldFocusChange,focused:!1}),disabled:V.a8.isUnavailable(o)}))))),e.pipe(I.U((({kind:e,text:t,availability:i})=>"waitingForResult"===e?X.createElement(be.zx.Tertiary,{onClick:n({kind:V.ix.Kind.generateStop}),name:"generateStop",compact:!0,size:"large"},X.createElement(be.wN,null)):"ready"===e?X.createElement(be.zx.Tertiary,{className:Gi.goBtn,onClick:n({kind:V.ix.Kind.promptSend,text:t}),disabled:""===t.trim()||V.a8.isUnavailable(i),name:"promptSend",compact:!0,size:"large"},X.createElement(be.kc,null)):null))))));function zi(e){return J.Z.fromSideEffect((t=>e.notify(t)),e.state.view((e=>{return{kind:(0,i.zG)(V.z_.toStarted(e.session),l.fold((()=>"loading"),(e=>(0,i.zG)(e.inProgressResult,l.fold((()=>"ready"),(()=>"waitingForResult")))))),availability:e.availability,placeholder:(t=e,(0,i.zG)(t.selectedDynamicAction,l.map((e=>(""!==e.args[0].label.trim()?[e.args[0].label]:[]).concat((0,i.zG)(e.args[0].hints,l.fold((()=>[]),(e=>(""!==e.header.trim()?[e.header]:[]).concat(...e.items.filter((e=>""!==e.trim())).map((e=>`• ${e}`))))))))),l.alt((()=>(0,i.zG)(t.userPromptAction,l.map((e=>[e.arg.label]))))))),hasHints:(0,i.zG)(e.selectedDynamicAction,l.fold(i.jv,(e=>l.isSome(e.args[0].hints)))),text:e.textBox,autofocusToken:be.vw.create(`${e.activeView}_${(0,i.zG)(V.z_.toStarted(e.session),l.chain((e=>e.inProgressResult)),l.fold((()=>"done"),(()=>"inProgress")))}_${(0,i.zG)(e.selectedDynamicAction,l.fold((()=>"no-selected-action"),(()=>"selected-action")))}_${e.promptAutofocusToken}_${(0,i.zG)(e.promptMenu,l.fold((()=>"prompt-menu-closed"),(()=>"prompt-menu-opened")))}`)};var t})))}const Fi={padding:"12px 12px 0 12px",color:Re.XY.Content.Secondary.Default,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},Mi={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x)},Vi=se.ux.prefixedStylesheet("header",{container:[Fi],header:[Mi]}),Zi=J.UI.Node.make((({view:e})=>X.createElement("div",{className:Vi.container},X.createElement("div",{className:Vi.header},X.createElement(ee.F.img,{src:e("iconUrl"),style:{width:16,height:16}}),X.createElement(ee.F.span,Object.assign({},(0,Fe.E)(e("label")))))))),Hi=J.UI.Union.asOption(Zi);function $i(e){return J.Z.composeOption(function(e){return()=>e.state.view("selectedDynamicAction").pipe(R.oA,I.U((e=>({label:e.label,iconUrl:e.iconUrl}))))}(e),(()=>e.state.view("selectedDynamicAction")))}const Ki={padding:`${se.ux.rem(ue.F2)} ${se.ux.rem(ue.qp)}`},Wi=se.ux.stylesheet({container:[Ki]}),qi=J.UI.Union.asOption(J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:Wi.container},e.content))),it));function Yi(e,t){const n=t.pipe(I.U(l.map((e=>function(e){return(0,i.zG)(e,w.pO((e=>{const{init:t,rest:n}=w.zT((t=>t.group.label===e[0].group.label))(e);return[t,n]})),w.UI((e=>b.Yt(l.option)({group:(0,i.zG)(e,w.YM,l.map((e=>e.group.label))),actions:(0,i.zG)(e,w.UI(m.BackendAction.make),_.c2)}))),w.oA,_.c2,l.getOrElse((()=>[{group:e[0].group.label,actions:[m.BackendAction.make(e[0])]}])))}((0,i.zG)(e,_.DY(m.SupportedDynamicActions.ordByGroup)))))));return J.Z.composeOption(rt(e,n.pipe(R.oA)),(()=>n))}const Qi={background:"transparent",padding:se.ux.rem(ue.qp),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:se.ux.rem(ue.x)},Xi={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:se.ux.rem(ue.x)},Ji=se.ux.prefixedStylesheet("search_results",{container:[Qi],actions:[Xi]}),er=J.UI.List.make(w.Bk,Ve),tr=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:Ji.container},e.customPromptGo,X.createElement("div",{className:Ji.actions},e.searchResults)))),nr=J.UI.Knot.make(tr,{searchResults:er,customPromptGo:Ve});function ir(e,t){return J.Z.composeKnot({searchResults:$e(e,t.pipe(I.U(l.map(_.UI(m.BackendAction.make)))),"standard"),customPromptGo:Ze(e,D.of({kind:"go"}),"standard")})}const rr={overflowY:"scroll",borderBottom:`0.5px solid ${Re.XY.Boundaries.Secondary.Default}`},or={position:"absolute",top:se.ux.rem(ue.x),right:se.ux.rem(ue.x),zIndex:1,$nest:{"&:not(:hover)":{backgroundColor:se.ux.important(ae.White)}}},sr="arrowIcon",ar=r.Es.buttonOverrideSpecificity(r.Es.iconSizeRems(1.5),sr),cr={container:se.ux.style(rr),collapseBtn:se.ux.style(or),arrowIcon:se.ux.joinClasses([sr,se.ux.style(ar)])},ur=J.UI.Union.make("kind",{searchResults:nr,actionsStore:qi}),lr=J.UI.Knot.make(J.UI.Grid.make((({slots:e,view:t,notify:n})=>X.createElement(ee.F.div,{className:cr.container,style:{maxHeight:t("maxHeight")}},X.createElement(be.zx.Tertiary,{compact:!0,className:cr.collapseBtn,onClick:n({kind:V.ix.Kind.collapsePromptMenu}),name:"collapsePromptMenu",size:"small"},X.createElement(we.JO.Arrow,{direction:we.n4.down,className:cr.arrowIcon})),e.content))),{content:ur}),pr=J.UI.Union.asOption(lr);function dr(e,t){return J.Z.composeOption(J.Z.composeKnot({root:J.Z.fromSideEffect((t=>e.notify(t)),t.pipe(R.oA)),content:J.Z.composeUnion({searchResults:ir(e,t.pipe(I.U((0,i.ls)(l.filter((({kind:e})=>"searchResults"===e)),l.map(p.ei("actions")))))),actionsStore:Yi(e,t.pipe(I.U((0,i.ls)(l.filter((({kind:e})=>"actionsStore"===e)),l.map(p.ei("actions"))))))},(()=>t.pipe(R.oA)))}),(()=>t))}const fr=e=>se.ux.color(ae.BlueGray40).toRGBA().fade(e).toString(),hr={background:"white",boxShadow:`0px 0px 0px 0.5px ${ae.BlueGray40}, 0px 0px 2px 0.5px ${fr(.5)}, 0px 1px 6px 0.5px ${fr(.25)}`,borderRadius:se.ux.rem(ce.xB+ce.fe),$nest:{"&[data-expanded='true']":{position:"absolute",bottom:0,width:"100%"}}},mr=se.ux.prefixedStylesheet("prompt",{container:[{position:"relative"}],promptAndMenuContainer:[hr],placeholder:[{opacity:0,pointerEvents:"none"}]}),gr=J.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:r,rect:o}=ye.P.useRectWatcher(),s=X.useMemo((()=>o.pipe(c.b((e=>n({kind:"promptHeight",height:(0,i.zG)(e,l.map((e=>e.height)))})())))),[o]);return ye.P.useSubscriptionTo(s),X.createElement(ee.F.div,{className:mr.container},X.createElement(ee.F.div,{className:mr.promptAndMenuContainer,"data-expanded":t("menuExpanded")},e.promptMenu,X.createElement("div",{ref:r},e.promptHeader,e.promptField)),N.aj([o,t("menuExpanded")]).pipe(I.U((([e,t])=>(0,i.zG)(e,l.filter((()=>t)),l.fold(i.gn,(e=>X.createElement("div",{className:mr.placeholder,style:{height:e.height}}))))))))})),vr=J.UI.Knot.make(gr,{promptField:Li,promptHeader:Hi,promptMenu:pr}),br=J.UI.Union.asOption(vr);var yr=n(598);function xr(e,t,n){const r=e.state.view((({activeView:e})=>"loadingError"!==e?l.some(!0):l.none));return J.Z.composeOption(function(e,t,n){const r=N.aj([e.state.view("promptMenu"),t]).pipe(I.U((([e,t])=>(0,i.zG)(b.Yt(l.option)({maxHeight:t,menu:e}),l.map((({menu:e,maxHeight:t})=>Object.assign(Object.assign({},e),{maxHeight:t})))))),P.shareReplay({bufferSize:1,refCount:!0}));return J.Z.composeKnot({root:J.Z.fromSideEffect((e=>{if("promptHeight"===e.kind)return n.set(e.height);(0,M.L0)(e.kind)}),r.pipe(I.U((e=>({menuExpanded:l.isSome(e)}))))),promptField:zi(e),promptHeader:$i(e),promptMenu:dr(e,r)})}(e,r.pipe(R.oA,yr.c(t)),n),(()=>r))}const wr=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:Si.container},e.content,e.prompt))),_r=J.UI.Knot.make(wr,{content:Ai,prompt:br});function Sr(e,t){const n=d.h.create(l.none),i=d.h.create(l.none);return J.Z.composeKnot({content:Pi(e,n,t,i),prompt:xr(e,n,i)})}const kr={display:"flex",alignItems:"center",justifyContent:"center",gap:se.ux.rem(ue.x),padding:`${se.ux.rem(ue.F2)} ${se.ux.rem(.625)} ${se.ux.rem(ue.F2)} ${se.ux.rem(ue.x)}`,background:Re.XY.Surface.Primary.Default,border:`${se.ux.px(1)} solid transparent`,borderRadius:se.ux.rem(1.875),fontSize:se.ux.rem(.875),lineHeight:se.ux.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${se.ux.px(1)} solid ${ae.BlueGray5}`,color:Re.XY.Content.Primary.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${se.ux.px(1)} solid ${ae.BlueGray5}`,color:ae.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${se.ux.px(2)} solid ${r.BO.BrandGreen60}`,padding:`${se.ux.rem(.1875)} ${se.ux.rem(.5625)} ${se.ux.rem(.1875)} ${se.ux.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}},Cr=Object.assign(Object.assign({position:"absolute",top:se.ux.rem(-(ue.F2+ue.W9)),right:se.ux.rem(-(ue.F2+ue.W9)),boxSizing:"content-box"},r.Es.iconSizeRems(.75)),{border:`${se.ux.rem(.125)} solid white`,borderRadius:"50%",background:r.BO.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"}),Er=se.ux.prefixedStylesheet("selectable_chip",{chip:[kr],selectedIcon:[Cr]}),Or=({kind:e,label:t,description:n,iconUrl:i,isUnselectable:o,onToggle:s})=>X.createElement(On.u,{title:n},X.createElement("button",{disabled:"disabled"===e,className:Er.chip,"data-kind":e,"data-unselectable":o,onClick:(0,r.m)((()=>{"disabled"!==e&&s("selected"!==e&&("unselected"===e||(0,M.L0)(e)))}))},i?X.createElement("img",{src:i,style:{width:20,height:20}}):null,X.createElement("span",null,t),o&&"selected"===e?X.createElement(be.cv,{className:Er.selectedIcon}):null)),Ir={display:"flex",flexWrap:"wrap",gap:se.ux.rem(ue.F2),$nest:{div:{marginTop:se.ux.rem(ue.F2)}}},Ar=se.ux.prefixedStylesheet("chip_selector",{chips:[Ir]}),Tr=({chips:e,className:t,onToggle:n})=>X.createElement(ee.F.div,Object.assign({},(0,te.Sh)(Ar.chips,t)),e.pipe(I.U(w.UI((e=>X.createElement(Or,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label}))))))),Rr={margin:0,padding:se.ux.rem(ue.mh),background:"white",border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),display:"flex",flexDirection:"column",gap:se.ux.rem(ue.mh)},Pr={color:Re.XY.Content.Primary.Default,fontWeight:700,fontSize:se.ux.rem(.875),lineHeight:se.ux.rem(1.375),margin:"0"},Nr={color:Re.XY.Content.Secondary.Default,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},Ur={marginTop:se.ux.rem(ue.x)},Dr={color:ae.BlueGray60,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},Br={display:"flex",justifyContent:"flex-end",gap:se.ux.rem(ue.x)},jr={fontSize:se.ux.important(se.ux.rem(.875))},Gr={marginTop:se.ux.rem(ue.x)},Lr={marginTop:se.ux.rem(ue.x)},zr={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x)},Fr={width:se.ux.rem(1.5),height:se.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},Mr=se.ux.prefixedStylesheet("voice_profile",{container:[Rr],sectionTitle:[Pr],chips:[Ur],sectionDescription:[Nr],description:[Dr],footer:[Br],applyButton:[jr],skipButton:[jr],roleTypeAhead:[Gr],dialectSelect:[Lr],dialectLabel:[zr],dialectIcon:[Fr]});var Vr=n(9295);const Zr=J.UI.Node.make((({view:e,state:t,notify:n})=>X.createElement("div",{className:Mr.container},X.createElement("section",null,X.createElement("h2",{className:Mr.sectionTitle},"Formality"),X.createElement(Tr,{className:Mr.chips,chips:e("styles").pipe(I.U(w.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!1}))))),onToggle:e=>n({kind:V.ix.Kind.selectStyle,id:e.id})()})),X.createElement("section",null,X.createElement("h2",{className:Mr.sectionTitle},"Tone"),X.createElement(ee.F.div,{className:Mr.sectionDescription},"Select up to"," ",e("maxSelectableTones").pipe(I.U((e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):`${e}`;var t})))),X.createElement(Tr,{className:Mr.chips,chips:e("tones").pipe(I.U(w.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!0}))))),onToggle:(e,t)=>n({kind:V.ix.Kind.toggleTone,selected:t,id:e.id})()})),X.createElement(ee.F.Fragment,null,t.pipe(I.U((e=>(0,i.zG)(e.roles,_.c2,l.fold(i.gn,(t=>X.createElement("section",null,X.createElement("h2",{className:Mr.sectionTitle},"Your profession"),X.createElement(be.pY,{className:Mr.roleTypeAhead,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:V.ix.Kind.selectRole,role:l.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0}))))))))),X.createElement("section",null,X.createElement("h2",{className:Mr.sectionTitle},"I write in"),X.createElement(ee.F.Fragment,null,t.pipe(I.U((({dialects:e,selectedDialect:t})=>X.createElement(be.Ph,{className:Mr.dialectSelect,options:e.filter((e=>!Vr.L.Dialect.Id.eq.equals(e.id,t.id))),selection:t,onSelectionChange:e=>n({kind:V.ix.Kind.selectDialect,dialect:e})(),label:e=>e.label,renderOption:e=>X.createElement("div",{className:Mr.dialectLabel},X.createElement("div",{className:Mr.dialectIcon},X.createElement("img",{src:e.iconUrl,style:{width:se.ux.rem(1),height:se.ux.rem(1)}})),e.label)})))))),X.createElement(ee.F.Fragment,null,e("description").pipe(I.U((e=>""!==e.trim()?X.createElement("div",{className:Mr.description},e):null)))),X.createElement(ee.F.div,{className:Mr.footer},X.createElement(be.zx.Tertiary,{className:Mr.skipButton,onClick:n({kind:V.ix.Kind.closeVoiceProfile}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(I.U((e=>X.createElement(be.zx.Primary,{className:Mr.applyButton,onClick:n({kind:V.ix.Kind.applyVoiceProfile}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))))));function Hr(e){const t=d.h.create("");return J.Z.fromSideEffect((n=>{"updateRoleTypeaheadText"===n.kind?t.set(n.text):(n.kind===V.ix.Kind.selectRole&&t.set((0,i.zG)(n.role,l.fold((()=>""),(e=>e.label)))),e.notify(n))}),d.h.combine(e.state,t,(({stagingVoiceProfile:e,session:t},n)=>(0,i.zG)(b.Yt(l.option)({voiceProfile:(0,i.zG)(V.z_.toStarted(t),l.map((e=>e.voiceProfile))),stagingVoiceProfile:e}),l.fold((()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:V.LA.Dialect.all(),selectedDialect:V.LA.Dialect.american})),(({stagingVoiceProfile:e,voiceProfile:t})=>(0,i.zG)(t.styles,w.Ew((t=>t.id===e.selectedStyle)),(r=>({styles:(0,i.zG)(t.styles,w.UI((t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"})))),tones:(0,i.zG)(r,l.fold((()=>[]),(t=>(0,i.zG)(t.tones,w.UI((n=>Object.assign(Object.assign({},n),{kind:(0,i.zG)(l.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),l.getOrElse((()=>new Set)),(e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected"))}))))))),roles:t.roles,maxSelectableTones:(0,i.zG)(r,l.fold((()=>3),(e=>e.maxTones))),applyButtonEnabled:!V.LA.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate with GrammarlyGO.",roleTypeaheadText:(0,i.zG)(e.selectedRole,l.filter((()=>""===n)),l.chain((e=>l.fromNullable(t.roles.find((t=>t.id===e))))),l.fold((()=>n),(e=>e.label))),dialects:t.dialects,selectedDialect:t.dialects.find((t=>V.LA.Dialect.Id.eq.equals(t.id,e.selectedDialect)))||V.LA.Dialect.american})))))))))}const $r="submitBtn",Kr={padding:se.ux.rem(ue.mh),background:"white",border:`0.5px solid ${ae.BlueGray10}`,borderRadius:se.ux.rem(ce.xB+ce.fe),display:"flex",flexDirection:"column",gap:se.ux.rem(ue.mh)},Wr={color:Re.XY.Content.Primary.Default,fontWeight:700,fontSize:se.ux.rem(1.25),lineHeight:se.ux.rem(1.5),margin:0},qr={border:`${se.ux.px(1)} solid ${ae.NeutralGray20}`,borderRadius:se.ux.rem(ce.xB),padding:`${se.ux.rem(ue.x+ue.yC)} ${se.ux.rem(ue.x)}`,height:se.ux.rem(8)},Yr={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${se.ux.rem(ue.W9)} ${se.ux.rem(ue.x)} 0 0`,minWidth:se.ux.rem(1),minHeight:se.ux.rem(1)},"& label":{color:Re.XY.Content.Primary.Default,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)}}},Qr=Object.assign({width:se.ux.percent(100)},r.Es.buttonOverrideSpecificity({fontSize:se.ux.rem(.875)},$r)),Xr={display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x)},Jr={container:se.ux.style(Kr),title:se.ux.style(Wr),feedbackTextarea:se.ux.style(qr),checkboxGroup:se.ux.style(Yr),domain:se.ux.style({fontWeight:700}),submitButton:se.ux.joinClasses([$r,se.ux.style(Qr)]),bottomSection:se.ux.style(Xr)};var eo=n(18208);const to={display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:se.ux.rem(ue.mh),paddingRight:se.ux.rem(ue.mh)},no={width:se.ux.rem(5),height:se.ux.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:se.ux.rem(ue.x),borderRadius:se.ux.rem(ce.HP),fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),$nest:{"&:hover":{backgroundColor:Re.XY.Surface.Secondary.Default}}},io={backgroundColor:ae.Blue10,$nest:{"&:hover":{backgroundColor:ae.Blue10}}},ro=Object.assign({},r.Es.iconSizeRems(1.5)),oo=se.ux.stylesheet({scoreRow:[to],scoreButton:[no],scoreButtonSelected:[io],emojiIcon:[ro]}),so=(e,t)=>(0,te.Sh)(oo.scoreButton,e===t&&oo.scoreButtonSelected),ao=(0,te.xb)((({selectedScore:e,onSelectScore:t})=>X.createElement("div",{className:oo.scoreRow},X.createElement("div",Object.assign({},so(V.x2.Mood.dissatisfied,e),{onClick:()=>t(V.x2.Mood.dissatisfied)}),X.createElement(be.XR,{className:oo.emojiIcon}),"I dislike it"),X.createElement("div",Object.assign({},so(V.x2.Mood.ok,e),{onClick:()=>t(V.x2.Mood.ok)}),X.createElement(be.R6,{className:oo.emojiIcon}),"It′s OK"),X.createElement("div",Object.assign({},so(V.x2.Mood.satisfied,e),{onClick:()=>t(V.x2.Mood.satisfied)}),X.createElement(be.OJ,{className:oo.emojiIcon}),"I like it!")))),co=(0,te.xb)(be.b),uo=J.UI.Node.make((({state:e,view:t,notify:n})=>{const r="domainCheckbox"+eo.fg(5);return X.createElement(ee.F.div,{className:Jr.container},X.createElement("h1",{className:Jr.title},"How do you like Grammarly?"),X.createElement(ao,{selectedScore:t("formData").pipe(I.U(p.ei("mood"))),onSelectScore:e=>n({kind:V.ix.Kind.updateFeedbackForm,feedbackData:{mood:e}})()}),X.createElement(co,{className:Jr.feedbackTextarea,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(I.U((({message:e})=>null!=e?e:""))),onChange:e=>n({kind:V.ix.Kind.updateFeedbackForm,feedbackData:{message:e}})()}),e.pipe(I.U((({formData:e,domain:t,source:o})=>X.createElement("div",{className:Jr.bottomSection},(0,i.zG)(t,l.fold(i.gn,(t=>X.createElement("div",{className:Jr.checkboxGroup},X.createElement("input",{type:"checkbox",id:r,checked:void 0!==e.domain,onChange:n({kind:V.ix.Kind.updateFeedbackForm,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),X.createElement("label",{htmlFor:r},"Include the domain ",X.createElement("b",null,t)," with my feedback to help improve Grammarly."))))),(0,i.zG)(l.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:o}):null),l.fold((()=>X.createElement(be.zx.Primary,{disabled:!0,className:Jr.submitButton,onClick:i.Q1},"Submit")),(e=>X.createElement(be.zx.Primary,{disabled:!1,className:Jr.submitButton,onClick:n({kind:V.ix.Kind.submitFeedbackForm,feedbackData:e})},"Submit")))))))))}));var lo;function po(e,t){return J.Z.fromSideEffect((t=>e.notify(t)),e.state.view((e=>{var n,i;return{formData:e.stagingFeedbackFormData,domain:t.showDomainCheckbox,source:null!==(i=null===(n=e.stagingFeedbackFormData)||void 0===n?void 0:n.source)&&void 0!==i?i:V.x2.Source.resultCard}})))}!function(e){e.empty={showDomainCheckbox:l.none}}(lo||(lo={}));const fo={position:"relative",padding:se.ux.rem(ue.x),paddingTop:0},ho=se.ux.stylesheet({contentGrid:[fo]}),mo={position:"absolute",top:0,right:se.ux.rem(ue.x),display:"flex",flexDirection:"column",gap:se.ux.rem(ue.x),zIndex:1e3,transition:"top 0.1s ease-in"},go={top:se.ux.rem(ue.F2)},vo=se.ux.stylesheet({container:[mo],containerWithOffset:[mo,go]}),bo=se.ux.keyframes({from:{transform:`translateY(${se.ux.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),yo={background:Re.S5.Surface.Primary.Default,color:Re.S5.Content.Primary.Default,borderRadius:se.ux.rem(ce.xB+ce.fe),display:"flex",flexDirection:"row",alignItems:"center",padding:`${se.ux.rem(ue.x)} ${se.ux.rem(ue.qp)}`,gap:se.ux.rem(ue.qp),fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),animation:`${bo} 0.1s ease-in`},xo=Object.assign({},r.Es.iconSizeRems(1.5)),wo=se.ux.stylesheet({notification:[yo],checkmarkIcon:[xo]}),_o=J.UI.Node.make((({view:e,notify:t})=>X.createElement(ee.F.div,{className:wo.notification,"data-id":e("id")},e("kind").pipe(I.U((e=>{if(e===V.Cl.Kind.feedbackSubmitted)return X.createElement(X.Fragment,null,X.createElement(be.j4,{className:wo.checkmarkIcon}),X.createElement("div",null,"Thanks for the feedback!"));(0,M.L0)(e)}))),e("id").pipe(I.U((e=>X.createElement(be.xx,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e}),size:"small"})))))));const So=J.UI.List.make(w.Bk,_o),ko=J.UI.Grid.make((({slots:e,view:t})=>X.createElement(ee.F.div,{className:t("contentOverflowUnderToolbar").pipe(I.U((0,j.RN)(vo.containerWithOffset,vo.container)))},e.content))),Co=J.UI.Knot.make(ko,{content:So});function Eo(e){return J.Z.composeKnot({root:()=>e.assistant.state.view(p.H6("contentOverflowUnderToolbar")),content:(t=e.notifications,J.Z.composeList(w.Bk,(()=>t.state.view(w.GY)),(e=>function(e,t){return J.Z.fromSideEffect((e=>{if("dismissNotification"===e.kind)return t.dismiss(e.id);(0,M.L0)(e.kind)}),e)}(e,t))))});var t}const Oo=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:ho.contentGrid},e.notifications,e.content))),Io=J.UI.Union.make("kind",{chat:_r,voiceProfile:Zr,feedbackForm:uo}),Ao=J.UI.Knot.make(Oo,{content:Io,notifications:Co});function To({vms:e,assistantMaxHeight:t,feedbackFormOptions:n}){return J.Z.composeKnot({content:Ro(e.assistant,t,n),notifications:Eo(e)})}function Ro(e,t,n){return J.Z.composeUnion({chat:Sr(e,t),voiceProfile:Hr(e),feedbackForm:po(e,n)},(()=>e.state.view("activeView").view((e=>({kind:"voiceProfile"===e||"feedbackForm"===e?e:"chat"})))))}const Po={padding:`${se.ux.rem(ue.x)}`,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125),color:Re.XY.Content.Secondary.Default,cursor:"default"},No={color:ae.Blue60},Uo=se.ux.stylesheet({label:[Po],upgrade:[No]});const Do=J.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:i}=ye.P.useElWatcher(),{ref:r,onMount:o}=ye.P.useElWatcher(),a=X.useMemo((()=>n.pipe(R.oA,U.w((e=>u.R(e,"mouseenter").pipe(yr.c(D.of(null).pipe(Rt.g(500),s.R(u.R(e,"mouseleave"))))))),c.b(t({kind:V.ix.Kind.creditsInfoHover})))),[n]);ye.P.useSubscriptionTo(a);const l=X.useMemo((()=>r.pipe(kt.QV(Ct.E),R.oA,c.b((e=>t({kind:V.ix.Kind.mount,name:V.ec.creditsInfoButton,element:e})())))),[r]);return ye.P.useSubscriptionTo(l),X.createElement(ee.F.Fragment,null,e.pipe(I.U((({user:e,availability:n})=>{const r=V.a8.isActive(n)?function(e){const t=`${e.promptsRemaining}/${e.promptsAllocated} prompts left. `,n=V.a8.Active.daysUntilRefillDate(e.refillDate),i=V.a8.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${eo._6(n,"day","days")}.`:i>0?t+`Next refill in ${i} ${eo._6(i,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isFree?"To get more prompts, upgrade to Premium.":"To get more prompts, contact support.",s=V.a8.isActive(n)?`${n.promptsRemaining} ${eo._6(n.promptsRemaining,"prompt","prompts")}`:e.isFree?X.createElement(X.Fragment,null,"0 prompts. ",X.createElement("span",{className:Uo.upgrade},"Upgrade")):"0 prompts";return!e.isFree&&V.a8.isActive(n)?X.createElement(On.u,{title:r},X.createElement("div",{ref:i,className:Uo.label},s)):X.createElement(be.zx.Tertiary,{onClick:t({kind:V.ix.Kind.creditsInfoClick,userIsFree:e.isFree}),title:r,name:"creditsInfo",mount:o},X.createElement("div",{ref:i},s))}))))})),Bo=J.UI.Union.asOption(Do);var jo=i.zG;function Go(e){const t=e.state.view((e=>jo(e.availability,l.fromPredicate((0,j.Kg)(V.a8.isActive,V.a8.isPassive)),l.filter((()=>l.isSome(V.z_.toStarted(e.session)))))));return J.Z.composeOption(function(e,t,n){return J.Z.fromSideEffect((t=>e.notify(t)),jo(N.aj([t,n]),I.U((([e,t])=>({user:e,availability:t})))))}(e,e.state.view("user"),t.pipe(R.oA)),(()=>d.h.combine(t,e.state.view("activeView"),((e,t)=>jo(e,l.filter((()=>"voiceProfile"!==t&&"feedbackForm"!==t)))))))}const Lo="voiceBtn",zo=r.Es.buttonOverrideSpecificity({padding:0,paddingRight:se.ux.rem(ue.x),paddingLeft:se.ux.rem(ue.F2),gap:se.ux.rem(ue.x),flexWrap:"nowrap",$nest:{"& > i":Object.assign({},r.Es.iconSizeRems(1.5))}},Lo),Fo={stroke:ae.BlueGray60},Mo={voiceButton:se.ux.joinClasses([Lo,se.ux.style(zo)]),voiceIcon:se.ux.style(Fo)},Vo=J.UI.Node.make((({view:e,notify:t})=>X.createElement(be.zx.Tertiary,{className:Mo.voiceButton,onClick:t({kind:V.ix.Kind.openVoiceProfile,source:"toolbar"}),name:"toolbarVoiceProfile"},X.createElement(be.uA,{className:Mo.voiceIcon}),X.createElement(ee.F.span,null,e("styleLabel"))))),Zo={display:"flex",alignItems:"center",gap:se.ux.rem(ue.x),color:ae.BlueGray60,fontWeight:400,fontSize:se.ux.rem(.75),lineHeight:se.ux.rem(1.125)},Ho=se.ux.prefixedStylesheet("back_button",{buttonAndLabel:[Zo]}),$o=J.UI.Node.make((({notify:e,view:t})=>X.createElement("div",{className:Ho.buttonAndLabel},X.createElement(be.zx.Tertiary,{compact:!0,onClick:e({kind:V.ix.Kind.goBack}),name:"goBack"},X.createElement(we.JO.Arrow,{direction:we.n4.left})),X.createElement(ee.F.Fragment,null,t("activeViewLabel").pipe(I.U(l.fold(i.gn,(e=>X.createElement("span",null,e)))))))));var Ko=n(5315);const Wo={display:"flex",alignItems:"center",justifyContent:"space-between",width:se.ux.percent(100),gap:se.ux.rem(ue.x)},qo={display:"flex",flexDirection:"row",alignItems:"center",gap:se.ux.rem(Ko.x)},Yo={height:se.ux.rem(1),borderLeft:`1px solid ${ae.BlueGray20}`},Qo={display:"flex",alignItems:"center",justifyContent:"center",height:se.ux.rem(2),width:38},Xo={width:se.ux.rem(10),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"},Jo=Object.assign(Object.assign({},Yo),{marginLeft:se.ux.rem(ue.x),marginRight:se.ux.rem(ue.F2)}),es=se.ux.prefixedStylesheet("toolbar",{toolbarContent:[Wo],backAndVoice:[qo],buttonSeparator:[Yo],goLogoAndVoice:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogo:[Qo],goTooltip:[Xo],logoAndBetaBadge:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogoAndVoiceSeparator:[Jo]}),ts=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:es.backAndVoice},e.back,X.createElement("div",{className:es.buttonSeparator}),e.voice))),ns=J.UI.Knot.make(ts,{back:$o,voice:Vo}),is=()=>X.createElement("div",{className:es.logoAndBetaBadge},X.createElement("div",{className:es.goLogo},X.createElement(be.T3,null)),X.createElement(On.u,{title:X.createElement("div",{className:es.goTooltip},"GrammarlyGO is still in beta testing. Please check for any inaccuracies.")},X.createElement(be.Ct,null,"Beta"))),rs=J.UI.Node.make(is),os=J.UI.Composite.make(J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:es.goLogoAndVoice},X.createElement(is,null),X.createElement("div",{className:es.goLogoAndVoiceSeparator}),e.content))),Vo),ss=J.UI.Union.make("kind",{empty:rs,backButton:$o,voiceButton:os,backAndVoiceButton:ns}),as=J.UI.Union.asOption(ss),cs=J.UI.Grid.make((({slots:e})=>X.createElement("div",{className:es.toolbarContent},e.left,e.right))),us=J.UI.Knot.make(cs,{left:as,right:Bo});function ls(e){return J.Z.fromSideEffect((t=>{if("Some"===t.key&&"value"===t.action.key){const n=t.action.action;"backAndVoiceButton"===n.key?e.notify(n.action.action):e.notify(n.action)}}),function(e){const t=e=>{var t;return(null===(t=e.styles.find((t=>V.LA.Style.Id.eq.equals(t.id,e.selectedStyle))))||void 0===t?void 0:t.label)||""};return e.state.view((({activeView:e,session:n})=>(0,i.zG)(V.z_.toStarted(n),l.map((e=>e.voiceProfile)),l.fold((()=>l.some({kind:"empty"})),(n=>"loadingError"===e?l.some({kind:"empty"}):"voiceProfile"===e?l.some({kind:"backButton",activeViewLabel:l.some("My voice")}):"feedbackForm"===e?l.some({kind:"backButton",activeViewLabel:l.some("Share your thoughts")}):"loading"===e||"beforeResults"===e||"afterResults"===e?l.some({kind:"voiceButton",styleLabel:t(n)}):"actionSelected"===e?l.some({kind:"backAndVoiceButton",back:{activeViewLabel:l.none},voice:{styleLabel:t(n)}}):(0,M.L0)(e))))))}(e))}const ps=J.UI.Knot.make(_e,{toolbar:us,content:Ao});function ds(e){return J.UI.Composite.make(J.UI.Grid.make((({slots:t})=>X.createElement(Bt.Provider,{value:{notifyUnmount:t=>e.notify(t)}},t.assistant))),ps)}function fs(e,t=lo.empty){return J.Z.composeKnot({root:Oe(e.position,e.assistant),content:To({vms:e,assistantMaxHeight:e.position.state.view((0,i.ls)(f,l.chain(p.ei("assistantMaxHeight")))),feedbackFormOptions:t}),toolbar:(n=e.assistant,J.Z.composeKnot({left:ls(n),right:Go(n)}))});var n}J.UI.Knot.make(Te,{toolbar:us,content:Ao})},74911:(e,t,n)=>{n.d(t,{P:()=>g});var i=n(89894),r=n(13578),o=n(62172),s=n(88392),a=n(9546),c=n(20654),u=n(99223);const l={color:r.XY.Content.OnPrimary.Default,backgroundColor:c.BO.BrandGreen60,transitionProperty:"border, background, color",fontWeight:"bold",$nest:{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:c.BO.BrandGreen80},"&:focus-visible":{boxShadow:`0 0 0 2px ${r.XY.Surface.Primary.Default}, 0 0 0 4px ${c.BO.BrandGreen80}`},"&[data-active='true'], &:active":{backgroundColor:c.BO.BrandGreen60,color:r.XY.Surface.Primary.Default}}}}},p={backgroundColor:"transparent",fontWeight:"normal",color:o.BlueGray80,stroke:o.BlueGray80,boxShadow:`inset 0 0 0 1px ${o.BlueGray5}`,transitionProperty:"border, background, color",$nest:{"& > i":{stroke:i.ux.important(o.BlueGray80),fill:i.ux.important(o.BlueGray80)},"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:o.BlueGray0},"&:focus-visible":{boxShadow:`inset 0 0 0 1px ${o.BlueGray80}, 0 0 0 1px ${o.BlueGray80}, 0 0 0 2px ${r.XY.Surface.Primary.Default}, 0 0 0 4px ${o.BlueGray80}`},"&[data-active='true'], &:active":{backgroundColor:"transparent",color:o.BlueGray80}}}}},d="button",f={padding:0,$nest:{"& > i":{marginLeft:0}}},h=e=>({minWidth:i.ux.rem(e),minHeight:i.ux.rem(e),lineHeight:i.ux.rem(e),$nest:{"& > i":{minWidth:i.ux.rem(e)}}}),m=e=>c.Es.specificity(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({borderRadius:i.ux.rem(s.xB),fontSize:i.ux.rem(.75),textAlign:"center",padding:`0 ${i.ux.rem(a.x)}`,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},e.compact?f:{}),"small"===e.size?h(1.5):{}),"medium"===e.size?h(1.75):{}),"large"===e.size?h(2):{}),{$nest:{"& > i":{marginLeft:i.ux.rem(-.25)},"&[data-disabled='true']":{opacity:.4,cursor:"not-allowed"}}}),"primary"===e.type?l:{}),"secondary"===e.type?p:{}),"tertiary"===e.type?(e=>({backgroundColor:"transparent",fontWeight:"normal",color:r.XY.Content.Secondary.Default,transitionProperty:"border, background, color",$nest:{"& > i":{stroke:i.ux.important(r.XY.Content.Secondary.Default),fill:i.ux.important(r.XY.Content.Secondary.Default)},"&:not([data-disabled='true'])":{$nest:Object.assign(Object.assign({"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:o.BlueGray0,color:r.XY.Content.Secondary.Default}},"dark"===e.theme?{"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:i.ux.color(o.BlueGray0).toRGBA().fade(.2).toString()}}:{}),{"&:focus-visible":{boxShadow:`0 0 0 2px ${r.XY.Surface.Primary.Default}, 0 0 0 4px ${r.XY.Content.Secondary.Default}`}})}}}))(e):{}),d,u.baseButtonContentOverrideSpecificity),g=e=>i.ux.joinClasses([d,i.ux.style(m(e))])},11227:(e,t,n)=>{n.d(t,{j4:()=>S,XR:()=>y,CT:()=>c,T3:()=>v,rN:()=>b,k8:()=>u,L3:()=>s,Ho:()=>d,R6:()=>x,kc:()=>g,Gv:()=>p,cv:()=>f,OJ:()=>w,wN:()=>l,uA:()=>o,T6:()=>h});var i=n(27378),r=n(31278);const o=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),i.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),i.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),i.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),i.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),s=e=>i.createElement(r.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"}));var a=n(13578);const c=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:a.XY.Content.Secondary.Default,strokeMiterlimit:"4.25735"})),u=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),i.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:a.XY.Content.Secondary.Default}),i.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:a.XY.Content.Secondary.Default,stroke:a.XY.Content.Secondary.Default})),l=e=>i.createElement(r.a1,Object.assign({width:"32",height:"32",fill:a.XY.Content.Secondary.Default,viewBox:"0 0 32 32"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"})),p=e=>i.createElement(r.a1,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"})),d=e=>i.createElement(r.a1,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),i.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),i.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"})),f=e=>i.createElement(r.a1,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),i.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),h=e=>i.createElement(r.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"#99A0B3"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"}));var m=n(20654);const g=e=>i.createElement(r.a1,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:m.BO.BrandGreen60},e),i.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),v=e=>i.createElement(r.a1,Object.assign({width:"26",height:"12",viewBox:"0 0 26 12",fill:m.BO.BrandGreen60},e),i.createElement("path",{d:"M19.3727 0.000327934C16.1036 0.000327934 13.4619 2.6865 13.4619 6.00016C13.4619 9.31383 16.1081 12 19.3727 12C22.6374 12 25.2836 9.31474 25.2836 6.00016C25.2836 2.68559 22.6374 0.000327934 19.3727 0.000327934ZM19.3727 9.73428C17.3867 9.73428 15.7766 8.06247 15.7766 6.00016C15.7766 3.93786 17.3867 2.26604 19.3727 2.26604C21.3587 2.26604 22.9688 3.93786 22.9688 6.00016C22.9688 8.06247 21.3587 9.73428 19.3727 9.73428Z",stroke:"none"}),i.createElement("path",{d:"M12.6746 6.42151H7.39304V8.29493H8.68981C9.01927 8.30238 9.34872 8.28019 9.67419 8.22864L9.69144 8.24589C9.08392 9.13311 7.98875 9.75788 6.70651 9.75788C4.63967 9.75788 2.99964 8.11512 2.99964 5.9938C2.99964 3.87247 4.63967 2.23062 6.70651 2.23062C7.30404 2.23157 7.89242 2.3776 8.42105 2.65615C8.94969 2.93471 9.40278 3.33745 9.74139 3.82979L11.593 2.55844C11.0537 1.76195 10.3255 1.11146 9.47342 0.665066C8.62136 0.218676 7.672 -0.00970839 6.71014 0.000316333C5.92081 -0.00586192 5.13814 0.145157 4.40777 0.444568C3.6774 0.74398 3.01395 1.18579 2.45608 1.74425C1.89822 2.3027 1.45712 2.96663 1.15848 3.69731C0.859842 4.428 0.709651 5.21083 0.716666 6.00015C0.716666 9.35378 3.34108 12 6.60571 12C8.60354 12 10.2626 10.8658 10.9192 9.61622L10.9519 9.63347C10.8546 10.0093 10.8049 10.3958 10.8039 10.784V11.7221L12.6755 11.7167V6.42242L12.6746 6.42151Z",stroke:"none"})),b=()=>i.createElement("svg",{width:"240",height:"35",viewBox:"0 0 240 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M209.923 15.8961H197.325V20.5059H200.418C201.204 20.5238 201.989 20.4701 202.766 20.3428L202.807 20.3852C201.358 22.5683 198.746 24.1056 195.687 24.1056C190.757 24.1056 186.845 20.0635 186.845 14.8437C186.845 9.62393 190.757 5.58174 195.687 5.58174C197.113 5.58398 198.514 5.94373 199.775 6.62748C201.035 7.31123 202.116 8.30558 202.926 9.51667L207.343 6.39063C206.054 4.42875 204.315 2.82438 202.279 1.72725C200.245 0.627883 197.977 0.0692616 195.685 0.0960754C193.807 0.080434 191.94 0.449124 190.2 1.18651C188.461 1.92165 186.88 3.00985 185.55 4.38406C184.22 5.75827 183.169 7.39168 182.456 9.19044C181.746 10.9892 181.384 12.9153 181.402 14.8593C181.402 23.1113 187.662 29.6226 195.449 29.6226C200.219 29.6226 204.172 26.8317 205.738 23.7571L205.816 23.7995C205.584 24.7246 205.465 25.6743 205.463 26.6306V28.9388L209.927 28.9254H209.923V15.8984V15.8961Z",fill:"white"}),i.createElement("path",{d:"M225.901 0C218.113 0 211.801 6.62972 211.801 14.8102C211.801 22.9906 218.113 29.6204 225.901 29.6204C233.688 29.6204 240 22.9906 240 14.8102C240 6.62972 233.688 0 225.901 0ZM226.018 24.1191C221.187 24.1191 217.271 20.0054 217.271 14.9308C217.271 9.85632 221.187 5.74263 226.018 5.74263C230.848 5.74263 234.765 9.85632 234.765 14.9308C234.765 20.0054 230.848 24.1191 226.018 24.1191Z",fill:"white"}),i.createElement("path",{d:"M17.223 8.39048C15.737 8.39048 14.5348 9.63062 14.5348 11.1277V11.1635C13.0857 9.52113 11.3528 8.24524 8.41547 8.24524C4.06802 8.24301 0 11.5277 0 17.3642V17.4379C0 23.2386 3.99653 26.5591 8.41763 26.5591C11.2813 26.5591 13.0164 25.3547 14.6063 23.3839V24.3335C14.6063 27.835 12.8734 29.6606 9.19528 29.6606C7.1786 29.6606 5.51717 29.2226 3.96188 28.4942C3.71494 28.3847 3.43117 28.3109 3.07809 28.3109C1.87588 28.3109 0.885953 29.3321 0.885953 30.5722C0.885953 31.5934 1.48814 32.3598 2.40659 32.724C4.63555 33.6357 6.82768 34.0737 9.33824 34.0737C13.0164 34.0737 15.7392 33.2715 17.5089 31.4482C19.1011 29.8058 19.9134 27.2518 19.9134 23.7503V11.1612C19.9134 9.62839 18.7111 8.38825 17.2252 8.38825L17.223 8.39048ZM14.6063 17.4379C14.6063 20.1014 12.5896 21.9628 9.97293 21.9628C7.35622 21.9628 5.3742 20.1394 5.3742 17.4379V17.3642C5.3742 14.7007 7.35406 12.8393 9.97293 12.8393C12.5918 12.8393 14.6063 14.7007 14.6063 17.3642V17.4379Z",fill:"white"}),i.createElement("path",{d:"M32.3836 8.39038C30.7914 8.39038 29.5199 10.1422 28.7401 12.0393V11.1634C28.7401 9.63052 27.5379 8.39038 26.0519 8.39038C24.5659 8.39038 23.3637 9.63052 23.3637 11.1634V25.6093C23.3637 27.1422 24.5659 28.3823 26.0519 28.3823C27.5379 28.3823 28.7401 27.1422 28.7401 25.6093V20.4298C28.7401 16.4904 30.2607 14.3364 32.9836 13.6816C34.0797 13.4269 35.0003 12.551 35.0003 11.0919C35.0003 9.52327 34.045 8.39262 32.3836 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M44.2178 8.39038C41.7072 8.39038 39.8682 8.7546 38.1699 9.41154C37.3208 9.74001 36.7207 10.5779 36.7207 11.5634C36.7207 12.8392 37.7107 13.8247 38.9497 13.8247C39.1967 13.8247 39.4089 13.7889 39.7274 13.6794C40.7519 13.3509 41.9563 13.132 43.4401 13.132C46.1283 13.132 47.5081 14.4079 47.5081 16.7071V17.0356C46.1651 16.5619 44.7853 16.2334 42.8748 16.2334C38.3843 16.2334 35.2348 18.2042 35.2348 22.4721V22.5459C35.2348 26.4138 38.1699 28.5298 41.7419 28.5298C44.3586 28.5298 46.163 27.5444 47.4713 26.0495V26.0853C47.4713 27.2517 48.4959 28.3846 50.0534 28.3846C51.5025 28.3846 52.6701 27.2182 52.6701 25.7211V16.8189C52.6701 14.1911 52.0332 12.0393 50.6187 10.5802C49.2757 9.1948 47.1529 8.39038 44.2178 8.39038ZM47.5775 21.2677C47.5775 23.2743 45.8792 24.6977 43.3686 24.6977C41.6357 24.6977 40.4335 23.8217 40.4335 22.3269V22.2531C40.4335 20.5013 41.848 19.5539 44.1463 19.5539C45.4546 19.5539 46.6568 19.8466 47.5775 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M78.6766 8.24286C76.0945 8.24286 74.1147 9.33776 72.4511 11.3443C71.4611 9.37351 69.5874 8.24286 67.1115 8.24286C64.3887 8.24286 62.7619 9.73773 61.5229 11.3801V11.1611C61.5229 9.62824 60.3207 8.3881 58.8347 8.3881C57.3487 8.3881 56.1465 9.62824 56.1465 11.1611V25.6093C56.1465 27.1422 57.3487 28.3823 58.8347 28.3823C60.3207 28.3823 61.5229 27.1422 61.5229 25.6093V17.2545C61.5229 14.629 62.7597 13.2772 64.7764 13.2772C66.7931 13.2772 67.9238 14.6268 67.9238 17.2545V25.6093C67.9238 27.1422 69.126 28.3823 70.612 28.3823C72.098 28.3823 73.3002 27.1422 73.3002 25.6093V17.2545C73.3002 14.629 74.5371 13.2772 76.5537 13.2772C78.5704 13.2772 79.7011 14.6268 79.7011 17.2545V25.6093C79.7011 27.1422 80.9034 28.3823 82.3893 28.3823C83.8753 28.3823 85.0775 27.1422 85.0775 25.6093V15.4312C85.0775 10.7254 82.6731 8.24509 78.6766 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M111.077 8.24286C108.495 8.24286 106.516 9.33776 104.852 11.3443C103.862 9.37351 101.988 8.24286 99.5124 8.24286C96.7895 8.24286 95.1628 9.73773 93.9237 11.3801V11.1611C93.9237 9.62824 92.7215 8.3881 91.2355 8.3881C89.7496 8.3881 88.5474 9.62824 88.5474 11.1611V25.6093C88.5474 27.1422 89.7496 28.3823 91.2355 28.3823C92.7215 28.3823 93.9237 27.1422 93.9237 25.6093V17.2545C93.9237 14.629 95.1606 13.2772 97.1773 13.2772C99.194 13.2772 100.325 14.6268 100.325 17.2545V25.6093C100.325 27.1422 101.527 28.3823 103.013 28.3823C104.499 28.3823 105.701 27.1422 105.701 25.6093V17.2545C105.701 14.629 106.938 13.2772 108.955 13.2772C110.971 13.2772 112.102 14.6268 112.102 17.2545V25.6093C112.102 27.1422 113.304 28.3823 114.79 28.3823C116.276 28.3823 117.478 27.1422 117.478 25.6093V15.4312C117.478 10.7254 115.074 8.24509 111.077 8.24509V8.24286Z",fill:"white"}),i.createElement("path",{d:"M128.461 8.39038C125.95 8.39038 124.111 8.7546 122.413 9.41154C121.564 9.74001 120.964 10.5779 120.964 11.5634C120.964 12.8392 121.954 13.8247 123.193 13.8247C123.44 13.8247 123.652 13.7889 123.97 13.6794C124.995 13.3509 126.199 13.132 127.683 13.132C130.371 13.132 131.751 14.4079 131.751 16.7071V17.0356C130.408 16.5619 129.028 16.2334 127.118 16.2334C122.625 16.2334 119.478 18.2042 119.478 22.4721V22.5459C119.478 26.4138 122.413 28.5298 125.985 28.5298C128.602 28.5298 130.406 27.5444 131.714 26.0495V26.0853C131.714 27.2517 132.739 28.3846 134.296 28.3846C135.745 28.3846 136.913 27.2182 136.913 25.7211V16.8189C136.913 14.1911 136.276 12.0393 134.862 10.5802C133.519 9.1948 131.396 8.39038 128.461 8.39038ZM131.82 21.2677C131.82 23.2743 130.122 24.6977 127.612 24.6977C125.879 24.6977 124.676 23.8217 124.676 22.3269V22.2531C124.676 20.5013 126.091 19.5539 128.389 19.5539C129.698 19.5539 130.9 19.8466 131.82 20.2846V21.27V21.2677Z",fill:"white"}),i.createElement("path",{d:"M149.373 8.39038C147.781 8.39038 146.507 10.1422 145.73 12.0393V11.1634C145.73 9.63052 144.527 8.39038 143.041 8.39038C141.555 8.39038 140.353 9.63052 140.353 11.1634V25.6093C140.353 27.1422 141.555 28.3823 143.041 28.3823C144.527 28.3823 145.73 27.1422 145.73 25.6093V20.4298C145.73 16.4904 147.25 14.3364 149.973 13.6816C151.069 13.4269 151.99 12.551 151.99 11.0919C151.99 9.52327 151.034 8.39262 149.373 8.39262V8.39038Z",fill:"white"}),i.createElement("path",{d:"M156.456 1.31152C154.97 1.31152 153.768 2.55166 153.768 4.08452V25.6093C153.768 27.1422 154.97 28.3823 156.456 28.3823C157.942 28.3823 159.144 27.1422 159.144 25.6093V4.08452C159.144 2.55166 157.942 1.31152 156.456 1.31152Z",fill:"white"}),i.createElement("path",{d:"M176.788 8.39038C175.408 8.39038 174.63 9.3378 174.206 10.5064L170.244 21.8532L166.141 10.4707C165.682 9.15681 164.904 8.39038 163.559 8.39038C162.073 8.39038 160.906 9.48528 160.906 11.0539C160.906 11.4181 161.046 11.9656 161.189 12.3298L167.662 27.7991L167.484 28.2371C166.988 29.2225 166.529 29.4035 165.574 29.4035C165.184 29.4035 164.902 29.3298 164.443 29.1845C164.231 29.1108 163.984 29.0393 163.559 29.0393C162.463 29.0393 161.436 29.9509 161.436 31.3006C161.436 32.6502 162.357 33.3071 163.135 33.5999C164.018 33.9283 164.867 34.1116 166.07 34.1116C169.289 34.1116 170.879 32.6167 172.471 28.6393L179.084 12.2583C179.19 12.0035 179.331 11.3824 179.331 10.9444C179.331 9.48528 178.163 8.39038 176.783 8.39038H176.788Z",fill:"white"})),y=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),i.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),x=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),i.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),w=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),i.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),i.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),i.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFA027"}),i.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),i.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),i.createElement("stop",{offset:"1",stopColor:"#FFE261"})),i.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),i.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},i.createElement("stop",{stopColor:"#F18D84"}),i.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),i.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),i.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),i.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"}))));var _=n(62172);const S=e=>i.createElement(r.a1,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:_.Green30},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"}))},15906:(e,t,n)=>{n.d(t,{vw:()=>C,Ct:()=>ue,zx:()=>i,j4:()=>r.j4,xx:()=>he,XR:()=>r.XR,CT:()=>r.CT,T3:()=>r.T3,rN:()=>r.rN,k8:()=>r.k8,L3:()=>r.L3,Ho:()=>r.Ho,R6:()=>r.R6,kc:()=>r.kc,Ph:()=>se,cv:()=>r.cv,OJ:()=>r.OJ,wN:()=>r.wN,b:()=>w,pY:()=>q,uA:()=>r.uA,T6:()=>r.T6});var i,r=n(11227),o=n(27378),s=n(64757),a=n(12187),c=n(74911),u=n(20654),l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};!function(e){e.Primary=e=>{var{className:t,compact:n,theme:i,children:r,onClick:p,size:d}=e,f=l(e,["className","compact","theme","children","onClick","size"]);return o.createElement(s.zx.Primary,Object.assign({},(0,a.Sh)((0,c.P)({compact:n,theme:null!=i?i:"light",size:null!=d?d:"large",type:"primary"}),t),f,{onClick:(0,u.m)(p)}),r)},e.Secondary=e=>{var{className:t,compact:n,theme:i,children:r,onClick:p,size:d}=e,f=l(e,["className","compact","theme","children","onClick","size"]);return o.createElement(s.zx.Ghost,Object.assign({},(0,a.Sh)((0,c.P)({compact:n,theme:null!=i?i:"light",size:null!=d?d:"large",type:"secondary"}),t),f,{onClick:(0,u.m)(p)}),r)},e.Tertiary=e=>{var{className:t,compact:n,theme:i,children:r,onClick:p,size:d}=e,f=l(e,["className","compact","theme","children","onClick","size"]);return o.createElement(s.zx.Tertiary,Object.assign({},(0,a.Sh)((0,c.P)({compact:n,theme:null!=i?i:"light",size:null!=d?d:"large",type:"tertiary"}),t),f,{onClick:(0,u.m)(p)}),r)}}(i||(i={}));var p=n(88392),d=n(89894),f=n(15073),h=n(5114),m=n(31542),g=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const v="#161719",b="#646B81",y=e=>{var{children:t,style:n,dataGrammarlyPart:i="ui-kit-iframe"}=e,r=g(e,["children","style","dataGrammarlyPart"]);const[s,a]=o.useState(null),c=o.useCallback((e=>{var t,n;let i=null;"contentDocument"in e.target&&(i=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),a(i),i&&(i.style.margin="0",i.style.height="100vh",i.style.overflowY="hidden")}),[]),u=o.useContext(f.u.Context);return o.useEffect((()=>{const e=u.subscribe((e=>{s&&f.u.setRootCssVar(s,h.some(e))}));return()=>e.unsubscribe()}),[s]),o.createElement("iframe",Object.assign({},r,{style:Object.assign({},n),onLoad:c,srcDoc:"<html><body></body></html>","data-grammarly-part":i}),s&&(0,m.createPortal)(t,s))},x=1.375,w=({fitContentHeight:e,text:t,onChange:n,placeholder:i,disabled:r,className:s,onFocus:a,onBlur:c,onKeyPressEnter:u,autofocus:l,onKeyUpEscape:f})=>{const h=x*(i?i.length:1),[m,g]=o.useState({kind:"rem",value:h}),[w,_]=o.useState(null);return o.useEffect((()=>{w&&void 0!==l&&(w.focus(),w.selectionStart=t.length,w.selectionEnd=t.length)}),[l,w]),o.useLayoutEffect((()=>{if(""===t)g({kind:"rem",value:h});else{const e=null==w?void 0:w.scrollHeight;g(e?{kind:"px",value:e}:{kind:"rem",value:h})}}),[t,w,i]),o.createElement(y,{className:s,style:{height:e?"rem"===m.kind?d.ux.rem(m.value):d.ux.px(m.value):void 0}},o.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${d.ux.rem(p.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0px;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${d.ux.rem(.875)};\n        font-weight: 400;\n        color: ${v};\n      }\n      .textarea::placeholder {\n        color: ${b};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${d.ux.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${b};\n      }\n      `}}),o.createElement("div",{className:"container"},o.createElement("textarea",{className:"textarea",style:{lineHeight:d.ux.rem(x)},value:t,ref:_,onChange:e=>n(e.target.value),placeholder:1===(null==i?void 0:i.length)?i[0]:void 0,disabled:r,onFocus:()=>null==a?void 0:a(),onBlur:()=>null==c?void 0:c(),onKeyPress:e=>{u&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),u())},onKeyUp:e=>{f&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),f())}}),((null==i?void 0:i.length)||0)>1&&""===t?o.createElement("div",{className:"placeholder",style:{lineHeight:d.ux.rem(x)}},(i||[]).map(((e,t)=>o.createElement(o.Fragment,{key:t},e,o.createElement("br",null))))):null))};var _=n(22232),S=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new _.ej("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}();const k=new S(999999);var C;!function(e){e.create=function(e){return null!=e?e:k.newId()}}(C||(C={}));var E=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const O=e=>{var{text:t,onChange:n,placeholder:i,disabled:r,className:s,onFocus:a,onBlur:c,onKeyPressEnter:u,autofocus:l,onKeyUpEscape:f}=e,h=E(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[m,g]=o.useState(null);return o.useEffect((()=>{m&&void 0!==l&&m.focus()}),[l,m]),o.createElement(y,{className:s,style:{height:d.ux.rem(1.375)}},o.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${d.ux.rem(p.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${d.ux.rem(.875)};\n        font-weight: 400;\n        color: ${v};\n      }\n      .textBox::placeholder {\n        color: ${b};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `}}),o.createElement("input",Object.assign({},h,{className:"textBox",style:{lineHeight:d.ux.rem(1.375)},value:t,ref:g,onChange:e=>n(e.target.value),placeholder:i,disabled:r,onFocus:()=>null==a?void 0:a(),onBlur:()=>null==c?void 0:c(),onKeyPress:e=>{u&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),u())},onKeyDown:e=>{f&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),f())}})))};var I=n(89115),A=n(90845),T=n(31278),R=n(32952),P=n(78674),N=n(85985),U=n(2834),D=n(74204),B=n(52573),j=n(9546),G=n(13578),L=n(62172);const z={padding:`${d.ux.rem(j.F2)} ${d.ux.rem(j.F2+j.Ze)} ${d.ux.rem(j.F2)} ${d.ux.rem(j.qp)}`,border:`1px solid ${G.S5.InteractiveNeutral.Primary.Default}`,borderRadius:d.ux.rem(p.xB),width:d.ux.rem(15),height:d.ux.rem(2),boxSizing:"border-box",position:"relative"},F={position:"absolute",right:d.ux.rem(j.x),top:d.ux.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:d.ux.rem(1.5),height:d.ux.rem(1.5),padding:0},M=Object.assign(Object.assign({},u.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:G.XY.Content.Secondary.Default}}}),V=e=>d.ux.color(L.BlueGray40).toRGBA().fade(e).toString(),Z={padding:d.ux.rem(j.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${L.BlueGray40}, 0px 0px 2px 0.5px ${V(.5)}, 0px 1px 6px 0.5px ${V(.25)}`,borderRadius:d.ux.rem(p.xB),width:d.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:d.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},H={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:d.ux.rem(.875),lineHeight:d.ux.rem(1.375),color:G.XY.Content.Primary.Default,padding:`${d.ux.rem(.1875)} ${d.ux.rem(j.qp)}`,borderRadius:d.ux.rem(p.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:L.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},$={width:d.ux.percent(100),border:"none"},K=d.ux.prefixedStylesheet("select",{container:[z],clearBtn:[F],closeIcon:[M],menu:[Z],menuOption:[H],menuOptionPart:[{whiteSpace:"pre"}],inputIframe:[$]}),W=new S(999999);function q({text:e,placeholder:t,clearButton:n,selectOnBlur:i,label:r,options:s,className:c,filterBy:l=((e,t)=>r(e).toLowerCase().includes(t.toLowerCase())),onInputChange:p,onSelectionChange:d}){const[f,h]=o.useState(!1),m=o.useRef(W.newId().toString()),[g,v]=o.useState(null),[b,y]=o.useState(null),{styles:x,attributes:w}=(0,D.D)(g,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),_=s.filter((t=>l(t,e.trim()))),S=f&&_.length>0,k=o.useMemo((()=>new R.xQ),[]);return A.P.useSubscriptionTo(k.pipe(P.b(50),N.h((e=>!e)),U.b((()=>{h(!1),i&&""!==e.trim()&&d(_.length>0?_[0]:null)})))),o.createElement("div",Object.assign({},(0,a.Sh)(K.container,c),{ref:v}),o.createElement(O,{className:K.inputIframe,placeholder:t,onChange:p,text:e,onFocus:()=>{h(!0),k.next(!0)},onBlur:()=>k.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":m.current,"aria-expanded":S}),""!==e.trim()&&!!n&&o.createElement("button",{onClick:(0,u.m)((()=>d(null))),className:K.clearBtn,"aria-label":"Clear",type:"button"},o.createElement(T.JO.Close,{className:K.closeIcon})),S&&o.createElement("div",Object.assign({ref:y,style:x.popper},w.popper,{className:K.menu,onFocus:()=>k.next(!0),onBlur:()=>k.next(!1)}),o.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:m.current},_.map((t=>{const n=r(t);return o.createElement("li",{key:n,"aria-label":n,role:"option"},o.createElement("button",{className:K.menuOption,onClick:(0,u.m)((()=>{d(t),h(!1)}))},o.createElement(Y,{label:n,pattern:e})))})))))}const Y=({label:e,pattern:t})=>{if(""===t.trim())return o.createElement(o.Fragment,null,e);const n=t.trim(),i=e.split(new RegExp(n,"i")),r=(0,B.zG)(i.map(((e,t)=>({token:e,mark:!1,end:t*n.length+i.slice(0,t).join("").length+e.length}))),I.iD({token:"",mark:!0,end:0})).map(((t,i,r)=>t.mark&&i>0?{token:e.slice(r[i-1].end,r[i-1].end+n.length),mark:!0}:{token:t.token,mark:!1})).filter((e=>e.token.length>0));return o.createElement(o.Fragment,null,r.map(((e,t)=>e.mark?o.createElement("mark",{key:t,className:K.menuOptionPart},e.token):o.createElement("span",{key:t,className:K.menuOptionPart},e.token))))},Q={border:`1px solid ${G.S5.InteractiveNeutral.Primary.Default}`,borderRadius:d.ux.rem(p.xB),width:d.ux.rem(15),height:d.ux.rem(2),boxSizing:"border-box",position:"relative"},X={padding:`${d.ux.rem(j.F2)} ${d.ux.rem(j.F2+j.Ze)} ${d.ux.rem(j.F2)} ${d.ux.rem(j.qp)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},J={fontWeight:400,fontSize:d.ux.rem(.875),lineHeight:d.ux.rem(1.375),color:G.XY.Content.Primary.Default},ee=Object.assign(Object.assign({position:"absolute",top:d.ux.rem(j.F2),right:d.ux.rem(j.x)},u.Es.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:G.XY.Content.Secondary.Default}}}),te=e=>d.ux.color(L.BlueGray40).toRGBA().fade(e).toString(),ne={padding:d.ux.rem(j.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${L.BlueGray40}, 0px 0px 2px 0.5px ${te(.5)}, 0px 1px 6px 0.5px ${te(.25)}`,borderRadius:d.ux.rem(p.xB),width:d.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:d.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},ie={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:d.ux.rem(.875),lineHeight:d.ux.rem(1.375),color:G.XY.Content.Primary.Default,padding:`${d.ux.rem(.1875)} ${d.ux.rem(j.qp)}`,borderRadius:d.ux.rem(p.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:L.Blue0}}},re=d.ux.prefixedStylesheet("select",{container:[Q],selectBtn:[X],selectBtnLabel:[J],menu:[ne],menuOption:[ie],chevronIcon:[ee]}),oe=new S(999999);function se({label:e,selection:t,className:n,placeholder:i,options:r,onSelectionChange:s,renderOption:c}){const[l,p]=o.useState(!1),d=o.useRef(oe.newId().toString()),f=o.useRef(oe.newId().toString()),[h,m]=o.useState(null),[g,v]=o.useState(null),{styles:b,attributes:y}=(0,D.D)(h,g,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),x=o.useMemo((()=>new R.xQ),[]),w=o.useMemo((()=>x.pipe(P.b(50),N.h((e=>!e)),U.b((()=>{p(!1)})))),[x,p]);return A.P.useSubscriptionTo(w),o.createElement("div",Object.assign({},(0,a.Sh)(re.container,n),{ref:m}),o.createElement("button",{className:re.selectBtn,onFocus:()=>{p(!0),x.next(!0)},onBlur:()=>x.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":d.current,"aria-expanded":l,"aria-labelledby":f.current},o.createElement("div",{id:f.current,className:re.selectBtnLabel},t?c?c(t):e(t):i),o.createElement(T.JO.Arrow,{direction:T.n4.down,className:re.chevronIcon})),l&&o.createElement("div",Object.assign({ref:v,style:b.popper},y.popper,{className:re.menu,onFocus:()=>x.next(!0),onBlur:()=>x.next(!1)}),o.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:d.current},r.map(((t,n)=>{const i=e(t);return o.createElement("li",{key:n,"aria-label":i,role:"option"},o.createElement("button",{className:re.menuOption,onClick:(0,u.m)((()=>{s(t),p(!1)}))},c?c(t):e(t)))})))))}const ae={color:L.BlueGray60,fontWeight:400,fontSize:d.ux.rem(.625),lineHeight:d.ux.rem(1),background:L.BlueGray0,borderRadius:d.ux.rem(p.fe),padding:`0 ${d.ux.rem(j.F2)}`,cursor:"default"},ce=d.ux.stylesheet({badge:[ae]}),ue=({children:e})=>o.createElement("div",{className:ce.badge},e),le="closeBtn",pe="closeIcon",de=u.Es.buttonOverrideSpecificity({$nest:{[`& .${pe}`]:Object.assign(Object.assign({},u.Es.iconSizeRems(1.5)),{stroke:d.ux.important(G.S5.Content.Primary.Default)})}},le),fe={closeButton:d.ux.joinClasses([le,d.ux.style(de)]),closeIcon:pe},he=({name:e,className:t,size:n,onClick:r})=>o.createElement(i.Tertiary,Object.assign({},(0,a.Sh)(fe.closeButton,t),{onClick:r,compact:!0,size:n,theme:"dark",name:e}),o.createElement(T.JO.Close,{className:fe.closeIcon}))},8961:(e,t,n)=>{n.d(t,{Xd:()=>i,gy:()=>Ne,kF:()=>G,Bx:()=>De});var i,r=n(14601),o=n(32952),s=n(98403),a=n(77176),c=n(93508),u=n(16118),l=n(85985),p=n(2844),d=n(60797),f=n(67434),h=n(28043),m=n(5114),g=n(22232),v=n(55415),b=n(38983),y=n(27605),x=n(52573);!function(e){e.isTooltipOnboardingStep=function(e){return y.TG.StepName.isTooltipOnboardingStep(e.name)}}(i||(i={}));class w{constructor(e){var t,n,i,d,f;this._params=e,this._subs=new r.w,this._assistantElements=b.h.create({}),this._externalElements=b.h.create({}),this._hideAssistantTooltips=b.h.create(!1),this._nextCandidateStep=b.h.create(m.none),this._uiActions=new o.xQ,this.uiActions=this._uiActions.asObservable(),this.activeStep=b.h.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,((e,t,n,i)=>(0,x.zG)(e,m.chain((e=>function(e,t,n,i){switch(e){case y.TG.StepName.initial:return(0,x.zG)(m.fromNullable(n[y.nF.initialPopupAnchor]),m.map((e=>({name:y.TG.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case y.TG.StepName.rewrite:return(0,x.zG)(m.fromNullable(n[y.nF.rewriteTooltipAnchor]),m.map((e=>({name:y.TG.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case y.TG.StepName.prompts:return(0,x.zG)(m.fromNullable(t[y.ec.initialActionsList]),m.map((e=>({name:y.TG.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));case y.TG.StepName.review:return(0,x.zG)(m.fromNullable(t[y.ec.followUpActionsList]),m.map((e=>({name:y.TG.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!i}))));default:(0,g.L0)(e)}}(e,t,n,i)))))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this._params.upstreamOnboardingState,n=this._params.session,i=this._params.textStats,d=this._params.forceDisabledOnboardingSteps,f=this._params.client,p.aj([n,t,i.pipe(_())]).pipe(a.U((([e,t,n])=>m.isNone(e)?!d.has(y.TG.StepName.initial)&&(0,x.zG)(t.initial[f],(({completed:e,lastSeen:t})=>!e&&void 0===t))?m.some(y.TG.StepName.initial):!d.has(y.TG.StepName.rewrite)&&!t.rewrite[f].completed&&t.initial[f].completed&&n>=30?m.some(y.TG.StepName.rewrite):m.none:y.Zq.Step.everyClient((e=>!e.completed))(t.prompts)&&!d.has(y.TG.StepName.prompts)?m.some(y.TG.StepName.prompts):y.Zq.Step.everyClient((e=>!e.completed))(t.review)&&!d.has(y.TG.StepName.review)?m.some(y.TG.StepName.review):m.none)))).subscribe(s.wW(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe((({name:e,element:t})=>this._assistantElements.modify((n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:"left"}})))))),this._subs.add(this._params.assistantUnmountActions.subscribe((({name:e})=>this._assistantElements.modify((t=>Object.assign(Object.assign({},t),{[e]:void 0})))))),this._subs.add(this._params.externalElements.subscribe(s.wW(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(s.wW(this._hideAssistantTooltips))),this._subs.add(this._params.session.pipe(a.U(m.isSome),c.O(!1),u.G(),l.h((([e,t])=>e&&!t))).subscribe((()=>this._assistantElements.set({}))))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}function _(){return(0,x.ls)(d.oA,a.U(v.ei("wordCount")),c.O(0),u.G(),f.R(((e,[t,n])=>(0,x.zG)(Math.abs(n-t),(t=>t<=2?e+t:e))),0),c.O(0),h.x())}var S,k=n(89115),C=n(66310),E=n(41398),O=n(80544),I=n(79692),A=n(2834),T=n(24209),R=n(17343),P=n(40151),N=n(8125),U=n(83078);function D(e,t,n,i,r=1e3){return e.pipe(l.h((0,N.W9)(y.lG.is(y.lG.Kind.mount),(e=>n(e.step)))),C.w((({step:e})=>t.pipe(a.U(U.FX(e)),C.w((e=>e?i.pipe(R.h(Date.now())):P.E)),l.h((e=>Date.now()-e>=r)),R.h(e)))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e})=>e.pipe(c.O(m.none),u.G(),a.U((([e,t])=>m.isNone(e)&&m.isSome(t)?m.some(t):m.none)),d.oA,C.w((e=>(0,x.zG)([m.some(y.TG.StepName.initial),y.z_.Mode.isRewriteOrQuickRewrite(e.value.mode)?m.some(y.TG.StepName.rewrite):m.none],k.oA)))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(a.U((0,x.ls)(m.chain(y.z_.toStarted),m.fold((()=>0),(e=>e.resultHistory.length)))),u.G(),l.h((([e,t])=>1===e&&2===t)),E.M(t),a.U((([e,t])=>(0,x.zG)(t,m.filter((e=>e===y.TG.StepName.review))))),d.oA),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:i})=>D(i,t.pipe(O.QV(I.E)),y.TG.StepName.isAssistantOnboardingStep,e.pipe(u.G(),l.h((([e,t])=>m.isSome(e)&&m.isNone(t)))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(l.h(y.lG.is(y.lG.Kind.close)),a.U((e=>(e.step===y.TG.StepName.initial&&t.trackOnboardingPopupSkip(),e.step)))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(l.h(y.lG.is(y.lG.Kind.tryItOut)),a.U((()=>(t.trackOnboardingPopupNext(),y.TG.StepName.initial)))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(l.h((0,N.W9)(y.ix.isResultAction,(e=>"complete"===e.result.kind))),a.U((()=>y.TG.StepName.review))),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(l.h((0,N.Kg)(y.ix.is(y.ix.Kind.clickActionBrick),y.ix.is(y.ix.Kind.promptSend),y.ix.is(y.ix.Kind.openVoiceProfile),y.ix.is(y.ix.Kind.openFeedbackForm))),E.M(t),a.U((([e,t])=>(0,x.zG)(t,m.filter(y.TG.StepName.isAssistantOnboardingStep)))),d.oA),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:i})=>D(e,t,(e=>e===y.TG.StepName.initial),n,i);const t=e=>t=>n=>t(n).pipe(A.b((t=>{var i;return null===(i=n.logger)||void 0===i?void 0:i.debug(`${e} - step to complete: ${t}`)})));function n(e){return e.pipe(f.R(((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?m.none:m.some(t)})),{seen:new Set,step:m.none}),a.U((e=>e.step)),d.oA)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return T.T(...e.map((e=>e(t)))).pipe(n)}}(S||(S={}));var B=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class j extends w{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function G(e){var{assistantUIActions:t,trackingService:n,completeOnboardingStep:i,stepCompletionSources:o,disposed:s,logger:a}=e,c=B(e,["assistantUIActions","trackingService","completeOnboardingStep","stepCompletionSources","disposed","logger"]);const u=new r.w,p=new j(Object.assign(Object.assign({},c),{assistantMountActions:t.pipe(l.h(y.ix.is(y.ix.Kind.mount))),assistantUnmountActions:t.pipe(l.h(y.ix.is(y.ix.Kind.unmount)))}),(()=>u.unsubscribe()));return u.add(S.extractStepsToComplete(null!=o?o:S.defaultCompletionSources,{onboardingUIActions:p.uiActions,assistantUIActions:t,activeStep:p.activeStep.view(m.map((e=>e.name))),session:c.session,trackingService:n,disposed:s,logger:a}).subscribe(i)),u.add(function(e,t){return e.pipe(l.h(y.lG.is(y.lG.Kind.mount)),A.b((e=>{switch(e.step){case y.TG.StepName.initial:return t.trackOnboardingPopupView();case y.TG.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case y.TG.StepName.review:return t.trackOnboardingReviewTooltipView();case y.TG.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();default:(0,g.L0)(e.step)}})))}(p.uiActions,n).subscribe()),p}var L=n(34217),z=n(27378),F=n(15906),M=n(89894),V=n(88392),Z=n(13578),H=n(9546),$=n(20654);const K="tryItOutBtn",W="skipBtn",q=M.ux.rem(V.xB+V.fe),Y={width:M.ux.rem(25.875),background:Z.XY.Surface.Primary.Default},Q={display:"flex",alignItems:"center",justifyContent:"center",height:M.ux.rem(14.5625),width:"100%",backgroundColor:"#00231F",backgroundImage:"url(https://assets.grammarly.com/icons/v1/cheetah-onboarding.2x.png)",backgroundPosition:`top ${M.ux.rem(1)} left 0`,backgroundSize:"100%",backgroundRepeat:"no-repeat",borderTopLeftRadius:q,borderTopRightRadius:q},X={display:"flex",flexDirection:"column",gap:M.ux.rem(H.F2),padding:`${M.ux.rem(H.mh)} ${M.ux.rem(H.x0)} ${M.ux.rem(H.sD)} ${M.ux.rem(H.sD)}`,color:Z.XY.Content.Primary.Default},J={display:"flex",flexDirection:"row",alignItems:"center",gap:M.ux.rem(H.x),fontWeight:"bold",fontSize:M.ux.rem(1),lineHeight:M.ux.rem(1.5)},ee={fontSize:M.ux.rem(.875),lineHeight:M.ux.rem(1.375)},te={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:q,borderBottomRightRadius:q,padding:`${M.ux.rem(H.qp)} ${M.ux.rem(H.sD)} ${M.ux.rem(H.qp)} ${M.ux.rem(H.sD)}`,backgroundColor:Z.XY.Surface.Secondary.Default,color:Z.XY.Content.Secondary.Default,fontSize:M.ux.rem(.875),lineHeight:M.ux.rem(1.3125),$nest:{a:{color:"inherit"}}},ne={width:M.ux.rem(12),lineHeight:M.ux.rem(1.25)},ie=Object.assign({marginRight:M.ux.rem(.5)},$.Es.buttonOverrideSpecificity({fontSize:M.ux.rem(.875)},W)),re=$.Es.buttonOverrideSpecificity({fontSize:M.ux.rem(.875),fontWeight:"bold"},K),oe={position:"absolute",top:M.ux.rem(H.x),right:M.ux.rem(H.x)},se={container:M.ux.style(Y),image:M.ux.style(Q),content:M.ux.style(X),contentHeader:M.ux.style(J),contentText:M.ux.style(ee),footer:M.ux.style(te),footerText:M.ux.style(ne),footerButtons:M.ux.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),skipButton:M.ux.joinClasses([W,M.ux.style(ie)]),tryItOutButton:M.ux.joinClasses([K,M.ux.style(re)]),link:M.ux.style({display:"inline"}),closeButton:M.ux.style(oe)};var ae=n(12187),ce=n(74204),ue=n(62172);const le=e=>M.ux.color(ue.BlueGray40).toRGBA().fade(e).toString(),pe={filter:`drop-shadow(0px 0px 0.5px ${ue.BlueGray40}) drop-shadow(0px 0px 2px ${le(.5)}) drop-shadow(0px 1px 6px ${le(.25)})`,borderRadius:M.ux.rem(V.xB+V.fe)},de=M.ux.stylesheet({popover:[pe]}),fe=z.forwardRef((function({placement:e,style:t,arrowColor:n},i){return z.createElement("div",{ref:i,style:{width:33}},z.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${he(e)}deg)`.trimStart()}),me(e))},z.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function he(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function me(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const ge=(0,ae.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,className:r,arrowColor:o,children:s})=>{const[a,c]=z.useState(null),[u,l]=z.useState(null),p=(0,$.sJ)(),{styles:d,attributes:f,state:h}=(0,ce.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=i?i:5}},p]});return z.createElement("div",Object.assign({ref:c,style:d.popper},f.popper,(0,ae.Sh)(de.popover,r)),z.createElement(fe,{ref:l,style:d.arrow,placement:null==h?void 0:h.placement,arrowColor:o}),s)}));var ve=n(90845);const be=L.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:i}=ve.P.useElWatcher(),r=z.useMemo((()=>n.pipe(O.QV(I.E),d.oA,A.b((e=>t({kind:y.lG.Kind.mount,step:y.TG.StepName.initial,element:e})())))),[n]);return ve.P.useSubscriptionTo(r),z.createElement(ge,{className:se.container,reference:e("reference"),placement:e("placement"),offset:e("offset"),boundaryAreaPadding:e("boundaryAreaPadding"),arrowColor:Z.XY.Surface.Secondary.Default},z.createElement(F.xx,{onClick:t({kind:y.lG.Kind.close,step:y.TG.StepName.initial}),name:"onboardingClose",size:"medium",className:se.closeButton}),z.createElement("div",{className:se.image},z.createElement(F.rN,null)),z.createElement("div",{className:se.content,ref:i},z.createElement("div",{className:se.contentHeader},z.createElement("div",null,"Write faster with GrammarlyGO"),z.createElement(F.Ct,null,"Beta")),z.createElement("div",{className:se.contentText},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")),z.createElement("div",{className:se.footer},z.createElement("div",{className:se.footerText},"If you use GrammarlyGO,"," ",z.createElement("a",{href:"https://grammarly.com/terms",rel:"noreferrer",target:"_blank",className:se.link},"additional terms")," ","apply."),z.createElement("div",{className:se.footerButtons},z.createElement(F.zx.Tertiary,{onClick:t({kind:y.lG.Kind.close,step:y.TG.StepName.initial}),className:se.skipButton,name:"skip"},"Skip"),z.createElement(F.zx.Primary,{onClick:t({kind:y.lG.Kind.tryItOut}),className:se.tryItOutButton,name:"tryItOut"},"Try it out"))))}));function ye(e){return L.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(d.oA))}const xe={animation:`${M.ux.keyframes({from:{opacity:0},to:{opacity:1}})} linear 0.1s`,background:ue.Green80,borderRadius:M.ux.rem(H.x),width:M.ux.rem(13.75),color:Z.S5.Content.Primary.Default,padding:M.ux.rem(H.mh),fontSize:M.ux.rem(.875),lineHeight:M.ux.rem(1.375),display:"flex",flexDirection:"column",gap:M.ux.rem(H.yC),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}},we=M.ux.rem(.5),_e=M.ux.rem(-.5),Se=ue.Green80,ke={$nest:{"&[data-placement='bottom']":{top:_e,borderLeft:`${we} solid transparent`,borderRight:`${we} solid transparent`,borderBottom:`${we} solid ${Se}`},"&[data-placement='top']":{bottom:_e,borderLeft:`${we} solid transparent`,borderRight:`${we} solid transparent`,borderTop:`${we} solid ${Se}`},"&[data-placement='right']":{left:_e,borderTop:`${we} solid transparent`,borderBottom:`${we} solid transparent`,borderRight:`${we} solid ${Se}`},"&[data-placement='left']":{right:_e,borderTop:`${we} solid transparent`,borderBottom:`${we} solid transparent`,borderLeft:`${we} solid ${Se}`}}},Ce=M.ux.stylesheet({tooltip:[xe],arrow:[ke]}),Ee=(0,ae.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:i,children:r})=>{var o,s;const[a,c]=z.useState(null),[u,l]=z.useState(null),p=(0,$.sJ)(),{styles:d,attributes:f,state:h}=(0,ce.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:u,padding:12}},{name:"preventOverflow",options:{padding:null!=i?i:5}},p]});return z.createElement("div",Object.assign({ref:c,style:d.popper},f.popper,{className:Ce.tooltip}),z.createElement("div",{ref:l,style:d.arrow,className:Ce.arrow,"data-placement":(null===(o=null==h?void 0:h.placement)||void 0===o?void 0:o.startsWith("bottom"))?"bottom":(null==h?void 0:h.placement.startsWith("top"))?"top":(null==h?void 0:h.placement.startsWith("right"))?"right":(null===(s=null==h?void 0:h.placement)||void 0===s?void 0:s.startsWith("left"))?"left":void 0}),r)})),Oe={position:"absolute",top:M.ux.rem(H.x),right:M.ux.rem(H.x)},Ie=M.ux.stylesheet({title:[{fontWeight:700}],closeButton:[Oe]}),Ae={[y.TG.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${e} each month.`:"Choose a suggested prompt, or type your own to get started."},[y.TG.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[y.TG.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."}},Te=L.UI.Node.make((({state:e,view:t,notify:n})=>{const{ref:i,onMount:r}=ve.P.useElWatcher(),o=z.useMemo((()=>i.pipe(d.oA,E.M(t("name")),O.QV(I.E),a.U((([e,t])=>({element:e,stepName:t}))),A.b((({element:e,stepName:t})=>n({kind:y.lG.Kind.mount,step:t,element:e})())))),[i]);return ve.P.useSubscriptionTo(o),z.createElement(Ee,{reference:t("reference"),placement:t("placement"),offset:t("offset"),boundaryAreaPadding:t("boundaryAreaPadding")},e.pipe(a.U((e=>z.createElement(z.Fragment,null,z.createElement(F.xx,{onClick:n({kind:y.lG.Kind.close,step:e.name}),name:"tooltipClose",className:Ie.closeButton,size:"small"}),z.createElement("div",{className:Ie.title},Ae[e.name].title),z.createElement("div",{ref:r},e.name===y.TG.StepName.prompts?Ae[e.name].description(e.promptsAllocated):Ae[e.name].description))))))})),Re=L.UI.Union.asOption(Te);function Pe(e){return L.Z.composeOption(function(e){return L.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(d.oA,l.h(i.isTooltipOnboardingStep),E.M(e.promptsAllocated.pipe(a.U(m.toUndefined))),a.U((([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t})))))}(e),(()=>e.activeStep.pipe(a.U(m.filter(i.isTooltipOnboardingStep)))))}const Ne=L.UI.Union.make("kind",{none:L.UI.Node.empty,initial:be,tooltip:Re});var Ue=n(76974);function De(e){return L.Z.composeUnion({none:()=>Ue.of(null),initial:ye(e),tooltip:Pe(e)},(()=>e.activeStep.view(Be).view((e=>({kind:e})))))}function Be(e){return(0,x.zG)(e,m.filter((e=>e.show)),m.fold((()=>"none"),(e=>{switch(e.name){case y.TG.StepName.initial:return"initial";case y.TG.StepName.prompts:case y.TG.StepName.review:case y.TG.StepName.rewrite:return"tooltip";default:(0,g.L0)(e.name)}})))}},99223:(e,t,n)=>{n.r(t),n.d(t,{baseButtonContentOverrideSpecificity:()=>u,buttonOverrideSpecificity:()=>p,cheetahButtonContentOverrideSpecificity:()=>l,heightAndMinHeightRems:()=>o,iconSizeRems:()=>s,repeatClassSelector:()=>a,specificity:()=>c,widthAndMinWidthRems:()=>r});var i=n(89894);function r(e){return{width:i.ux.rem(e),minWidth:i.ux.rem(e)}}function o(e){return{height:i.ux.rem(e),minHeight:i.ux.rem(e)}}function s(e,t){return Object.assign(Object.assign({},r(e)),o(null!=t?t:e))}function a(e,t){return`.${e}`.repeat(t)}function c(e,t,n){return{$nest:{[`&${a(t,n)}`]:e}}}const u=6,l=u+1;function p(e,t){return c(e,t,l)}},97547:(e,t,n)=>{n.d(t,{E:()=>a,Jj:()=>o,ap:()=>s});var i=n(77176),r=n(31699);function o(e){const t=function(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}const s=["b","i"];function a(e,t=s){return"string"==typeof e?{dangerouslySetInnerHTML:{__html:(0,r.sanitize)(e,{ALLOWED_TAGS:t})}}:{dangerouslySetInnerHTML:e.pipe(i.U((e=>({__html:(0,r.sanitize)(e,{ALLOWED_TAGS:t})}))))}}},20654:(e,t,n)=>{n.d(t,{Es:()=>U,BO:()=>r,eG:()=>_.e,E9:()=>o,JY:()=>R,C7:()=>s,uj:()=>w,m:()=>O,NN:()=>a,lA:()=>N,gM:()=>E,sJ:()=>k});var i=n(62172);const r=Object.assign(Object.assign({},i),{BrandGreen60:"#018374",BrandGreen80:"#017467"});var o;function s(e=document){return{top:0,left:0,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}function a(e,t){return n=>{const i=function(e,t){const n=e.left<t.left?t.left:e.left+e.width>t.left+t.width?t.left+t.width-e.width:e.left,i=e.top<t.top?t.top:e.top+e.height>t.top+t.height?t.top+t.height-e.height:e.top;return Object.assign(Object.assign({},e),{left:n,top:i})}({left:e.left+n.x,top:e.top+n.y,width:e.width,height:e.height},t);return{x:i.left-e.left,y:i.top-e.top}}}!function(e){e.fromCartesian=function({x:e,y:t}){return{top:t,left:e}},e.l1Distance=function(e,t){return Math.abs(e.top-t.top)+Math.abs(e.left-t.left)}}(o||(o={}));var c,u=n(52573),l=n(97547),p=n(85985),d=n(28043),f=n(66310),h=n(49708),m=n(2834),g=n(77176),v=n(2768),b=n(55721),y=n(39719),x=n(67434);function w(){return(0,u.ls)(p.h((e=>!!e)),d.x(),f.w((e=>h.R(e,"mousedown").pipe(p.h((e=>!e.button)),m.b((e=>e.preventDefault())),g.U((t=>({element:e,startPos:{x:t.clientX,y:t.clientY}}))),f.w((e=>h.R((0,l.Jj)(e.element),"mousemove").pipe(v.R(h.R((0,l.Jj)(e.element),"mouseup",{capture:!0})),b.p(10),g.U((({clientX:t,clientY:n})=>({kind:"dragInProgress",element:e.element,startPos:e.startPos,delta:{x:t-e.startPos.x,y:n-e.startPos.y}}))),y.l({kind:"dragDone"}))))))),x.R(((e,t)=>"dragDone"===t.kind?{translate:e.translate,lastTranslate:e.translate,dragging:!1,dragStart:!1,dragEnd:e.dragging}:{dragging:!0,dragStart:!e.dragging,dragEnd:!1,lastTranslate:e.lastTranslate,translate:{x:t.delta.x+e.lastTranslate.x,y:t.delta.y+e.lastTranslate.y}}),c.create()))}!function(e){e.create=function(){return{translate:{x:0,y:0},lastTranslate:{x:0,y:0},dragging:!1,dragStart:!1,dragEnd:!1}}}(c||(c={}));var _=n(99341),S=n(27378);function k(){return S.useMemo((()=>({name:"nudgeArrow",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout((()=>e.forceUpdate()),0);return()=>clearTimeout(t)}})),[])}var C=n(34530);function E(e){return S.useMemo((()=>({name:"maxSize",phase:"main",enabled:!0,requiresIfExists:["offset","preventOverflow","flip"],fn({state:t,name:n}){const i=(0,C.Z)(t),{x:r,y:o}=t.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:a}=t.rects.popper,[c]=t.placement.split("-"),u="top"===c?"top":"bottom",l={width:s-i["left"===c?"left":"right"]-r,height:a-i[u]-o};t.modifiersData[n]=l,null==e||e(l)}})),[])}function O(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}var I=n(89115),A=n(45701),T=n(5114);function R(){return A.contramap((({matchScore:e})=>e))(A.ordNumber)}function P(e){return e.split(/\s+/).map((e=>e.trim())).filter((e=>""!==e))}function N(e,t,n){const i=P(e),r=[...P(t),...(0,u.zG)(n,I.tS((e=>P(e))))],o=i.map((()=>null));let s=0;for(const e of r){if(s>=i.length)break;e.toLowerCase().includes(i[s].toLowerCase())&&(o[s]=0,++s)}return o.includes(null)?T.none:T.some(o.map((e=>null!=e?e:0)).reduce(((e,t)=>e+t),0))}var U=n(99223)},99341:(e,t,n)=>{n.d(t,{e:()=>i,n:()=>a});var i,r=n(52573),o=n(53875),s=n(5114);function a(e){return(t,n)=>i=>(0,r.zG)(i,o.cq(e)(t,(0,r.ls)(s.some,n)),s.getOrElse((()=>(0,r.zG)(i,o.ZQ(e)(t,n(s.none))))))}!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(i||(i={}))},7369:(e,t,n)=>{function i(e,t,n){return function(r){for(var o=Array(n.length+1),s=0;s<n.length;s++)o[s]=n[s];return o[n.length]=r,0===t?e.apply(null,o):i(e,t-1,o)}}n.d(t,{Yt:()=>r});function r(e){return function(t){for(var n=Object.keys(t),r=n.length,o=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=n,i}};case 3:return function(t){return function(n){return function(i){var r;return(r={})[e[0]]=t,r[e[1]]=n,r[e[2]]=i,r}}};case 4:return function(t){return function(n){return function(i){return function(r){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=i,o[e[3]]=r,o}}}};case 5:return function(t){return function(n){return function(i){return function(r){return function(o){var s;return(s={})[e[0]]=t,s[e[1]]=n,s[e[2]]=i,s[e[3]]=r,s[e[4]]=o,s}}}}};default:return i((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r={},o=0;o<t;o++)r[e[o]]=n[o];return r}),t-1,[])}}(n),s=e.map(t[n[0]],o),a=1;a<r;a++)s=e.ap(s,t[n[a]]);return s}}},95010:(e,t,n)=>{n.d(t,{f7:()=>i});n(52573);var i=function(e){return{equals:function(t,n){return t===n||e(t,n)}}}},99527:(e,t,n)=>{function i(e){return function(t,n){return function(i){return e.map(i,(function(e){var i;return Object.assign({},e,((i={})[t]=n(e),i))}))}}}n.d(t,{Hr:()=>i})},89115:(e,t,n)=>{n.d(t,{tS:()=>q,pO:()=>w,oA:()=>ne,QI:()=>Ce,hX:()=>J,DZ:()=>te,Ew:()=>v,YM:()=>f,iD:()=>x,UI:()=>Y,Su:()=>Q,Bk:()=>Ee,GY:()=>b,DY:()=>y,zT:()=>g,ke:()=>h});var i=n(52573),r=(n(99527),n(15053)),o=n(67457),s=n(89672);function a(e,t){return function(n){var i=e.traverse(n);return function(e,r){return n.map(i(e,r),t.separate)}}}function c(e,t){return function(n){var i=e.traverse(n);return function(e,r){return n.map(i(e,r),t.compact)}}}var u=function(e){return 0===e.length},l=o.Od,p=(o.Ce,o.ws,o.R3);o.Im;var d=o.dC;var f=function(e){return l(e)?r.G(o.YM(e)):r.YP},h=function(e){return function(t){return d(e,t)?t:0===e?ke:t.slice(0,e)}};var m=function(e,t){for(var n=e.length,i=0;i<n&&t(e[i]);i++);return i};function g(e){return function(t){var n=_(m(t,e))(t);return{init:n[0],rest:n[1]}}}function v(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return r.G(t[n]);return r.YP}}var b=function(e){return e.length<=1?e:e.slice().reverse()},y=function(e){return function(t){return t.length<=1?t:t.slice().sort(e.compare)}};var x=function(e){var t=o.iD(e);return function(e){return l(e)?t(e):e}};var w=function(e){var t=o.pO(e);return function(e){return l(e)?t(e):ke}},_=function(e){return function(t){return e>=1&&l(t)?o.lx(e)(t):u(t)?[t,ke]:[ke,t]}};var S=function(e,t){return(0,i.zG)(e,Y(t))},k=function(e,t){return(0,i.zG)(e,Q(t))},C=function(e,t){return(0,i.zG)(e,W(t))},E=function(e,t){return(0,i.zG)(e,q(t))},O=function(e,t){return(0,i.zG)(e,J(t))},I=function(e,t){return(0,i.zG)(e,te(t))},A=function(e,t){return(0,i.zG)(e,ie(t))},T=function(e,t){return(0,i.zG)(e,oe(t))},R=function(e,t){return(0,i.zG)(e,re(t))},P=function(e,t){return(0,i.zG)(e,se(t))},N=function(e,t){return(0,i.zG)(e,K(t))},U=function(e,t,n){return(0,i.zG)(e,le(t,n))},D=function(e){var t=pe(e);return function(e,n){return(0,i.zG)(e,t(n))}},B=function(e,t,n){return(0,i.zG)(e,fe(t,n))},j=function(e,t,n){return(0,i.zG)(e,de(t,n))},G=function(e){var t=ue(e);return function(e,n){return(0,i.zG)(e,t(n))}},L=function(e,t,n){return(0,i.zG)(e,he(t,n))},z=function(e,t){return(0,i.zG)(e,ee(t))},F=function(e,t){return(0,i.zG)(e,ae(t))},M=function(e,t){return(0,i.zG)(e,ce(t))},V=function(e){var t=me(e);return function(e,n){return(0,i.zG)(e,t(n))}},Z=function(e){var t=ve(e);return function(e,n){return(0,i.zG)(e,t(n))}},H=o.of,$=function(){return ke},K=function(e){return function(t){return t.concat(e())}},W=function(e){return q((function(t){return(0,i.zG)(e,Y(t))}))},q=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(u(t))return ke;for(var n=[],i=0;i<t.length;i++)n.push.apply(n,e(i,t[i]));return n}}((function(t,n){return e(n)})))}},Y=function(e){return function(t){return t.map((function(t){return e(t)}))}},Q=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},X=function(e){for(var t=[],n=[],i=0,r=e;i<r.length;i++){var o=r[i];"Left"===o._tag?t.push(o.left):n.push(o.right)}return(0,s.s4)(t,n)},J=function(e){return function(t){return t.filter(e)}},ee=function(e){return function(t){for(var n=[],i=0;i<t.length;i++){var o=e(i,t[i]);r.pC(o)&&n.push(o.value)}return n}},te=function(e){return ee((function(t,n){return e(n)}))},ne=te(i.yR),ie=function(e){return re((function(t,n){return e(n)}))},re=function(e){return function(t){for(var n=[],i=[],r=0;r<t.length;r++){var o=t[r];e(r,o)?i.push(o):n.push(o)}return(0,s.s4)(n,i)}},oe=function(e){return se((function(t,n){return e(n)}))},se=function(e){return function(t){for(var n=[],i=[],r=0;r<t.length;r++){var o=e(r,t[r]);"Left"===o._tag?n.push(o.left):i.push(o.right)}return(0,s.s4)(n,i)}},ae=function(e){return function(t){return t.filter((function(t,n){return e(n,t)}))}},ce=function(e){return function(t){return t.map((function(n,i){return e(t.slice(i))}))}},ue=function(e){return function(t){return function(n){return n.reduce((function(n,i,r){return e.concat(n,t(r,i))}),e.empty)}}},le=function(e,t){return de(e,(function(e,n,i){return t(n,i)}))},pe=function(e){var t=ue(e);return function(e){return t((function(t,n){return e(n)}))}},de=function(e,t){return function(n){for(var i=n.length,r=e,o=0;o<i;o++)r=t(o,r,n[o]);return r}},fe=function(e,t){return he(e,(function(e,n,i){return t(n,i)}))},he=function(e,t){return function(n){return n.reduceRight((function(e,n,i){return t(i,n,e)}),e)}},me=function(e){var t=ve(e);return function(e){return t((function(t,n){return e(n)}))}},ge=function(e){return function(t){return U(t,e.of($()),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,p(t))}})),n)}))}},ve=function(e){return function(t){return de(e.of($()),(function(n,r,o){return e.ap(e.map(r,(function(e){return function(t){return(0,i.zG)(e,p(t))}})),t(n,o))}))}},be=function(e,t){for(var n=[],i=e;;){var o=t(i);if(!r.pC(o))break;var s=o.value,a=s[0],c=s[1];n.push(a),i=c}return n},ye="ReadonlyArray",xe={URI:ye,compact:ne,separate:X},we={URI:ye,map:S,reduce:U,foldMap:D,reduceRight:B,traverse:V,sequence:ge},_e=c(we,xe),Se=a(we,xe),ke=(o.oo,o.cS);r.F4,o.w6;var Ce=o.QI,Ee=(o.Ss,{URI:ye,compact:ne,separate:X,map:S,ap:C,of:H,chain:E,filter:O,filterMap:I,partition:A,partitionMap:T,mapWithIndex:k,partitionMapWithIndex:P,partitionWithIndex:R,filterMapWithIndex:z,filterWithIndex:F,alt:N,zero:$,unfold:be,reduce:U,foldMap:D,reduceRight:B,traverse:V,sequence:ge,reduceWithIndex:j,foldMapWithIndex:G,reduceRightWithIndex:L,traverseWithIndex:Z,extend:M,wither:_e,wilt:Se})},53875:(e,t,n)=>{n.d(t,{Eh:()=>c,ZQ:()=>u,cq:()=>o});var i=n(95010),r=(n(52573),n(15053));n(89672);var o=function(e){var t=s(e);return function(e,n){return function(i){var o=t(e,i);if(r.Wi(o))return r.YP;var s=o.value,a=s[0],c=s[1],u=n(c);if(u===c)return r.G(i);var l=new Map(i);return l.set(a,u),r.G(l)}}};function s(e){return function(t,n){if(void 0===n){var i=s(e);return function(e){return i(t,e)}}for(var o,a=n.entries();!(o=a.next()).done;){var c=o.value,u=c[0],l=c[1];if(e.equals(u,t))return r.G([u,l])}return r.YP}}function a(e,t){var n=s(e);return function(i,o){if(void 0===o){var s=a(e,t);return function(e){return s(e,i)}}for(var c,u=i.entries();!(c=u.next()).done;){var l=c.value,p=l[0],d=l[1],f=n(p,o);if(r.Wi(f)||!e.equals(p,f.value[0])||!t.equals(d,f.value[1]))return!1}return!0}}new Map;function c(e,t){var n=a(e,t);return(0,i.f7)((function(e,t){return n(e,t)&&n(t,e)}))}var u=function(e){var t=s(e);return function(e,n){var i=t(e);return function(t){var o,s=i(t);return r.Wi(s)?((o=new Map(t)).set(e,n),o):s.value[1]!==n?((o=new Map(t)).set(s.value[0],n),o):t}}}},67457:(e,t,n)=>{n.d(t,{Ce:()=>l,DY:()=>b,Im:()=>p,Od:()=>a,QI:()=>A,R3:()=>d,Ss:()=>T,UI:()=>k,YM:()=>O,c2:()=>h,cS:()=>s,dC:()=>c,iD:()=>x,lx:()=>_,of:()=>S,oo:()=>f,pO:()=>w,w6:()=>g,ws:()=>u});var i=n(52573),r=(n(99527),n(15053)),o=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},s=r.Xl,a=r.Od,c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return o([e],t,!0)}},l=u,p=function(e){return function(t){return o(o([],t,!0),[e],!1)}},d=p,f=function(e,t,n){if(a(n)){var i=r.r1(n);return i.splice(e,0,t),i}return[t]},h=function(e){return a(e)?r.G(e):r.YP},m=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),i=[e(0)],r=1;r<n;r++)i.push(e(r));return i}},g=function(e,t){return e<=t?m((function(t){return e+t}))(t-e+1):[e]};function v(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var b=function(e){return function(t){return 1===t.length?t:t.slice().sort(e.compare)}};var y=function(e){return function(t){for(var n=[e,t[0]],i=1;i<t.length;i++)n.push(e,t[i]);return n}},x=function(e){return function(t){var n=I(t);return a(n)?(0,i.zG)(n,y(e),l(O(t))):t}},w=function(e){return function(t){for(var n=e(t),i=[n[0]],r=n[1];a(r);){var o=e(r),s=o[0],c=o[1];i.push(s),r=c}return i}},_=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[t,s]:[(0,i.zG)(t.slice(1,n),l(O(t))),t.slice(n)]}},S=r.ri,k=function(e){return C((function(t,n){return e(n)}))},C=function(e){return function(t){for(var n=[e(0,O(t))],i=1;i<t.length;i++)n.push(e(i,t[i]));return n}},E=r.YM,O=(r.F4,E),I=r.Gb;function A(e,t){return void 0===t?l(e):(0,i.zG)(t,l(e))}var T=function(e,t){return(0,i.zG)(e,v([t]))}},78302:(e,t,n)=>{n.d(t,{Eh:()=>l,$T:()=>s,Od:()=>a});var i=n(95010),r=(n(52573),function(e){return function(t){return!e(t)}});function o(e){return function(t){for(var n,i=t.values(),r=new Set;!(n=i.next()).done;){var o=n.value;e(o)&&r.add(o)}return r}}function s(e){var t=u(e);return function(e){return function(n){if(t(e)(n))return n;var i=new Set(n);return i.add(e),i}}}var a=function(e){return function(t){return function(n){return o((function(n){return!e.equals(t,n)}))(n)}}};new Set;function c(e){var t=u(e);return function(n,i){if(void 0===i){var o=c(e);return function(e){return o(e,n)}}return r(function(e){return function(t){for(var n,i=t.values(),r=!1;!r&&!(n=i.next()).done;)r=e(n.value);return r}}(r((function(e){return t(e,i)}))))(n)}}function u(e){return function(t,n){if(void 0===n){var i=u(e);return function(e){return i(t,e)}}for(var r,o=n.values(),s=!1;!s&&!(r=o.next()).done;)s=e.equals(t,r.value);return s}}function l(e){var t=c(e);return(0,i.f7)((function(e,n){return t(e,n)&&t(n,e)}))}},89672:(e,t,n)=>{n.d(t,{s4:()=>i});n(52573);var i=function(e,t){return{left:e,right:t}}},52573:(e,t,n)=>{n.d(t,{Q1:()=>c,SK:()=>p,W8:()=>o,gn:()=>a,jv:()=>s,ls:()=>u,yR:()=>i,zG:()=>l});function i(e){return e}function r(e){return function(){return e}}var o=r(!0),s=r(!1),a=r(null),c=r(void 0);function u(e,t,n,i,r,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return i(n(t(e.apply(this,arguments))))};case 5:return function(){return r(i(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(r(i(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(o(r(i(n(t(e.apply(this,arguments)))))))};case 8:return function(){return a(s(o(r(i(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(a(s(o(r(i(n(t(e.apply(this,arguments)))))))))}}}function l(e,t,n,i,r,o,s,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return i(n(t(e)));case 5:return r(i(n(t(e))));case 6:return o(r(i(n(t(e)))));case 7:return s(o(r(i(n(t(e))))));case 8:return a(s(o(r(i(n(t(e)))))));case 9:return c(a(s(o(r(i(n(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var p=function(e,t){return t}},15053:(e,t,n)=>{n.d(t,{F2:()=>p,F4:()=>v,G:()=>a,Gb:()=>m,Od:()=>f,Wi:()=>r,Xl:()=>g,YM:()=>h,YP:()=>s,nM:()=>c,pC:()=>o,r1:()=>b,ri:()=>d,t$:()=>l,tO:()=>u});var i=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},r=function(e){return"None"===e._tag},o=function(e){return"Some"===e._tag},s={_tag:"None"},a=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},p=function(e){return{_tag:"Right",right:e}},d=function(e){return[e]},f=function(e){return e.length>0},h=function(e){return e[0]},m=function(e){return e.slice(1)},g=[],v={},b=(Object.prototype.hasOwnProperty,function(e){return i([e[0]],e.slice(1),!0)})},67394:(e,t,n)=>{n.d(t,{JJ:()=>r,JU:()=>i,r3:()=>o});var i,r,o,s=n(59312),a=n(71249),c=n(45614),u=n(57050),l=n(40327),p=n(8709),d=n(73975),f=n(5114),h=n(22232),m=n(83078),g=n(95195),v=n(89943),b=n(26328),y=n(95574),x=n(81670),w=n(42040),_=n(36991),S=n(52226);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var i=function(e){return"object"==typeof e&&null!==e};e.eqAttributes=c.Eh(d.f7((function(t,n){return i(t)&&i(n)?e.eqAttributes.equals(t,n):d.w4.equals(t,n)}))),e.eq=d.MW({type:d.w4,group:f.getEq(d.yv),insert:d.yv,delete:d.lr,retain:d.lr,attributes:e.eqAttributes}),e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&r(t.insert)},e.isInsertGap=function(t){return e.isInsert(t)&&o(t.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(t){return"retain"in t&&e.isOptionalContextType(t.type)};var r=function(e){return"string"==typeof e},o=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(t){return t.type===e.Type.Main},e.isOptionalType=function(t){return t===e.Type.Optional},e.isOptionalContextType=function(t){return t===e.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,h.vE)(e.type)}},e.fromRawAbsAlternative=function(e){if(a=e.ops,c=a[0],Boolean(c)&&"retain"in c&&Boolean(c.attributes)&&"optional_context"===c.attributes.type){var t=e.ops,i=t[0],r=t.slice(1),o={retain:i.retain,type:n.OptionalContext,group:f.none};return(0,s.ev)([o],r.map(g),!0)}return e.ops.map(g);var a,c},e.length=p.i.Op.length,e.anonymize=function(t){return e.isInsert(t)?(0,s.pi)((0,s.pi)({},t),{insert:"string"==typeof t.insert?"<".concat(e.length(t),">"):"<embed>"}):t};var a=function(){function n(e){this.ops=e,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){Boolean(n)||(n=1/0);var i=this.ops[this.index];if(Boolean(i)){var r=i.type,o=this.offset,s=e.length(i);return n>=s-o?(n=s-o,this.index+=1,this.offset=0):this.offset+=n,e.isDelete(i)?{delete:n,type:r,group:i.group}:e.isRetain(i)?{retain:n,type:r,group:i.group,attributes:!e.isOptionalContextType(r)&&i.attributes}:e.isInsertString(i)?{insert:i.insert.substr(o,n),type:r,group:i.group,attributes:i.attributes}:i}return{retain:1/0,type:t.Optional,group:f.none,attributes:{}}},n.prototype.peekLength=function(){return Boolean(this.ops[this.index])?e.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return Boolean(this.ops[this.index])?e.isDelete(this.ops[this.index])?"delete":e.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();e.Iterator=a;var m=(0,u.ls)(f.fromNullable,f.map(c.EG("type")),f.map(c.EG("group")),f.getOrElse((function(){return{}}))),g=function(e){var n,i=function(e){if(null!=(null==e?void 0:e.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,h.vE)(e.type)}return t.Optional}(e.attributes),r=(n=e.attributes,(0,l.pipe)(f.fromNullable(n),f.chain((function(e){return f.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:i,group:r,attributes:m(e.attributes)}:"delete"in e?{delete:e.delete,type:i,group:r}:{retain:e.retain,type:i,group:r,attributes:m(e.attributes)}}}(i||(i={})),function(e){e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,l.pipe)(t.delta.invert(n),o.fromRawDelta)},e.fromAlternativeBoldified=function(t){var n=t.alternative,i=t.fullText,r=(0,l.pipe)(n.delta.map(_.s.match((function(e){return(0,l.pipe)(e,f.fromPredicate(_.s.isInsertString),f.chain((function(e){return(0,l.pipe)(f.fromNullable(e.attributes),f.map((function(t){return{attributes:t,retain:e.insert.length}})))})),f.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),f.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return f.none}),(function(e){return f.some({retain:e.retain})}))),a.oA,(function(e){return new p.i(e)}),(function(e){return i.compose(e)}));return e.fromAlternative({alternative:n,fullText:r})},e.fromAlternativeListified=function(t){var n=t.alternative,i=t.fullText;return(0,l.pipe)(e.fromAlternative({alternative:n,fullText:i}),(function(e){return(0,l.pipe)(e.delta.ops,a.qr((function(e){return _.s.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),f.map((function(t){var n=e.delta.ops,i=n[t];return new p.i((0,s.ev)((0,s.ev)((0,s.ev)([],n.slice(0,t),!0),[(0,s.pi)((0,s.pi)({},i),{attributes:(0,s.pi)((0,s.pi)({},i.attributes),{list:!1})})],!1),n.slice(t+1),!0))})),f.getOrElse((function(){return e.delta})))}),o.fromRawDelta)}}(r||(r={})),function(e){var t;function n(e){return function(t){return i.isInsertGap(t)?(0,s.pi)((0,s.pi)({},t),{insert:e}):t}}function r(e){return new o(e)}e.hasOptionalContext=function(e){return Boolean(e[0])&&i.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function t(t){return t.type===i.Type.Main?f.some(i.isInsert(t)?e.Insert:e.Remove):f.none}e.eq=d.yv,e.fromOperation=t,e.semigroup={concat:function(t,n){switch(t){case e.Insert:return n===e.Remove?e.Substitution:n;case e.Remove:return n===e.Insert?e.Substitution:n;case e.Substitution:return e.Substitution;default:return(0,h.vE)(t)}}},e.monoid=f.getMonoid(e.semigroup),e.parse=(0,a.Lx)(e.monoid)(t)}(t=e.Type||(e.Type={})),e.eq=d.MW({lengthAffected:d.lr,type:f.getEq(t.eq),ops:(0,a.Eh)(i.eq)}),e.fromRawDelta=(0,u.ls)(S.e.AbsAlternative.unsafeFromDelta,i.fromRawAbsAlternative,r),e.fillGaps=function(t,i){return e.hasOptionalContext(t.ops)?r((0,s.ev)([t.ops[0]],t.ops.slice(1).map(n(i)),!0)):r(t.ops.map(n(i)))},e.dismissTransformGroups=function(t,n){var o=a.DZ((function(e){return(0,l.pipe)(e.group,f.filter((function(e){return n.has(e)})),f.fold((function(){return f.some(e)}),(function(){return function(e){return i.isDelete(e)?f.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):i.isInsert(e)?f.none:f.some(e)}(e)})))}));if(e.hasOptionalContext(t.ops)){var c=t.ops,u=c[0],p=c.slice(1);return r((0,s.ev)([u],(0,l.pipe)(p,o),!0))}return r((0,l.pipe)(t.ops,o))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,l.pipe)(e.group,m.bw((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,l.pipe)(e.ops.filter(i.isDelete),a.UI((function(e){return e.group})),a.oA)},e.create=r,e.validate=(0,u.ls)((function(e){return e.ops}),g.DT(v.sq(i.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(t){t.fromSerialized=function(t){return{context:t.context,alternatives:(0,l.pipe)(t.alternatives,b.UI((function(e){return e.ops})),b.UI(e.create))}},t.fromSubalerts=function(e,t){return{context:e,alternatives:b.UI((0,u.ls)(i.fromRawAbsAlternative,r))(t)}},t.fromRawTransform=function(e){return{context:b.of(e.context),alternatives:b.UI((0,u.ls)(i.fromRawAbsAlternative,r))(e.alternatives)}},t.rebase=function(e){return function(t){return{context:(0,l.pipe)(t.context,b.UI((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,l.pipe)(t.alternatives,b.UI((function(t){return(0,l.pipe)(t.rebase(e),f.fold((function(){return t}),u.yR))})))}}},t.copy=function(e){return{context:b.JG(e.context),alternatives:b.JG(e.alternatives)}}}(e.Group||(e.Group={}));var o=function(){function n(e){this.ops=e,this.type=t.parse(this.ops),this.lengthAffected=_.s.calcAffectedLength(this)}return n.prototype.rebase=function(e){var t=e.ops[0];if(!Boolean(t)||_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&p.i.Op.length(t)>this.lengthAffected)return f.some(this);var n=this.ops.length>=2&&_.s.isDelete(this.ops[this.ops.length-2])&&_.s.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&p.i.Op.length(t)===this.lengthAffected?f.some(this):this._internalRebase(e)},n.prototype._internalRebase=function(t){for(var r=this,o=p.i.Op.iterator(t.ops),s=new i.Iterator(this.ops),a=f.some(new n([])),c=!1;s.hasNext();)if("insert"===o.peekType()){if(c&&(0,l.pipe)(a,m.wo((function(e){return e.ops[e.ops.length-1].type===i.Type.Main}))))return f.none;var u=p.i.Op.length(o.next()),d=(0,l.pipe)(a,f.map((function(e){return e.ops[e.ops.length-1]})),m.MH);if(c&&m.wo((function(e){return e.lengthAffected>0}))(a)){var h={retain:u,type:d.type,group:d.group,attributes:"attributes"in d&&!i.isOptionalContextType(d.type)?d.attributes:{}};a=n._pushOp(a,h)}else a=n._pushOp(a,{retain:u,type:i.Type.Optional,group:f.none,attributes:{}})}else if("insert"===s.peekType()){var g=s.next();if(g.type===i.Type.Main&&"delete"===o.peekType()&&o.offset>0)return f.none;a=n._pushOp(a,g)}else{var v=Math.min(o.peekLength(),s.peekLength()),b=o.next(v),y=s.next(v);_.s.isDelete(b)||(c=s.offset>0,a=n._pushOp(a,i.isDelete(y)?y:i.isOptionalContextType(y.type)?{retain:v,type:i.TypeExt.OptionalContext,group:f.none}:{retain:v,type:y.type,group:y.group,attributes:y.attributes}))}return(0,l.pipe)(a,f.map((function(t){return t.type=e.Type.parse(r.ops),t})))},n._pushOp=function(e,t){return(0,l.pipe)(e,f.chain((function(e){return(0,l.pipe)(y.vM((function(){return e._push(t)})),g.Vn((function(e){return w.C8.Logging.getLogger("Alternative").error("Alternative push error",e),e})),f.fromEither)})))},n.prototype._push=function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(i.isOptionalContextRetain(e))return i.isOptionalContextRetain(n)?n.retain+=e.retain:i.isRetain(n)&&t<=2?2===t?((0,h.kG)(i.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,h.kG)(i.isOptionalContextRetain(n)||i.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(i.isDelete(e)&&i.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(i.isInsert(e)&&i.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&i.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(i.isRetain(e)&&i.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return i.isInsert(e)||(this.lengthAffected+=i.length(e)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return _.s.normalizeDelta(new p.i(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();e.compose=function(e,t){var n={composedDelta:new p.i,currentFullText:t,reversedAlternatives:[]},i=e.reduce((function(e,t,n){var i=t[0],r=t[1];return(0,l.pipe)(i.rebase(e.composedDelta),f.fold((function(){e.reversedAlternatives.push(g.t$({error:new Error("Could not rebase alternative to composed delta"),delta:i.delta,alternativeIndex:n}))}),(function(t){var i=r({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,i){return(0,l.pipe)(n,g.g_(u.Q1,(function(n){e[i]=(0,l.pipe)(n.reversedAlternative.rebase(t.delta),g.Yo((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),g.UI((function(e){return(0,s.pi)((0,s.pi)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(g.F2({reversedAlternative:i,alternativeIndex:n}))}))),e}),n),r=(0,l.pipe)(i.reversedAlternatives,a.oh,x.T.fromSeparatedArray);return(0,s.pi)((0,s.pi)({},i),{reversedAlternatives:r})},e.withoutOptionalOps=function(t){return e.create(t.filter((function(e){return!i.isOptionalType(e.type)})))}}(o||(o={}))},63513:(e,t,n)=>{n.d(t,{lB:()=>y,PZ:()=>S,DI:()=>C,_l:()=>B,Q1:()=>U,F2:()=>m,_Y:()=>N,VD:()=>P,hD:()=>ae,rP:()=>z,JG:()=>g,vv:()=>oe,H5:()=>d,P2:()=>k,y_:()=>O,fA:()=>I,jK:()=>w,Wk:()=>_,e3:()=>L,nw:()=>G,Kd:()=>j,KX:()=>E,JW:()=>h,Mw:()=>R,N_:()=>F,wQ:()=>x,Vm:()=>b,JE:()=>D,at:()=>T,KI:()=>A});var i={};n.r(i),n.d(i,{ErrorKind:()=>r,MessageStartSessionEntryPoint:()=>o});var r,o,s=n(59312),a=n(71249),c=n(57050),u=n(40327),l=n(69243);!function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(r||(r={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(o||(o={}));var p,d,f,h,m,g,v,b,y,x,w,_,S,k,C,E,O,I,A,T,R,P,N,U,D,B,j,G,L,z,F,M=n(5114),V=n(26328),Z=n(55415),H=n(89943),$=n(8125),K=n(95574),W=n(3893),q=n(95195),Y=n(83078),Q=n(22232),X=n(42040),J=n(36991),ee=n(8709),te=n(67394),ne=n(80800),ie=n(52226);p||(p={}),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length},e.Tree=l.sH("Tree",(function(){return l.IX(l.bc([l.pk,e.Tree]))}))}(d||(d={})),function(e){!function(e){e.sales_crm="sales_crm",e.sales_engagement="sales_engagement",e.sales_enablement="sales_enablement",e.marketing_email_automation="marketing_email_automation",e.marketing_content="marketing_content",e.customer_service="customer_service",e.customer_surveys_surveys="customer_surveys_surveys",e.recruiting="recruiting",e.training_learning="training_learning",e.project_management="project_management",e.legal="legal",e.contractors="contractors",e.human_resources="human_resources",e.email="email",e.business_chat="business_chat"}(e.DomainCategory||(e.DomainCategory={}))}(f||(f={})),function(e){!function(e){e.InQuotes="InQuotes"}(e.SpecialCategory||(e.SpecialCategory={})),function(e){e.GLOBAL="GLOBAL",e.SESSION="SESSION",e.DOCUMENT="DOCUMENT"}(e.ScopeType||(e.ScopeType={})),function(e){e.MUTED_BY_USER="MUTED_BY_USER",e.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",e.NOT_MUTED="NOT_MUTED"}(e.MutedByType||(e.MutedByType={}))}(h||(h={})),function(e){!function(e){e.NOT_RELEVANT="NOT_RELEVANT",e.WRONG_TONE="WRONG_TONE",e.INCORRECT="INCORRECT",e.WRONG_GRAMMAR="WRONG_GRAMMAR",e.OFFENSIVE="OFFENSIVE",e.OTHER="OTHER"}(e.SuggestionRejectionReason||(e.SuggestionRejectionReason={}))}(m||(m={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(g||(g={})),function(e){function t(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}}function n(e,t){return void 0===t&&(t=!1),0===e.s?c.MZ:function(n){return(0,c.MZ)({ops:(0,s.ev)([{retain:e.s,attributes:t?void 0:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops,!0)})}}e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return y.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,u.pipe)(e,M.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),M.map((function(e){return(0,s.pi)((0,s.pi)({},e),{alternatives:V.UI(n(e.context))(e.alternatives)})})),M.map(te.r3.Group.fromRawTransform))})}}(v||(v={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),i=t.transformPosition(e.end,!0),r=(new ee.i).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return J.s.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,i-n);return(0,s.pi)((0,s.pi)({},e),{begin:n,end:i,text:r})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,u.pipe)(e,M.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),M.map(Z.ei("attentionScore"))),showAttentionCard:(0,u.pipe)(e,M.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),M.map(Z.ei("showAttentionCard")))})}}(b||(b={})),function(e){e.create=function(e){return e},e.isSquashed=function(e){return e.highlights.some(ie.e.Range.isEmpty)},e.isValidAfterTransform=function(e,n){var i=t(e),r=t(n);return Boolean(H.Hx(i.highlights,r.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&H.Hx(i.alternatives,r.alternatives,(function(e,t){return H.Hx(e.ops.filter((0,$.ff)(J.s.isRetain)),t.ops.filter((0,$.ff)(J.s.isRetain)),J.s.isEqual((function(){return!0})))}))},e.rebase=function(t,n){return e.create({highlights:t.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,u.pipe)(t.alternatives,M.map(te.r3.Group.rebase(n)))})};var t=function(e){return{highlights:e.highlights,alternatives:(0,u.pipe)(e.alternatives,M.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(y||(y={})),function(e){var t,n,i;function r(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople?e:(0,s.pi)((0,s.pi)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,u.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),d.Tree.decode,K.MH),knowledgeHubRelatedMaterials:void 0===e.knowledgeHubRelatedMaterials?void 0:"object"==typeof e.knowledgeHubRelatedMaterials?e.knowledgeHubRelatedMaterials:JSON.parse(e.knowledgeHubRelatedMaterials),knowledgeHubPointPeople:void 0===e.knowledgeHubPointPeople?void 0:"object"==typeof e.knowledgeHubPointPeople?e.knowledgeHubPointPeople:JSON.parse(e.knowledgeHubPointPeople)})}function o(e,t){(0,u.pipe)(e.ops,a.Ew((function(e){return J.s.isInsert(e)&&(0,u.pipe)(J.s.getAttr(e,"type"),M.exists((function(e){return e===ie.e.Edit.Type.MAIN})))&&"string"==typeof e.insert})),M.map((function(e){var n=e.insert;return t(n)})))}function c(e){return function(t){return t===h.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}}function l(e){return!f(e)&&!m(e)}function p(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd}function f(e){return void 0!==e.cardLayout&&void 0!==e.transformJson}function m(e){return"labels"in e&&"subalerts"in e}function g(e,t,n,i){return l(e)?t(e):f(e)?n(e):i(e)}!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={})),function(e){e.Critical="critical",e.Advanced="advanced"}(t=e.Impact||(e.Impact={})),function(e){e.all="all",e.priority="priority"}(n=e.View||(e.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(i=e.Inline||(e.Inline={})),e.parseExtraProperties=r,e.fromAlertMessage=function(t){return Object.assign({},t,(0,s.pi)({id:e.Id.create(t.id),cost:Boolean(t.cost)?t.cost:1,extra_properties:r(t.extra_properties)},t.transformJson?{transformJson:v.toAbs(t.transformJson),highlightText:[t.highlightText]}:(0,u.pipe)(W.kP(t.subalerts),M.fold((function(){return{highlightText:[t.highlightText]}}),(function(e){return(0,u.pipe)(function(e,t){return(0,u.pipe)(t,M.fold((function(){return q.t$(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return function(e,t){if(e.length<2)return q.t$(new Error("There should be more than one subalert, got "+e.length));var n=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),i=n.reduce((function(e,t){return e[t.label]=t,e}),{}),r=W.kP(e[0].transformJson.alternatives);if(n.length>0&&Boolean(M.isNone(r))||!Boolean((0,u.pipe)(r,Y.wo((function(e){return n.length===e.length})))))return q.t$(new Error("Alternatives array length must match labels array length"));for(var a=(0,u.pipe)(r,M.map(V.Su((function(t,i){return o(i,(function(e){return n[t].replacements.add(e)})),v.prependContext(e[0].transformJson.context)(i)}))),M.map((function(t){return i[e[0].label].matches+=1,[V.of(e[0].transformJson.context),t]}))),c=e[0].transformJson.highlights.map(v.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],p=function(t){var r=e[t];if(n.length>0){if(void 0===r.transformJson.alternatives)return{value:q.t$(new Error("The alternatives are missing from subalert, expected length: ".concat(n.length)))};if(r.transformJson.alternatives.length!==n.length)return{value:q.t$(new Error("Subalert has incorrect alternatives length: expected ".concat(n.length,", got ").concat(r.transformJson.alternatives.length)))}}a=(0,u.pipe)(a,M.map((function(e){var t=e[0],s=e[1];i[r.label].matches+=1,t.push(r.transformJson.context);for(var a=function(e){var t=r.transformJson.alternatives[e];o(t,(function(t){return n[e].replacements.add(t)})),s[e]=(0,u.pipe)(new ee.i(s[e]),(function(e){return e.compose(e.transform(new ee.i(v.prependContext(r.transformJson.context,!0)(t)),!0))}),ie.e.AbsAlternative.unsafeFromDelta)},c=0;c<s.length;c++)a(c);return[t,s]}))),c.push.apply(c,r.transformJson.highlights.map(v.prependContextToHighlight(r.transformJson.context))),l.push(r.highlightText)},d=1;d<e.length;d++){var f=p(d);if("object"==typeof f)return f.value}return q.F2({subalerts:y.create({alternatives:(0,u.pipe)(a,M.map((function(e){var t=e[0],n=e[1];return te.r3.Group.fromSubalerts(t,n)}))),highlights:c}),labels:n.map((function(e){var t=e.replacements,n=(0,s._T)(e,["replacements"]);return(0,s.pi)((0,s.pi)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})}(e,t)})))}(e,M.fromNullable(t.labels)),q.fS((function(e){return X.C8.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},e.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},e.belongsToAnySpecialCategory=function(e){var t=c(e);return-1!==Object.values(h.SpecialCategory).findIndex(t)},e.belongsToSpecialCategory=c,e.withPosition=l,e.hasPosition=p,e.withTransformJson=f,e.withAlternatives=function(e){return f(e)&&M.isSome(e.transformJson.alternatives)},e.withSubalerts=m,e.match=g,e.matchBy=function(e,t,n){return function(i){return g(i,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,i){return t(e)===t(i)&&n(e)===n(i)}}(e.Position||(e.Position={})),e.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},e.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},e.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},e.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},e.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},e.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},e.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},e.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},e.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},e.isHidden=function(e){return!0===e.hidden},e.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&g(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},e.mock={id:e.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:e.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:y.create({highlights:[{s:5092,e:5102}],alternatives:M.none}),view:n.all,inline:i.inline},e.mockPlagiarism={id:e.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:e.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:y.create({highlights:[{s:1,e:40}],alternatives:M.none}),view:n.all,inline:i.not_inline},e.mockWithSubalerts={id:e.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:y.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:M.some(te.r3.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[ie.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:ie.e.Edit.Type.MAIN}},{insert:"Country",attributes:{type:ie.e.Edit.Type.MAIN}}]}),ie.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:ie.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:ie.e.Edit.Type.MAIN}},{insert:"country",attributes:{type:ie.e.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:t.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:i.not_inline},e.clearUserTextFields=function(e){var t=e;return t.text,t.replacements,t.highlightText,t.transformJson,t.transforms,t.details,t.explanation,t.examples,(0,s._T)(t,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},e.unsafeGetPosition=function(e){return(0,Q.kG)(p(e),"raw alert should have a position"),e},e.unsafeGetTransformJson=function(e){return(0,Q.kG)(f(e),"raw alert should have transformJson"),e}}(x||(x={})),function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(w||(w={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(_||(_={})),function(e){e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(S||(S={})),function(e){e.DRILLDOWN="DRILLDOWN"}(k||(k={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(C||(C={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(E||(E={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(O||(O={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(I||(I={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(A||(A={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(T||(T={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(R||(R={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(P||(P={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(N||(N={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED"}(U||(U={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(D||(D={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(B||(B={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(j||(j={})),function(e){e.willRemoveAlert=function(e){return e===S.IGNORE||e===S.OFFENSIVE_CONTENT||e===S.WRONG_SUGGESTION||e===S.ADD_TO_DICTIONARY||e===S.LIKE||e===S.DISLIKE||e===S.ACKNOWLEDGED||e===S.HIDE}}(G||(G={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar"}(L||(L={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(z||(z={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(F||(F={}));var re,oe,se,ae=300;!function(e){e.generatePoints=function(e,t,n){var i=function(e,t){return Math.max(Math.trunc(e/t),(0,$.TN)(e))};return H.j6(i(e,2),(function(e){return H.j6(i(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(re||(re={})),function(e){e.AllowedFeature="CHEETAH",e.version="11.1.0",e.Schema=i}(oe||(oe={})),function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(se||(se={}))},80358:(e,t,n)=>{var i,r,o;n.d(t,{AF:()=>i,hX:()=>o,ld:()=>r}),function(e){e.NotFixed="NOT_FIXED"}(i||(i={})),function(e){e.isCheetahEvent=function(e){return"cheetah:chunk"===e.kind||"cheetah:result"===e.kind||"cheetah:setContext"===e.kind||"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind}}(r||(r={})),function(e){e.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e===t.kind}))}},e.isUserFeedbackWithGeneralScore=function(e){var t;return Boolean(null===(t=e.outcomeScores)||void 0===t?void 0:t.GeneralScore)},e.isUserFeedbackWithScoreStatus=function(e){return Boolean(e.scoreStatus)}}(o||(o={}))},52226:(e,t,n)=>{n.d(t,{e:()=>i});var i,r=n(59312),o=n(57050),s=n(95195),a=n(5114),c=n(36991);!function(e){var t;!function(e){e.isEmpty=function(e){return e.e-e.s==0}}(e.Range||(e.Range={})),function(e){!function(e){e.MAIN="main",e.IMPORTANT="important"}(e.Type||(e.Type={})),function(e){e.OPTIONAL_CONTEXT="optional_context"}(e.TypeExt||(e.TypeExt={}))}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,o.zG)(e.ops,a.fromPredicate((function(e){return-1===e.findIndex(n)})),a.fold((function(){return s.t$({ops:(t=e.ops,t.reduce((function(e,t,i){if(n(t,i)){var o=t.attributes,s=(o.type,(0,r._T)(o,["type"]));e.push((0,r.pi)((0,r.pi)({},t),{attributes:s}))}else e.push(t);return e}),[]))});var t}),(function(e){return s.F2({ops:e})})));function n(e,n){return n>0&&c.s.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,o.zG)(e,n,s.g_(o.yR,o.yR))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(i||(i={}))},36991:(e,t,n)=>{n.d(t,{s:()=>i});var i,r=n(57050),o=n(40327),s=n(8709),a=n(5114),c=n(8125),u=n(73975),l=n(89943),p=n(55415),d=n(26328);!function(e){e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&"string"==typeof t.insert},e.isInsertEmbed=function(t){return e.isInsert(t)&&!e.isInsertString(t)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.containsInsertsOnly=function(t){return t.ops.every(e.isInsert)},e.getInsertLength=s.i.Op.length,e.getTrimmedInsertLength=function(t){return e.isInsertString(t)?t.insert.trim().length:1},e.match=function(t,n,i){return function(r){return e.isInsert(r)?t(r):e.isDelete(r)?n(r):i(r)}},e.getAttr=function(t,n){return e.isDelete(t)||!t.attributes?a.none:"function"==typeof n?(0,o.pipe)(a.fromNullable(Object.keys(t.attributes).find(n)),a.map((function(e){return t.attributes[e]}))):a.fromNullable(t.attributes[n])},e.operationLength=s.i.Op.length;var t=function(e){return-e.delete};e.getOperationOffset=e.match(s.i.Op.length,t,s.i.Op.length);var n=function(e){return function(t){return t.ops.map(e).reduce(c.Sm,0)}},i=function(){return 0};e.calcDiffLength=n(e.match(s.i.Op.length,t,i)),e.calcAmountLength=n(e.match(s.i.Op.length,s.i.Op.length,i)),e.calcAffectedLength=n(e.match(i,s.i.Op.length,s.i.Op.length)),e.rangeOfTheChange=function(t){var n=e.match(r.W8,r.W8,(function(e){return Boolean(e.attributes)}));return t.ops.reduce((function(t,i){var r=t[0],s=t[1],c=e.operationLength(i),u=s+c;return[(0,o.pipe)(r,a.fold((function(){return n(i)?a.some([s,u]):a.none}),(function(e){return n(i)?a.some([e[0],u]):a.some(e)}))),u]}),[a.none,0])[0]},e.isEqual=function(t){return function(n,i){return e.match((function(n){return e.isInsert(i)&&n.insert===i.insert&&t(n.attributes,i.attributes)}),(function(t){return e.isDelete(i)&&t.delete===i.delete}),(function(n){return e.isRetain(i)&&n.retain===i.retain&&t(n.attributes,i.attributes)}))(n)}},e.deltaEq=u.f7((function(t,n){return t.ops.length===n.ops.length&&l.Hx(t.ops,n.ops,e.isEqual(p.vZ))})),e.normalizeDelta=function(e){return(new s.i).compose(e)};var f=function(e){return e&&Object.keys(e).reduce((function(t,n){return t[n]="string"==typeof e[n]?"<".concat(e[n].length,">"):e[n],t}),{})};e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce((function(t,n){return e.match((function(n){return t.insert("string"==typeof n.insert?"<".concat(e.getInsertLength(n),">"):"<embed>",f(n.attributes))}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain,f(e.attributes))}))(n)}),new s.i)},e.squash=function(e){return e.reduce((function(e,t){return e.compose(new s.i(t))}),new s.i)},e.cleanAllAttrs=function(t){return t.reduce((function(t,n){return e.match((function(e){return t.insert(e.insert)}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain)}))(n)}),new s.i)};var h=function(e){return a.fromNullable(e.attributes)};e.getAttrs=e.match(h,(function(){return a.none}),h),e.skipAny=r.jv;e.cleanDelta=function(t,n){return function(i){var r=function(e){return e&&Object.keys(e).filter((function(e,t,i){return n(e,i.slice(0))})).reduce((function(t,n){return t[n]=e[n],t}),{})};return i.reduce((function(n,i){return e.match((function(e){return n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",r(e.attributes))}),(function(e){return n.delete(e.delete)}),(function(e){return n.retain(e.retain,r(e.attributes))}))(i)}),new s.i)}},e.splitToDeleteThenInsert=function(t){return t.reduce((function(t,n){var i=t[0],r=t[1];return e.match((function(e){return[i,r.push(e)]}),(function(e){return[i.push(e),r]}),(function(e){return[i.push({retain:e.retain}),r.push(e)]}))(n)}),[new s.i,new s.i]).map((function(e){return e.chop()}))},e.nonEmpty=function(e){return e.ops.length>0},e.findInDelta=function(e,t){return void 0===t&&(t=i),function(n){for(var i=0,r=0;i<n.ops.length;){var o=n.ops[i];if(e(o))return r+=t(o),a.some(r);r+=s.i.Op.length(o),i+=1}return a.none}},e.getOps=(0,r.ls)(p.ei("ops"),a.fromNullable,a.chain(d.nI))}(i||(i={}))},73353:(e,t,n)=>{n.d(t,{R$:()=>i});var i,r=n(59312),o=n(73975),s=n(57050),a=n(40327),c=n(69243),u=n(32687),l=n(5114),p=n(8125),d=n(95195),f=n(42040),h=n(55485),m=l.getEq({equals:function(e,t){return e===t}}),g=o.f7(p.As);!function(e){var t;!function(e){e.eq=o.MW({type:o.yv,citation:o.yv}),e.defaultAcademic={citation:"apa",type:"essay"},e.withCitationStyle=function(t){return function(n){return(0,r.pi)((0,r.pi)({},n),{domain:l.some("academic"),outcomeContext:l.some((0,r.pi)((0,r.pi)({},e.defaultAcademic),{citation:t}))})}}}(t=e.OutcomeContext||(e.OutcomeContext={})),e.eq=o.MW({domain:l.getEq(o.w4),goals:l.getEq(g),audience:m,style:m,outcomeContext:l.getEq(t.eq)}),function(e){e.eq=o.MW({domain:o.w4,goals:g,audience:o.yv,style:o.yv})}(e.Default||(e.Default={})),e.goals=h.U(["inform","describe","convince","tellStory","sell"]),e.goalsLabels=["Inform","Describe","Convince","Tell A Story"],e.audiences=h.U(["general","knowledgeable","expert"]),e.formalityLevels=h.U(["informal","neutral","formal"]),e.tone=h.U(["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"]),e.domains=h.U(["academic","business","general","mail","casual","creative"]),e.dialects=h.U(["american","british","canadian","australian","indian"]),e.academicTypes=h.U(["essay","report","other"]),e.citation=h.U(["apa","mla","chicago","other"]),e.fromDomain=function(t){return(0,r.pi)((0,r.pi)({},e.unset),{domain:l.some(t)})},e.fromGoals=function(t){return(0,r.pi)((0,r.pi)({},e.unset),{goals:l.some(new Set(t))})},e.unset={goals:l.none,domain:l.none,audience:l.none,style:l.none,dialect:l.none,outcomeContext:l.none},e.defaultContextFallback={goals:new Set,domain:"general",audience:"knowledgeable",style:"neutral",dialect:l.none},e.isStyleValidWithDomain=function(e,t){return"neutral"===t||("formal"===t?"creative"!==e&&"casual"!==e:"academic"!==e)};var n=h.D.literalUnion("goal",e.goals),i=h.D.set(n),p=h.D.literalUnion("audience",e.audiences),v=h.D.literalUnion("formality",e.formalityLevels),b=(h.D.literalUnion("tone",e.tone),h.D.literalUnion("domain",e.domains)),y=h.D.literalUnion("dialect",e.dialects),x=h.D.literalUnion("academicType",e.academicTypes);e.citationType=h.D.literalUnion("citation",e.citation);var w=c.w3({type:x,citation:e.citationType});e.IOType=c.w3({goals:h.D.option(i),domain:h.D.option(b),audience:h.D.option(p),style:h.D.option(v),dialect:h.D.option(y),outcomeContext:h.D.option(w)}),e.IOTypeDefault=c.w3({goals:i,domain:b,audience:p,style:v,dialect:h.D.option(y)}),e.tryParse=function(e){return function(t){return(0,a.pipe)(e(t),d.Vn(u.Rn),d.Vn((function(e){return f.C8.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",e),e})))}},e.parse=(0,s.ls)(l.fromNullable,l.chain((function(t){return(0,a.pipe)(t,e.tryParse(e.IOType.decode),l.fromEither)}))),e.parseDefault=(0,s.ls)(l.fromNullable,l.chain((0,s.ls)(e.tryParse((function(t){return e.IOTypeDefault.decode(t)})),l.fromEither))),e.serialize=function(t){return e.IOType.encode(t)},e.serializeDefault=function(t){return e.IOTypeDefault.encode(t)}}(i||(i={}))},25938:(e,t,n)=>{n.d(t,{RI:()=>r,zI:()=>o});var i,r,o,s=n(57050),a=n(8709),c=n(95574),u=n(95195),l=n(36991);!function(e){e.split=function(e,t){return[e]}}(i||(i={})),function(e){e.fromArrayOfDeltas=function(t,n){var i=n;return t.map((function(t){var n=e.delta(t,i);return i+=l.s.calcDiffLength(t),n}))};var t=function(){function e(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return Boolean(this._amount)?this._amount:this._amount=l.s.calcAmountLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=c.vM((function(){return e.delta.ops.reduce((function(e,t){return l.s.match((function(t){return"".concat(e).concat(t.insert)}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(t)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(this.delta.compose(t.delta),this.prevLen)},e.prototype.transform=function(t,n){return void 0===n&&(n=!0),new e(t.delta.transform(this.delta,n),this.prevLen+t.length)},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}},e.prototype.toString=function(){return"Delta(".concat(this.delta,", pl: ").concat(this.prevLen,")")},e}(),n=function(){function e(){this.kind="flush"}return e.prototype.toString=function(){return"Flush()"},e}(),i=function(){function e(e){this.delta=e,this.kind="reset"}return Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=c.vM((function(){return e.delta.ops.reduce((function(e,t){if(l.s.isInsert(t))return"".concat(e).concat(t.insert);throw l.s.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),e.prototype.compose=function(e){return o(this.delta.compose(e.delta))},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),length:this.length}},e.prototype.toString=function(){return"Reset(".concat(this.delta,")")},e}();function r(e,n){return void 0===n&&(n=0),new t(e,n)}function o(e){return l.s.containsInsertsOnly(e)?u.F2(new i(e)):u.t$(new Error("Delta should contains only inserts to be Reset, but got ".concat(JSON.stringify(l.s.anonymizeTextAndStringAttrs(e)))))}e.delta=r,e.ins=function(e,t,n){return void 0===n&&(n=0),r((new a.i).retain(e).insert(t),n)},e.del=function(e,t,n){return void 0===n&&(n=0),r((new a.i).retain(e).delete(t),n)},e.ret=function(e,t,n){return void 0===t&&(t=0),r((new a.i).retain(e,n),t)},e.res=o,e.unsafeRes=(0,s.ls)(o,c.MH),e.resFromText=function(e){return c.MH(o((new a.i).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}}(r||(r={})),function(e){e.diffAsChanges=function(e,t){var n=(new a.i).insert(e),i=(new a.i).insert(t);return r.delta(n.diff(i),e.length)}}(o||(o={}))},35387:(e,t,n)=>{n.d(t,{x:()=>i});var i,r=n(55415);!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r.v4(t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r.Xy(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=null!=e?e:{};var n=Object.keys(t).reduce((function(n,i){return t[i]!==e[i]&&void 0!==e[i]&&(n[i]=t[i]),n}),{});return Object.keys(e).reduce((function(n,i){return e[i]!==t[i]&&void 0===t[i]&&(n[i]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}}(i||(i={}))},8709:(e,t,n)=>{n.d(t,{i:()=>d});var i=n(19744),r=n.n(i),o=n(55415),s=n(35387);const a=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){Boolean(e)||(e=1/0);var t=this.ops[this.index];if(null==t)return{retain:1/0};var n=this.offset,i=c(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return null!=this.ops[this.index]?c(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return null==this.ops[this.index]?"retain":"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e}();function c(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}var u;!function(e){e.iterator=function(e){return new a(e)},e.length=c}(u||(u={}));const l=u;var p=String.fromCharCode(0);var d=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o.v4(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o.Xy(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return null!=(null==e?void 0:e.retain)&&null==e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return null!=t.insert?e+l.length(t):null!=t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var i=[],r=l.iterator(this.ops),o=0;o<n&&r.hasNext();){var s=void 0;o<t?s=r.next(t-o):(s=r.next(n-o),i.push(s)),o+=l.length(s)}return new e(i)},e.prototype.compose=function(t){var n=l.iterator(this.ops),i=l.iterator(t.ops),r=[],a=i.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var c=a.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),r.push(n.next());a.retain-c>0&&i.next(a.retain-c)}for(var u=new e(r);n.hasNext()||i.hasNext();)if("insert"===i.peekType())u.push(i.next());else if("delete"===n.peekType())u.push(n.next());else{var p=Math.min(n.peekLength(),i.peekLength()),d=n.next(p),f=i.next(p);if("number"==typeof f.retain){var h={};"number"==typeof d.retain?h.retain=p:h.insert=d.insert;var m=s.x.compose(d.attributes,f.attributes,"number"==typeof d.retain);if(m&&(h.attributes=m),u.push(h),!i.hasNext()&&o.Xy(u.ops[u.ops.length-1],h)){var g=new e(n.rest());return u.concat(g).chop()}}else"number"==typeof f.delete&&"number"==typeof d.retain&&u.push(f)}return u.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var i=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:p;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),a=new e,c=r()(i[0],i[1],n),u=l.iterator(this.ops),d=l.iterator(t.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r().INSERT:n=Math.min(d.peekLength(),t),a.push(d.next(n));break;case r().DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case r().EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var i=u.next(n),c=d.next(n);o.Xy(i.insert,c.insert)?a.retain(n,s.x.diff(i.attributes,c.attributes)):a.push(c).delete(n)}t-=n}})),a.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var i=l.iterator(this.ops),r=new e,o=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),a=l.length(s)-i.peekLength(),c="string"==typeof s.insert?s.insert.indexOf(n,a)-a:-1;if(c<0)r.push(i.next());else if(c>0)r.push(i.next(c));else{if(!1===t(r,i.next(1).attributes||{},o))return;o+=1,r=new e}}r.length()>0&&t(r,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,i){if(Boolean(i.insert))n.delete(l.length(i));else{if(Boolean(i.retain)&&null==i.attributes)return n.retain(i.retain),e+i.retain;if(Boolean(i.delete)||Boolean(i.retain)&&null!=i.attributes){var r=i.delete||i.retain;return t.slice(e,e+r).forEach((function(e){Boolean(i.delete)?n.push(e):Boolean(i.retain)&&null!=i.attributes&&n.retain(l.length(e),s.x.invert(i.attributes,e.attributes))})),e+r}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var i=t,r=l.iterator(this.ops),o=l.iterator(i.ops),a=new e;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(r.peekLength(),o.peekLength()),u=r.next(c),p=o.next(c);if(null!=u.delete)continue;null!=p.delete?a.push(p):a.retain(c,s.x.transform(u.attributes,p.attributes,n))}else a.retain(l.length(r.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=l.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.Op=l,e.AttributeMap=s.x,e}()},51369:(e,t,n)=>{n.d(t,{X:()=>A});var i,r=n(59312),o=n(27378),s=n(57050),a=n(5114),c=n(19962),u=n(44060),l=n(11413),p=n(89894),d=n(32096),f=n(40327),h=n(19703),m=n(49708),g=n(85985),v=n(41398),b=n(24209),y=n(17343),x=n(98403),w=n(38194),_=n(598),S=n(50628),k=n(25781),C=n(83078),E=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=E.P((function(){return m.R(self,t)}))}(i||(i={}));var O=n(42103),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!c.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return o.createElement(h.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=m.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===k.R.ESC_CODE}))),n=m.R(document,"mousedown").pipe(v.M(this.context.state),g.h((function(t){var n=t[0],i=t[1];return(0,f.pipe)(i,a.map((function(e){return e.target})),a.filter((function(){return c.pK(n.target)})),C.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),r=b.T(t,n,m.R(document,"scroll"),i.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(y.h(x.PU),w.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),_.c(r.pipe(S.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),_.c(b.T(x.gw(!0,500),r.pipe(y.h(!1))).pipe(S.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=O.G.Context,t}(o.Component),A=function(){return o.createElement(I,null,(0,s.ls)(a.map((function(e){return o.createElement(l.t.ByAbsoluteRect,(0,r.pi)({rect:c.UL.fromEl(e.target),className:P.container},l.t.Alignment.toSelector(e.alignment),{withPin:!0}),o.createElement("div",{className:P.content},e.content))})),a.toNullable))},T={position:"fixed",zIndex:d.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},R={padding:"".concat(p.ux.rem(.25)," ").concat(p.ux.rem(1)),borderRadius:p.ux.rem(d.fx),background:u.Il.BackgroundTooltip,color:u.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:p.ux.px(.25),fontSize:p.ux.rem(.75),lineHeight:p.ux.rem(1)},P=p.ux.stylesheet({container:[T],content:[R]})},89943:(e,t,n)=>{if(n.d(t,{Bs:()=>p,CE:()=>v,Hx:()=>h,N6:()=>y,OI:()=>l,QK:()=>b,VS:()=>m,e:()=>u,j6:()=>g,sq:()=>w,uK:()=>c,uU:()=>f}),1307!=n.j)var i=n(59312);if(1307!=n.j)var r=n(45701);if(1307!=n.j)var o=n(40327);if(1307!=n.j)var s=n(68983);if(1307!=n.j)var a=n(5114);function c(e,t){return e.reduce((function(e,n){return t(n)?e[0].push(n):e[1].push(n),e}),[[],[]])}function u(e,t){for(var n=-1,i=e.length;n+1!==i;){var r=n+(i-n>>1);t(e[r])?n=r:i=r}var o=n+1;return o===e.length?a.none:a.some(o)}function l(e,t,n){return u(e,(0,s.W)((0,r.gt)(n))(t))}function p(e,t,n){if(t>=0)for(var i=t;i<e.length;++i){var r=n(e[i]);if(a.isSome(r))return a.some({index:i,value:r.value})}return a.none}function d(e,t,n,i){return(0,o.pipe)(function(e,t,n){if(t>=0)for(var i=t;i<e.length;++i)if(n(e[i]))return a.some({index:i,value:e[i]});return a.none}(e,t,i),a.alt((function(){return function(e,t,n){if(t<e.length)for(var i=t;i>=0;--i)if(n(e[i]))return a.some({index:i,value:e[i]});return a.none}(e,n,i)})))}function f(e,t,n){return(0,o.pipe)(d(e,t+1,t-1,(function(e){return a.isSome(n(e))})),a.chain((function(e){return(0,o.pipe)(n(e.value),a.map((function(t){return(0,i.pi)((0,i.pi)({},e),{value:t})})))})))}function h(e,t,n){return e.length===t.length&&e.every((function(e,i){return n(e,t[i])}))}function m(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function g(e,t){return new Array(e).fill(!0).map((function(e,n){return t(n)}))}function v(e,t){var n=t.indexOf(e);return t.slice(0,n).concat(t.slice(n+1))}function b(e,t){var n=t.indexOf(e);t.splice(n,1)}var y=function(e){return function(t){return x(t,e,0)}};function x(e,t,n){return t.length<=n?a.none:(0,o.pipe)(a.fromNullable(e.find(t[n])),a.fold((function(){return x(e,t,n+1)}),a.some))}var w=function(e){return function(t){for(var n=-1,i=0;i<t.length;i++){var r=t[i],o=t[i-1];if(Boolean(o)&&e(o)||!e(r)||(n=i),Boolean(o)&&e(o)&&!e(r)&&0!==n)return!1}return!0}}},25781:(e,t,n)=>{var i,r;n.d(t,{R:()=>i}),function(e){e.ESC_CODE=27,e.ENTER_CODE=13,e.SPACE_CODE=32}(i||(i={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(r||(r={}))},81670:(e,t,n)=>{n.d(t,{T:()=>i});var i,r=n(71249),o=n(12271),s=n(57050),a=n(40327),c=n(95195);!function(e){function t(e){return e.left.length>0?c.t$({rejected:e.left,recovered:e.right}):c.F2(e.right)}e.URI="RecoverableOperation",e.fromArray=function(n){return function(i){return(0,a.pipe)(i.map((function(e){return(0,a.pipe)(n(e),c.Vn((function(t){return(0,s.bc)(t,e)})))})),r.oh,t,e.mapLeft((function(e){return e.map(o.Yg)})))}},e.map=function(e){return function(t){return(0,a.pipe)(t,c.Pd((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}},e.mapLeft=function(e){return function(t){return(0,a.pipe)(t,c.Vn((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},e.flatten=function(e){return function(t){return(0,a.pipe)(t,c.g_((function(t){return(0,a.pipe)(t.recovered,c.g_((function(n){return c.t$({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return c.t$({rejected:t.rejected,recovered:e})})))}),s.yR))}},e.flatMap=function(t,n){return function(i){return(0,a.pipe)(i,e.map(n),e.flatten(t))}},e.recover=function(e){return c.g_((function(t){return e(t.rejected),t.recovered}),s.yR)},e.tapFailure=function(e){return c.Vn((function(t){return e(t),t}))},e.foldSuccess=function(e){return c.g_((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?c.F2(e):c.t$({recovered:e,rejected:t})},e.fromSeparatedArray=t}(i||(i={}))},3893:(e,t,n)=>{n.d(t,{kP:()=>s});var i=n(26328),r=n(57050),o=n(5114);var s=(0,r.ls)(o.fromNullable,(0,o.chain)(i.nI))},25681:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(53817);function r(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,i.Zq)(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},31778:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(53817),r=n(53295),o=n(62475),s=n(8269);function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),c=1,u=1;t&&(0,i.Re)(e)&&(c=e.offsetWidth>0&&(0,r.NM)(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&(0,r.NM)(a.height)/e.offsetHeight||1);var l=((0,i.kK)(e)?(0,o.Z)(e):self).visualViewport,p=!(0,s.Z)()&&n,d=(a.left+(p&&l?l.offsetLeft:0))/c,f=(a.top+(p&&l?l.offsetTop:0))/u,h=a.width/c,m=a.height/u;return{width:h,height:m,top:f,right:d+h,bottom:f+m,left:d,x:d,y:f}}},76594:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(62475);function r(e){return(0,i.Z)(e).getComputedStyle(e)}},55565:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(53817);function r(e){return(((0,i.kK)(e)?e.ownerDocument:e.document)||self.document).documentElement}},63465:(e,t,n)=>{function i(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>i})},59590:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(62475),r=n(63465),o=n(76594),s=n(53817);function a(e){return["table","td","th"].indexOf((0,r.Z)(e))>=0}var c=n(33087),u=n(11434);function l(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function p(e){for(var t=(0,i.Z)(e),n=l(e);n&&a(n)&&"static"===(0,o.Z)(n).position;)n=l(n);return n&&("html"===(0,r.Z)(n)||"body"===(0,r.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,u.Z)());if(/Trident/i.test((0,u.Z)())&&(0,s.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var n=(0,c.Z)(e);for((0,s.Zq)(n)&&(n=n.host);(0,s.Re)(n)&&["html","body"].indexOf((0,r.Z)(n))<0;){var i=(0,o.Z)(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}},33087:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(63465),r=n(55565),o=n(53817);function s(e){return"html"===(0,i.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,r.Z)(e)}},62475:(e,t,n)=>{function i(e){if(null==e)return self;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||self}return e}n.d(t,{Z:()=>i})},47370:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(62475);function r(e){var t=(0,i.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},41061:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(31778),r=n(55565),o=n(47370);function s(e){return(0,i.Z)((0,r.Z)(e)).left+(0,o.Z)(e).scrollLeft}},53817:(e,t,n)=>{n.d(t,{Re:()=>o,Zq:()=>s,kK:()=>r});var i=n(62475);function r(e){return e instanceof(0,i.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,i.Z)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,i.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8269:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(11434);function r(){return!/^((?!chrome|android).)*safari/i.test((0,i.Z)())}},62714:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(76594);function r(e){var t=(0,i.Z)(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}},54489:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(33087),r=n(62714),o=n(63465),s=n(53817);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,r.Z)(e)?e:a((0,i.Z)(e))}var c=n(62475);function u(e,t){var n;void 0===t&&(t=[]);var o=a(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),l=(0,c.Z)(o),p=s?[l].concat(l.visualViewport||[],(0,r.Z)(o)?o:[]):o,d=t.concat(p);return s?d:d.concat(u((0,i.Z)(p)))}},71899:(e,t,n)=>{n.d(t,{BL:()=>u,Ct:()=>g,F2:()=>o,I:()=>r,Pj:()=>d,YP:()=>h,bw:()=>m,d7:()=>a,k5:()=>f,mv:()=>c,t$:()=>s,ut:()=>l,we:()=>i,xs:()=>v,zV:()=>p});var i="top",r="bottom",o="right",s="left",a="auto",c=[i,r,o,s],u="start",l="end",p="clippingParents",d="viewport",f="popper",h="reference",m=c.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+l])}),[]),g=[].concat(c,[a]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+l])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},2012:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(56066),r=n(15262),o=n(46159),s=n(71899);function a(e){var t,n=e.reference,a=e.element,c=e.placement,u=c?(0,i.Z)(c):null,l=c?(0,r.Z)(c):null,p=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2;switch(u){case s.we:t={x:p,y:n.y-a.height};break;case s.I:t={x:p,y:n.y+n.height};break;case s.F2:t={x:n.x+n.width,y:d};break;case s.t$:t={x:n.x-a.width,y:d};break;default:t={x:n.x,y:n.y}}var f=u?(0,o.Z)(u):null;if(null!=f){var h="y"===f?"height":"width";switch(l){case s.BL:t[f]=t[f]-(n[h]/2-a[h]/2);break;case s.ut:t[f]=t[f]+(n[h]/2-a[h]/2)}}return t}},34530:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(71899),r=n(62475),o=n(55565),s=n(41061),a=n(8269);var c=n(76594),u=n(47370),l=n(53295);var p=n(54489),d=n(59590),f=n(53817),h=n(31778),m=n(33087),g=n(25681),v=n(63465);function b(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function y(e,t,n){return t===i.Pj?b(function(e,t){var n=(0,r.Z)(e),i=(0,o.Z)(e),c=n.visualViewport,u=i.clientWidth,l=i.clientHeight,p=0,d=0;if(c){u=c.width,l=c.height;var f=(0,a.Z)();(f||!f&&"fixed"===t)&&(p=c.offsetLeft,d=c.offsetTop)}return{width:u,height:l,x:p+(0,s.Z)(e),y:d}}(e,n)):(0,f.kK)(t)?function(e,t){var n=(0,h.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):b(function(e){var t,n=(0,o.Z)(e),i=(0,u.Z)(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=(0,l.Fp)(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),p=(0,l.Fp)(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-i.scrollLeft+(0,s.Z)(e),f=-i.scrollTop;return"rtl"===(0,c.Z)(r||n).direction&&(d+=(0,l.Fp)(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:p,x:d,y:f}}((0,o.Z)(e)))}function x(e,t,n,i){var r="clippingParents"===t?function(e){var t=(0,p.Z)((0,m.Z)(e)),n=["absolute","fixed"].indexOf((0,c.Z)(e).position)>=0&&(0,f.Re)(e)?(0,d.Z)(e):e;return(0,f.kK)(n)?t.filter((function(e){return(0,f.kK)(e)&&(0,g.Z)(e,n)&&"body"!==(0,v.Z)(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce((function(t,n){var r=y(e,n,i);return t.top=(0,l.Fp)(r.top,t.top),t.right=(0,l.VV)(r.right,t.right),t.bottom=(0,l.VV)(r.bottom,t.bottom),t.left=(0,l.Fp)(r.left,t.left),t}),y(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var w=n(2012),_=n(62631),S=n(8104);function k(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,a=n.strategy,c=void 0===a?e.strategy:a,u=n.boundary,l=void 0===u?i.zV:u,p=n.rootBoundary,d=void 0===p?i.Pj:p,m=n.elementContext,g=void 0===m?i.k5:m,v=n.altBoundary,y=void 0!==v&&v,k=n.padding,C=void 0===k?0:k,E=(0,_.Z)("number"!=typeof C?C:(0,S.Z)(C,i.mv)),O=g===i.k5?i.YP:i.k5,I=e.rects.popper,A=e.elements[y?O:g],T=x((0,f.kK)(A)?A:A.contextElement||(0,o.Z)(e.elements.popper),l,d,c),R=(0,h.Z)(e.elements.reference),P=(0,w.Z)({reference:R,element:I,strategy:"absolute",placement:s}),N=b(Object.assign({},I,P)),U=g===i.k5?N:R,D={top:T.top-U.top+E.top,bottom:U.bottom-T.bottom+E.bottom,left:T.left-U.left+E.left,right:U.right-T.right+E.right},B=e.modifiersData.offset;if(g===i.k5&&B){var j=B[s];Object.keys(D).forEach((function(e){var t=[i.F2,i.I].indexOf(e)>=0?1:-1,n=[i.we,i.I].indexOf(e)>=0?"y":"x";D[e]+=j[n]*t}))}return D}},8104:(e,t,n)=>{function i(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:()=>i})},56066:(e,t,n)=>{function i(e){return e.split("-")[0]}n.d(t,{Z:()=>i})},89371:(e,t,n)=>{function i(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:()=>i})},46159:(e,t,n)=>{function i(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:()=>i})},15262:(e,t,n)=>{function i(e){return e.split("-")[1]}n.d(t,{Z:()=>i})},53295:(e,t,n)=>{n.d(t,{Fp:()=>i,NM:()=>o,VV:()=>r});var i=Math.max,r=Math.min,o=Math.round},62631:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(89371);function r(e){return Object.assign({},(0,i.Z)(),e)}},11434:(e,t,n)=>{function i(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:()=>i})},85892:(e,t,n)=>{n.d(t,{P:()=>s});var i=n(76974),r=n(2844),o=n(77176);const s={URI:"Observable",map:(e,t)=>e.pipe((0,o.U)(t)),ap:(e,t)=>(0,r.aj)([e,t]).pipe((0,o.U)((([e,t])=>e(t)))),of:e=>(0,i.of)(e)}},19744:e=>{var t=-1,n=10,i=0;function r(e,n,u,l){if(e===n)return e?[[0,e]]:[];if(null!=u){var p=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,c=e.slice(0,a),u=e.slice(a),l=r?r.index:null,p=a+s-o;if((null===l||l===p)&&!(p<0||p>s)){var d=t.slice(0,p);if((g=t.slice(p))===u){var h=Math.min(a,p);if((b=c.slice(0,h))===(x=d.slice(0,h)))return f(b,c.slice(h),d.slice(h),u)}}if(null===l||l===a){var m=a,g=(d=t.slice(0,m),t.slice(m));if(d===c){var v=Math.min(o-m,s-m);if((y=u.slice(u.length-v))===(w=g.slice(g.length-v)))return f(c,u.slice(0,u.length-v),g.slice(0,g.length-v),y)}}}if(i.length>0&&r&&0===r.length){var b=e.slice(0,i.index),y=e.slice(i.index+i.length);if(!(s<(h=b.length)+(v=y.length))){var x=t.slice(0,h),w=t.slice(s-v);if(b===x&&y===w)return f(b,e.slice(h,o-v),t.slice(h,s-v),y)}}return null}(e,n,u);if(p)return p}var d=s(e,n),h=e.substring(0,d);d=a(e=e.substring(d),n=n.substring(d));var m=e.substring(e.length-d),g=function(e,n){var c;if(!e)return[[1,n]];if(!n)return[[t,e]];var u=e.length>n.length?e:n,l=e.length>n.length?n:e,p=u.indexOf(l);if(-1!==p)return c=[[1,u.substring(0,p)],[0,l],[1,u.substring(p+l.length)]],e.length>n.length&&(c[0][0]=c[2][0]=t),c;if(1===l.length)return[[t,e],[1,n]];var d=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,o,c,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,p="";-1!==(l=t.indexOf(u,l+1));){var d=s(e.substring(n),t.substring(l)),f=a(e.substring(0,n),t.substring(0,l));p.length<f+d&&(p=t.substring(l-f,l)+t.substring(l,l+d),i=e.substring(0,n-f),r=e.substring(n+d),o=t.substring(0,l-f),c=t.substring(l+d))}return 2*p.length>=e.length?[i,r,o,c,p]:null}var o,c,u,l,p,d=r(n,i,Math.ceil(n.length/4)),f=r(n,i,Math.ceil(n.length/2));if(!d&&!f)return null;o=f?d&&d[4].length>f[4].length?d:f:d;e.length>t.length?(c=o[0],u=o[1],l=o[2],p=o[3]):(l=o[0],p=o[1],c=o[2],u=o[3]);var h=o[4];return[c,u,l,p,h]}(e,n);if(d){var f=d[0],h=d[1],m=d[2],g=d[3],v=d[4],b=r(f,m),y=r(h,g);return b.concat([[0,v]],y)}return function(e,n){for(var r=e.length,s=n.length,a=Math.ceil((r+s)/2),c=a,u=2*a,l=new Array(u),p=new Array(u),d=0;d<u;d++)l[d]=-1,p[d]=-1;l[c+1]=0,p[c+1]=0;for(var f=r-s,h=f%2!=0,m=0,g=0,v=0,b=0,y=0;y<a&&!(i>0&&performance.now()>i);y++){for(var x=-y+m;x<=y-g;x+=2){for(var w=c+x,_=(O=x===-y||x!==y&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-x;O<r&&_<s&&e.charAt(O)===n.charAt(_);)O++,_++;if(l[w]=O,O>r)g+=2;else if(_>s)m+=2;else if(h){if((C=c+f-x)>=0&&C<u&&-1!==p[C])if(O>=(k=r-p[C]))return o(e,n,O,_)}}for(var S=-y+v;S<=y-b;S+=2){for(var k,C=c+S,E=(k=S===-y||S!==y&&p[C-1]<p[C+1]?p[C+1]:p[C-1]+1)-S;k<r&&E<s&&e.charAt(r-k-1)===n.charAt(s-E-1);)k++,E++;if(p[C]=k,k>r)b+=2;else if(E>s)v+=2;else if(!h){if((w=c+f-S)>=0&&w<u&&-1!==l[w]){var O;_=c+(O=l[w])-w;if(O>=(k=r-k))return o(e,n,O,_)}}}}return[[t,e],[1,n]]}(e,n)}(e=e.substring(0,e.length-d),n=n.substring(0,n.length-d));return h&&g.unshift([0,h]),m&&g.push([0,m]),c(g,l),g}function o(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),a=e.substring(n),c=t.substring(i),u=r(o,s),l=r(a,c);return u.concat(l)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return u(e.charCodeAt(r-1))&&r--,r}function a(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return l(e.charCodeAt(e.length-r))&&r--,r}function c(e,n){e.push([0,""]);for(var i,r=0,o=0,u=0,l="",f="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:u++,f+=e[r][1],r++;break;case t:o++,l+=e[r][1],r++;break;case 0:var h=r-u-o-1;if(n){if(h>=0&&d(e[h][1])){var m=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),l=m+l,f=m+f,!e[h][1]){e.splice(h,1),r--;var g=h-1;e[g]&&1===e[g][0]&&(u++,f=e[g][1]+f,g--),e[g]&&e[g][0]===t&&(o++,l=e[g][1]+l,g--),h=g}}if(p(e[r][1])){m=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),l+=m,f+=m}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(l.length>0||f.length>0){l.length>0&&f.length>0&&(0!==(i=s(f,l))&&(h>=0?e[h][1]+=f.substring(0,i):(e.splice(0,0,[0,f.substring(0,i)]),r++),f=f.substring(i),l=l.substring(i)),0!==(i=a(f,l))&&(e[r][1]=f.substring(f.length-i)+e[r][1],f=f.substring(0,f.length-i),l=l.substring(0,l.length-i)));var v=u+o;0===l.length&&0===f.length?(e.splice(r-v,v),r-=v):0===l.length?(e.splice(r-v,v,[1,f]),r=r-v+1):0===f.length?(e.splice(r-v,v,[t,l]),r=r-v+1):(e.splice(r-v,v,[t,l],[1,f]),r=r-v+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,u=0,o=0,l="",f=""}""===e[e.length-1][1]&&e.pop();var b=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),b=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),b=!0)),r++;b&&c(e,n)}function u(e){return e>=55296&&e<=56319}function l(e){return e>=56320&&e<=57343}function p(e){return l(e.charCodeAt(0))}function d(e){return u(e.charCodeAt(e.length-1))}function f(e,n,i,r){return d(e)||p(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,i],[0,r]])}function h(e,t,o){return i=n>0?performance.now()+n:0,r(e,t,o,!0)}h.INSERT=1,h.DELETE=t,h.EQUAL=0,h.getTimeoutMs=function(){return n},h.setTimeoutMs=function(e){n=e},e.exports=h},62965:(e,t,n)=>{n.d(t,{F2:()=>a,Pd:()=>m,UI:()=>h,Uo:()=>d,Vn:()=>g,a1:()=>y,dk:()=>l,fj:()=>p,g_:()=>f,t$:()=>s,tS:()=>w});var i=n(95195),r=n(57050),o=n(99950),s=(0,r.ls)(i.t$,o.of),a=(0,r.ls)(i.F2,o.of),c=o.map(i.F2),u=o.map(i.t$),l=(0,r.ls)(o.fromIO,c),p=(o.fromIO,o.fromIO),d=1307!=n.j?i.g_(s,(function(e){return a(e)})):null;var f=(0,r.ls)(i.g_,o.chain);i.LF;var h=function(e){return o.map(i.UI(e))},m=(0,r.ls)(i.Pd,o.map),g=function(e){return o.map(i.Vn(e))},v=function(e){return(0,r.ls)(o.map((function(e){return function(t){return i.sL(t)(e)}})),o.ap(e))},b=v,y=function(e){return(0,r.ls)(h((function(){return function(e){return e}})),b(e))},x=function(e){return function(t){return(0,r.zG)(t,o.chain(i.g_(s,e)))}},w=x},93756:(e,t,n)=>{if(n.d(t,{EK:()=>d,Eh:()=>l,F2:()=>s,Hk:()=>a,IS:()=>p,Pd:()=>v,Qp:()=>g,Vn:()=>b,WP:()=>m,ZN:()=>u,g_:()=>c,nM:()=>f,t$:()=>o,tO:()=>h}),1307!=n.j)var i=n(73975);var r=n(5114);n(57050);function o(e){return{_tag:"Left",left:e}}function s(e){return{_tag:"Right",right:e}}function a(e,t){return{_tag:"Both",left:e,right:t}}function c(e,t,n){return function(i){switch(i._tag){case"Left":return e(i.left);case"Right":return t(i.right);case"Both":return n(i.left,i.right)}}}c(s,o,(function(e,t){return a(t,e)}));function u(e,t){return{show:c((function(t){return"left("+e.show(t)+")"}),(function(e){return"right("+t.show(e)+")"}),(function(n,i){return"both("+e.show(n)+", "+t.show(i)+")"}))}}function l(e,t){return(0,i.f7)((function(n,i){return f(n)?f(i)&&e.equals(n.left,i.left):h(n)?h(i)&&t.equals(n.right,i.right):m(i)&&e.equals(n.left,i.left)&&t.equals(n.right,i.right)}))}function p(e){return f(e)?(0,r.some)(e.left):h(e)?r.none:(0,r.some)(e.left)}function d(e){return f(e)?r.none:(h(e),(0,r.some)(e.right))}function f(e){return"Left"===e._tag}function h(e){return"Right"===e._tag}function m(e){return"Both"===e._tag}function g(e,t){return(0,r.isNone)(e)?(0,r.isNone)(t)?r.none:(0,r.some)(s(t.value)):(0,r.isNone)(t)?(0,r.some)(o(e.value)):(0,r.some)(a(e.value,t.value))}var v=function(e,t){return function(n){return f(n)?o(e(n.left)):h(n)?s(t(n.right)):a(e(n.left),t(n.right))}},b=function(e){return function(t){return f(t)?o(e(t.left)):m(t)?a(e(t.left),t.right):t}}},12271:(e,t,n)=>{n.d(t,{Pd:()=>p,li:()=>u,UI:()=>d,Yg:()=>l});var i=n(57050);function r(e){return e[0]}function o(e){return e[1]}var s=function(e,t){return function(n){return[t(r(n)),e(o(n))]}},a=function(e){return function(t){return[e(t),o(t)]}},c=(i.yR,function(e){return function(t){return[e(r(t)),o(t)]}}),u=r,l=o,p=s,d=c},54335:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,c,u,l;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(c=a;0!=c--;)if(!o(e[c],s[c]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;for(l=e.entries();!(c=l.next()).done;)if(!o(c.value[1],s.get(c.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(c=a;0!=c--;)if(e[c]!==s[c])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(u=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(c=a;0!=c--;)if(!Object.prototype.hasOwnProperty.call(s,u[c]))return!1;if(t&&e instanceof Element)return!1;for(c=a;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!e.$$typeof)&&!o(e[u[c]],s[u[c]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},74204:(e,t,n)=>{n.d(t,{D:()=>ie});var i=n(27378),r=n(31542),o=n(31778),s=n(47370),a=n(62475),c=n(53817);var u=n(63465),l=n(41061),p=n(55565),d=n(62714),f=n(53295);function h(e,t,n){void 0===n&&(n=!1);var i,r,h=(0,c.Re)(t),m=(0,c.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,f.NM)(t.width)/e.offsetWidth||1,i=(0,f.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),g=(0,p.Z)(t),v=(0,o.Z)(e,m,n),b={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(h||!h&&!n)&&(("body"!==(0,u.Z)(t)||(0,d.Z)(g))&&(b=(i=t)!==(0,a.Z)(i)&&(0,c.Re)(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:(0,s.Z)(i)),(0,c.Re)(t)?((y=(0,o.Z)(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):g&&(y.x=(0,l.Z)(g))),{x:v.left+b.scrollLeft-y.x,y:v.top+b.scrollTop-y.y,width:v.width,height:v.height}}function m(e){var t=(0,o.Z)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}var g=n(54489),v=n(59590),b=n(71899);function y(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var x={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function _(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?x:r;return function(e,t,n){void 0===n&&(n=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},x,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,p={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:(0,c.kK)(e)?(0,g.Z)(e):e.contextElement?(0,g.Z)(e.contextElement):[],popper:(0,g.Z)(t)};var s=function(e){var t=y(e);return b.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:p,options:i}),s=function(){};u.push(o||s)}})),p.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(w(t,n)){a.rects={reference:h(t,(0,v.Z)(n),"fixed"===a.options.strategy),popper:m(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var r=a.orderedModifiers[i],o=r.fn,s=r.options,c=void 0===s?{}:s,u=r.name;"function"==typeof o&&(a=o({state:a,options:c,name:u,instance:p})||a)}else a.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){p.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){d(),l=!0}};if(!w(e,t))return p;function d(){u.forEach((function(e){return e()})),u=[]}return p.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),p}}var S={passive:!0};const k={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,c=void 0===s||s,u=(0,a.Z)(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,S)})),c&&u.addEventListener("resize",n.update,S),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,S)})),c&&u.removeEventListener("resize",n.update,S)}},data:{}};var C=n(2012);const E={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,C.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var O=n(76594),I=n(56066),A=n(15262),T={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,c=e.position,u=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,h=e.isFixed,m=s.x,g=void 0===m?0:m,y=s.y,x=void 0===y?0:y,w="function"==typeof d?d({x:g,y:x}):{x:g,y:x};g=w.x,x=w.y;var _=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),k=b.t$,C=b.we,E=self;if(l){var I=(0,v.Z)(n),A="clientHeight",R="clientWidth";if(I===(0,a.Z)(n)&&(I=(0,p.Z)(n),"static"!==(0,O.Z)(I).position&&"absolute"===c&&(A="scrollHeight",R="scrollWidth")),r===b.we||(r===b.t$||r===b.F2)&&o===b.ut)C=b.I,x-=(h&&I===E&&E.visualViewport?E.visualViewport.height:I[A])-i.height,x*=u?1:-1;if(r===b.t$||(r===b.we||r===b.I)&&o===b.ut)k=b.F2,g-=(h&&I===E&&E.visualViewport?E.visualViewport.width:I[R])-i.width,g*=u?1:-1}var P,N=Object.assign({position:c},l&&T),U=!0===d?function(e){var t=e.x,n=e.y,i=self.devicePixelRatio||1;return{x:(0,f.NM)(t*i)/i||0,y:(0,f.NM)(n*i)/i||0}}({x:g,y:x}):{x:g,y:x};return g=U.x,x=U.y,u?Object.assign({},N,((P={})[C]=S?"0":"",P[k]=_?"0":"",P.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",P)):Object.assign({},N,((t={})[C]=S?x+"px":"",t[k]=_?g+"px":"",t.transform="",t))}const P={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,u={placement:(0,I.Z)(t.placement),variation:(0,A.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,R(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,R(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const N={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];(0,c.Re)(r)&&(0,u.Z)(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,c.Re)(i)&&(0,u.Z)(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};const U={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=b.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var i=(0,I.Z)(e),r=[b.t$,b.we].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[b.t$,b.F2].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}};var D={left:"right",right:"left",bottom:"top",top:"bottom"};function B(e){return e.replace(/left|right|bottom|top/g,(function(e){return D[e]}))}var j={start:"end",end:"start"};function G(e){return e.replace(/start|end/g,(function(e){return j[e]}))}var L=n(34530);const z={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,u=n.padding,l=n.boundary,p=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=(0,I.Z)(g),y=c||(v===g||!h?[B(g)]:function(e){if((0,I.Z)(e)===b.d7)return[];var t=B(e);return[G(e),t,G(t)]}(g)),x=[g].concat(y).reduce((function(e,n){return e.concat((0,I.Z)(n)===b.d7?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?b.Ct:c,l=(0,A.Z)(i),p=l?a?b.bw:b.bw.filter((function(e){return(0,A.Z)(e)===l})):b.mv,d=p.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=p);var f=d.reduce((function(t,n){return t[n]=(0,L.Z)(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[(0,I.Z)(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:p,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,k=!0,C=x[0],E=0;E<x.length;E++){var O=x[E],T=(0,I.Z)(O),R=(0,A.Z)(O)===b.BL,P=[b.we,b.I].indexOf(T)>=0,N=P?"width":"height",U=(0,L.Z)(t,{placement:O,boundary:l,rootBoundary:p,altBoundary:d,padding:u}),D=P?R?b.F2:b.t$:R?b.I:b.we;w[N]>_[N]&&(D=B(D));var j=B(D),z=[];if(o&&z.push(U[T]<=0),a&&z.push(U[D]<=0,U[j]<=0),z.every((function(e){return e}))){C=O,k=!1;break}S.set(O,z)}if(k)for(var F=function(e){var t=x.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},M=h?3:1;M>0;M--){if("break"===F(M))break}t.placement!==C&&(t.modifiersData[i]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var F=n(46159);function M(e,t,n){return(0,f.Fp)(e,(0,f.VV)(t,n))}var V=n(89371);const Z={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,p=n.padding,d=n.tether,h=void 0===d||d,g=n.tetherOffset,y=void 0===g?0:g,x=(0,L.Z)(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:l}),w=(0,I.Z)(t.placement),_=(0,A.Z)(t.placement),S=!_,k=(0,F.Z)(w),C="x"===k?"y":"x",E=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,R="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,P="number"==typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(E){if(o){var D,B="y"===k?b.we:b.t$,j="y"===k?b.I:b.F2,G="y"===k?"height":"width",z=E[k],Z=z+x[B],H=z-x[j],$=h?-T[G]/2:0,K=_===b.BL?O[G]:T[G],W=_===b.BL?-T[G]:-O[G],q=t.elements.arrow,Y=h&&q?m(q):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,V.Z)(),X=Q[B],J=Q[j],ee=M(0,O[G],Y[G]),te=S?O[G]/2-$-ee-X-P.mainAxis:K-ee-X-P.mainAxis,ne=S?-O[G]/2+$+ee+J+P.mainAxis:W+ee+J+P.mainAxis,ie=t.elements.arrow&&(0,v.Z)(t.elements.arrow),re=ie?"y"===k?ie.clientTop||0:ie.clientLeft||0:0,oe=null!=(D=null==N?void 0:N[k])?D:0,se=z+te-oe-re,ae=z+ne-oe,ce=M(h?(0,f.VV)(Z,se):Z,z,h?(0,f.Fp)(H,ae):H);E[k]=ce,U[k]=ce-z}if(a){var ue,le="x"===k?b.we:b.t$,pe="x"===k?b.I:b.F2,de=E[C],fe="y"===C?"height":"width",he=de+x[le],me=de-x[pe],ge=-1!==[b.we,b.t$].indexOf(w),ve=null!=(ue=null==N?void 0:N[C])?ue:0,be=ge?he:de-O[fe]-T[fe]-ve+P.altAxis,ye=ge?de+O[fe]+T[fe]-ve-P.altAxis:me,xe=h&&ge?function(e,t,n){var i=M(e,t,n);return i>n?n:i}(be,de,ye):M(h?be:he,de,h?ye:me);E[C]=xe,U[C]=xe-de}t.modifiersData[i]=U}},requiresIfExists:["offset"]};var H=n(25681),$=n(62631),K=n(8104);const W={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=(0,I.Z)(n.placement),c=(0,F.Z)(a),u=[b.t$,b.F2].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,$.Z)("number"!=typeof e?e:(0,K.Z)(e,b.mv))}(r.padding,n),p=m(o),d="y"===c?b.we:b.t$,f="y"===c?b.I:b.F2,h=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],g=s[c]-n.rects.reference[c],y=(0,v.Z)(o),x=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,w=h/2-g/2,_=l[d],S=x-p[u]-l[f],k=x/2-p[u]/2+w,C=M(_,k,S),E=c;n.modifiersData[i]=((t={})[E]=C,t.centerOffset=C-k,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&(0,H.Z)(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Y(e){return[b.we,b.F2,b.I,b.t$].some((function(t){return e[t]>=0}))}var Q=_({defaultModifiers:[k,E,P,N,U,z,Z,W,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=(0,L.Z)(t,{elementContext:"reference"}),a=(0,L.Z)(t,{altBoundary:!0}),c=q(s,i),u=q(a,r,o),l=Y(c),p=Y(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":p})}}]}),X=n(54335),J=n.n(X),ee=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},te="undefined"!=typeof self&&self.document&&self.document.createElement?i.useLayoutEffect:i.useEffect,ne=[],ie=function(e,t,n){void 0===n&&(n={});var o=i.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ne},a=i.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=a[0],u=a[1],l=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);r.flushSync((function(){u({styles:ee(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ee(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),p=i.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return J()(o.current,e)?o.current||e:(o.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),d=i.useRef();return te((function(){d.current&&d.current.setOptions(p)}),[p]),te((function(){if(null!=e&&null!=t){var i=(n.createPopper||Q)(e,t,p);return d.current=i,function(){i.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:c.styles,attributes:c.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}},40770:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(59312),r=n(32952),o=n(14601),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(r.xQ)},38062:(e,t,n)=>{n.d(t,{S3:()=>c});var i=n(59312),r=n(17733),o=n(81967),s=n(57655),a=n(72500);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,r.k)(e[0]))return e[0];e=e[0]}return(0,o.n)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],r=(0,a.D)(this,i,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(s.L)},2746:(e,t,n)=>{n.d(t,{$R:()=>u,mx:()=>l});var i=n(59312),r=n(81967),o=n(17733),s=n(98036),a=n(85451),c=n(46601);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,r.n)(e,void 0).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var r=e.call(this,t)||this;return r.resultSelector=n,r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:void 0,r}return i.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.k)(e)?t.push(new f(e)):"function"==typeof e[a.hZ]?t.push(new d(e[a.hZ]())):t.push(new h(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];if(i.stillUnsubscribed)this.destination.add(i.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){if("function"==typeof(s=e[i]).hasValue&&!s.hasValue())return}var r=!1,o=[];for(i=0;i<t;i++){var s,a=(s=e[i]).next();if(s.hasCompleted()&&(r=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),f=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[a.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),h=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return i.ZT(t,e),t.prototype[a.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,c.ft)(this.observable,new c.IY(this))},t}(c.Ds)},50133:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.ZT(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=(0,r.ft)(t,new r.IY(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,i=e.throttled;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(r.Ds)},66081:(e,t,n)=>{n.d(t,{e:()=>s});var i=n(82506),r=n(50133),o=n(80900);function s(e,t){return void 0===t&&(t=i.P),(0,r.U)((function(){return(0,o.H)(e,t)}))}},36919:(e,t,n)=>{n.d(t,{f:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.buffer=[],i.add((0,r.ft)(n,new r.IY(i))),i}return i.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(r.Ds)},76257:(e,t,n)=>{n.d(t,{j:()=>o});var i=n(59312),r=n(98036);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(r.L),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return i.ZT(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,i=t.startBufferEvery,r=t.buffers,o=t.count;this.count++,o%i==0&&r.push([]);for(var s=r.length;s--;){var a=r[s];a.push(e),a.length===n&&(r.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(r.L)},17160:(e,t,n)=>{n.d(t,{e:()=>a});var i=n(59312),r=n(82506),o=n(98036),s=n(67827);function a(e){var t=arguments.length,n=r.P;(0,s.K)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var i=null;t>=2&&(i=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,i,o,n))}}var c=function(){function e(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){return function(){this.buffer=[]}}(),l=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=i,s.maxBufferSize=r,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==i||i<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(p,n,c))}else{var u={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(f,n,u)),s.add(o.schedule(d,i,l))}return s}return i.ZT(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,i=n.length,r=0;r<i;r++){var o=n[r],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var i=t.shift();n.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,i={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(p,n,i))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.L);function p(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function d(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,i=e.subscriber,r=e.scheduler,o=i.openContext();i.closed||(i.add(o.closeAction=r.schedule(f,n,{subscriber:i,context:o})),this.schedule(e,t))}function f(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},41608:(e,t,n)=>{n.d(t,{P:()=>a});var i=n(59312),r=n(14601),o=n(72500),s=n(57655);function a(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.closingSelector=i,r.contexts=[],r.add((0,o.D)(r,n)),r}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,i=0;i<n;i++)t[i].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,i=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(i),i.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new r.w,i={buffer:[],subscription:n};t.push(i);var s=(0,o.D)(this,e,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),n.add(s))},t}(s.L)},77150:(e,t,n)=>{n.d(t,{R:()=>s});var i=n(59312),r=n(14601),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new r.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,o.ft)(t,new o.IY(this))),this.subscribing=!1},t}(o.Ds)},91224:(e,t,n)=>{n.d(t,{K:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){var n=new s(e),i=t.lift(n);return n.caught=i}}var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.selector=n,r.caught=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var i=new r.IY(this);this.add(i);var o=(0,r.ft)(n,i);o!==i&&this.add(o)}},t}(r.Ds)},91023:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(2844);function r(e){return function(t){return t.lift(new i.Ms(e))}}},57091:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(17733),r=n(2844),o=n(12126);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,i.k)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,o.D)([t].concat(e)),new r.Ms(n))}}},94123:(e,t,n)=>{n.d(t,{z:()=>r});var i=n(95399);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.z.apply(void 0,[t].concat(e)))}}},58:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(71032);function r(e,t){return(0,i.b)((function(){return e}),t)}},22815:(e,t,n)=>{n.d(t,{Q:()=>o});var i=n(59312),r=n(98036);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return i.ZT(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(r.L)},87847:(e,t,n)=>{n.d(t,{D:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.ZT(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,r.ft)(t,new r.IY(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(r.Ds)},87938:(e,t,n)=>{n.d(t,{j:()=>c});var i=n(59312),r=n(98036),o=n(44586),s=n(57655),a=n(72500);function c(e,t){return t?function(n){return new p(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return i.ZT(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(e),this.removeSubscription(r),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,a.D)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.L),p=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return i.ZT(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new d(e,this.source))},t}(o.y),d=function(e){function t(t,n){var i=e.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return i.ZT(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(r.L)},15789:(e,t,n)=>{n.d(t,{D:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(r.L)},94607:(e,t,n)=>{n.d(t,{E:()=>o});var i=n(59312),r=n(46601);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.keySelector,this.flushes))},e}(),a=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add((0,r.ft)(i,new r.IY(o))),o}return i.ZT(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(r.Ds)},40649:(e,t,n)=>{n.d(t,{g:()=>r});var i=n(28043);function r(e,t){return(0,i.x)((function(n,i){return t?t(n[e],i[e]):n[e]===i[e]}))}},87830:(e,t,n)=>{n.d(t,{T:()=>c});var i=n(2270),r=n(85985),o=n(4750),s=n(31524),a=n(23063);function c(e,t){if(e<0)throw new i.W;var n=arguments.length>=2;return function(c){return c.pipe((0,r.h)((function(t,n){return n===e})),(0,a.q)(1),n?(0,s.d)(t):(0,o.T)((function(){return new i.W})))}}},39719:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(95399),r=n(76974);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,i.z)(t,r.of.apply(void 0,e))}}},50481:(e,t,n)=>{n.d(t,{y:()=>o});var i=n(59312),r=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return i.ZT(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(r.L)},87451:(e,t,n)=>{n.d(t,{b:()=>o});var i=n(59312),r=n(46601);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return i.ZT(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,r.ft)(e,new r.IY(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(r.Ds)},58524:(e,t,n)=>{n.d(t,{jn:()=>o});var i=n(59312),r=n(46601);function o(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.concurrent,this.scheduler))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=r,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return i.ZT(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,i=e.value,r=e.index;t.subscribeToProjection(n,i,r)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var r=(0,this.project)(e,i);if(this.scheduler){var o={subscriber:this,result:r,value:e,index:i};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(r,e,i)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,r.ft)(e,new r.IY(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(r.Ds)},22447:(e,t,n)=>{n.d(t,{eo:()=>s,sE:()=>o});var i=n(59312),r=n(98036);function o(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=i,s.yieldIndex=r,s.thisArg=o,s.index=0,s}return i.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,i=this.index++;try{t.call(n||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(r.L)},43918:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(22447);function r(e,t){return function(n){return n.lift(new i.eo(e,n,!0,t))}}},78146:(e,t,n)=>{n.d(t,{T:()=>d,v:()=>c});var i=n(59312),r=n(98036),o=n(14601),s=n(44586),a=n(32952);function c(e,t,n,i){return function(r){return r.lift(new u(e,t,n,i))}}var u=function(){function e(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=i,s.durationSelector=r,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return i.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(t);if(this.elementSelector)try{i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r){r=this.subjectSelector?this.subjectSelector():new a.xQ,n.set(t,r);var o=new d(t,r,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(t,r))}catch(e){return void this.error(e)}this.add(s.subscribe(new p(t,r,this)))}}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(r.L),p=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.key=t,r.group=n,r.parent=i,r}return i.ZT(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(r.L),d=function(e){function t(t,n,i){var r=e.call(this)||this;return r.key=t,r.groupSubject=n,r.refCountSubscription=i,r}return i.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&t.add(new f(n)),t.add(i.subscribe(e)),t},t}(s.y),f=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return i.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},49143:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.ZT(t,e),t.prototype._next=function(e){},t}(r.L)},98606:(e,t,n)=>{n.d(t,{x:()=>o});var i=n(59312),r=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(r.L)},68706:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(33346),r=n(85985),o=n(51639),s=n(4750),a=n(31524),c=n(49524);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?(0,r.h)((function(t,n){return e(t,n,u)})):c.y,(0,o.h)(1),n?(0,a.d)(t):(0,s.T)((function(){return new i.K})))}}},83840:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(59312),r=n(98036),o=n(12834);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){return e.call(this,t)||this}return i.ZT(t,e),t.prototype._next=function(e){this.destination.next(o.P.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.P.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.P.createComplete()),e.complete()},t}(r.L)},80018:(e,t,n)=>{n.d(t,{F:()=>r});var i=n(38934);function r(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,i.u)(t)}},93781:(e,t,n)=>{n.d(t,{j:()=>r});var i=n(85321);function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,i.zg)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,i.zg)((function(){return e}),n))}},40184:(e,t,n)=>{n.d(t,{fU:()=>o});var i=n(59312),r=n(46601);function o(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.concurrent))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=r,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i.ZT(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new r.IY(this),n=this.destination;n.add(t);var i=(0,r.ft)(e,t);i!==t&&n.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(r.Ds)},24371:(e,t,n)=>{n.d(t,{V:()=>r});var i=n(38934);function r(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,i.u)(t)}},80334:(e,t,n)=>{n.d(t,{h:()=>s});var i=n(59312),r=n(17733),o=n(46601);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,r.k)(e[0])&&(e=e[0]),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.nextSources))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return i.ZT(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new o.IY(this),n=this.destination;n.add(t);var i=(0,o.ft)(e,t);i!==t&&n.add(i)}else this.destination.complete()},t}(o.Ds)},53804:(e,t,n)=>{n.d(t,{u:()=>o});var i=n(96451),r=n(85985);function o(e,t){return function(n){return[(0,r.h)(e,t)(n),(0,r.h)((0,i.f)(e,t))(n)]}}},62962:(e,t,n)=>{n.d(t,{n:()=>o});var i=n(32952),r=n(24755);function o(e){return e?(0,r.O)((function(){return new i.xQ}),e):(0,r.O)(new i.xQ)}},71193:(e,t,n)=>{n.d(t,{n:()=>o});var i=n(95300),r=n(24755);function o(e){return function(t){return(0,r.O)(new i.X(e))(t)}}},92449:(e,t,n)=>{n.d(t,{C:()=>o});var i=n(40770),r=n(24755);function o(){return function(e){return(0,r.O)(new i.c)(e)}}},48403:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(16782),r=n(24755);function o(e,t,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new i.t(e,t,o);return function(e){return(0,r.O)((function(){return a}),s)(e)}}},55875:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(17733),r=n(38062);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,i.k)(e[0])&&(e=e[0]),t.lift.call(r.S3.apply(void 0,[t].concat(e)))}}},38934:(e,t,n)=>{n.d(t,{u:()=>a});var i=n(67434),r=n(51639),o=n(31524),s=n(87072);function a(e,t){return arguments.length>=2?function(n){return(0,s.z)((0,i.R)(e,t),(0,r.h)(1),(0,o.d)(t))(n)}:function(t){return(0,s.z)((0,i.R)((function(t,n,i){return e(t,n,i+1)})),(0,r.h)(1))(t)}}},36303:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(59312),r=n(98036),o=n(40151);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,o.c)():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.ZT(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)},11838:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return i.ZT(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new r.xQ;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,o.ft)(t,new o.IY(this))},t}(o.Ds)},75458:(e,t,n)=>{n.d(t,{X:()=>o});var i=n(59312),r=n(98036);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.count=n,r.source=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(r.L)},62365:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.notifier=n,r.source=i,r}return i.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new r.xQ;try{i=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}s=(0,o.ft)(i,new o.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(o.Ds)},13718:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),i=t.subscribe(n);return i.add((0,r.ft)(this.notifier,new r.IY(n))),i},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return i.ZT(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(r.Ds)},13685:(e,t,n)=>{n.d(t,{b:()=>s});var i=n(59312),r=n(98036),o=n(82506);function s(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(u,n,{subscriber:r,period:n})),r}return i.ZT(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(r.L);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},67434:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(98036);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.ZT(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(r.L)},33241:(e,t,n)=>{n.d(t,{NF:()=>o});var i=n(59312),r=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new c(t,r))),r}return i.ZT(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,i=e.comparator;t.length>0&&n.length>0;){var r=t.shift(),o=n.shift(),s=!1;try{s=i?i(r,o):r===o}catch(e){this.destination.error(e)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(r.L),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i.parent=n,i}return i.ZT(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(r.L)},17174:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(59312),r=n(98036),o=n(33346);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return i.ZT(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.K)},t}(r.L)},55935:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(59312),r=n(98036);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(r.L)},65943:(e,t,n)=>{n.d(t,{W:()=>s});var i=n(59312),r=n(98036),o=n(2270);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.W}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new r.L(e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return i.ZT(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,o=r[i];r[i]=e,this.destination.next(o)}},t}(r.L)},65304:(e,t,n)=>{n.d(t,{R:()=>c});var i=n(59312),r=n(44586),o=n(79692),s=n(44362),a=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=o.e);var r=e.call(this)||this;return r.source=t,r.delayTime=n,r.scheduler=i,(!(0,s.k)(n)||n<0)&&(r.delayTime=0),i&&"function"==typeof i.schedule||(r.scheduler=o.e),r}return i.ZT(t,e),t.create=function(e,n,i){return void 0===n&&(n=0),void 0===i&&(i=o.e),new t(e,n,i)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source;return this.scheduler.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(r.y);function c(e,t){return void 0===t&&(t=0),function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new a(t,this.delay,this.scheduler).subscribe(e)},e}()},69935:(e,t,n)=>{n.d(t,{B:()=>o});var i=n(66310),r=n(49524);function o(){return(0,i.w)(r.y)}},51639:(e,t,n)=>{n.d(t,{h:()=>a});var i=n(59312),r=n(98036),o=n(2270),s=n(40151);function a(e){return function(t){return 0===e?(0,s.c)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()},t}(r.L)},2768:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(59312),r=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i.ZT(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(r.Ds)},8473:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(59312),r=n(98036);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return i.ZT(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(r.L)},25031:(e,t,n)=>{n.d(t,{P:()=>s,d:()=>o});var i=n(59312),r=n(46601),o={leading:!0,trailing:!1};function s(e,t){return void 0===t&&(t=o),function(n){return n.lift(new a(e,!!t.leading,!!t.trailing))}}var a=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}return i.ZT(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,r.ft)(t,new r.IY(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(r.Ds)},55721:(e,t,n)=>{n.d(t,{p:()=>a});var i=n(59312),r=n(98036),o=n(82506),s=n(25031);function a(e,t,n){return void 0===t&&(t=o.P),void 0===n&&(n=s.d),function(i){return i.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=i,s.leading=r,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return i.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(r.L);function l(e){e.subscriber.clearThrottle()}},23095:(e,t,n)=>{n.d(t,{J:()=>a});var i=n(82506),r=n(67434),o=n(18625),s=n(77176);function a(e){return void 0===e&&(e=i.P),function(t){return(0,o.P)((function(){return t.pipe((0,r.R)((function(t,n){var i=t.current;return{value:n,current:e.now(),last:i}}),{current:e.now(),value:void 0,last:void 0}),(0,s.U)((function(e){var t=e.current,n=e.last,i=e.value;return new c(i,t-n)})))}))}}var c=function(){return function(e,t){this.value=e,this.interval=t}}()},89068:(e,t,n)=>{n.d(t,{V:()=>a});var i=n(82506),r=n(49549),o=n(97425),s=n(91402);function a(e,t){return void 0===t&&(t=i.P),(0,o.L)(e,(0,s._)(new r.W),t)}},97425:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(59312),r=n(82506),o=n(88992),s=n(46601);function a(e,t,n){return void 0===n&&(n=r.P),function(i){var r=(0,o.J)(e),s=r?+e-n.now():Math.abs(e);return i.lift(new c(s,r,t,n))}}var c=function(){function e(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=r,s.scheduler=o,s.scheduleTimeout(),s}return i.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,s.ft)(t,new s.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(s.Ds)},91969:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(82506),r=n(77176);function o(e){return void 0===e&&(e=i.P),(0,r.U)((function(t){return new s(t,e.now())}))}var s=function(){return function(e,t){this.value=e,this.timestamp=t}}()},35052:(e,t,n)=>{n.d(t,{q:()=>o});var i=n(38934);function r(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return(0,i.u)(r,[])}},50337:(e,t,n)=>{n.d(t,{u:()=>s});var i=n(59312),r=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new c(e),i=t.subscribe(n);return i.closed||n.add((0,o.ft)(this.windowBoundaries,new o.IY(n))),i},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new r.xQ,t.next(n.window),n}return i.ZT(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new r.xQ;t.next(n)},t}(o.Ds)},6643:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(59312),r=n(98036),o=n(32952);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.destination=t,r.windowSize=n,r.startWindowEvery=i,r.windows=[new o.xQ],r.count=0,t.next(r.windows[0]),r}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,s=r.length,a=0;a<s&&!this.closed;a++)r[a].next(e);var c=this.count-i+1;if(c>=0&&c%t==0&&!this.closed&&r.shift().complete(),++this.count%t==0&&!this.closed){var u=new o.xQ;r.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(r.L)},83782:(e,t,n)=>{n.d(t,{I:()=>u});var i=n(59312),r=n(32952),o=n(82506),s=n(98036),a=n(44362),c=n(67827);function u(e){var t=o.P,n=null,i=Number.POSITIVE_INFINITY;return(0,c.K)(arguments[3])&&(t=arguments[3]),(0,c.K)(arguments[2])?t=arguments[2]:(0,a.k)(arguments[2])&&(i=Number(arguments[2])),(0,c.K)(arguments[1])?t=arguments[1]:(0,a.k)(arguments[1])&&(n=Number(arguments[1])),function(r){return r.lift(new l(e,n,i,t))}}var l=function(){function e(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return i.ZT(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(r.xQ),d=function(e){function t(t,n,i,r,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=i,s.maxWindowSize=r,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==i&&i>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:s,scheduler:o};s.add(o.schedule(m,n,c)),s.add(o.schedule(h,i,u))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(f,n,l))}return s}return i.ZT(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,i=0;i<n;i++){var r=t[i];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new p;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.L);function f(e){var t=e.subscriber,n=e.windowTimeSpan,i=e.window;i&&t.closeWindow(i),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,i=e.scheduler,r=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=i.schedule(m,t,c),s.add(a.subscription),s.schedule(e,r)}function m(e){var t=e.subscriber,n=e.window,i=e.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),t.closeWindow(n)}},99597:(e,t,n)=>{n.d(t,{j:()=>c});var i=n(59312),r=n(32952),o=n(14601),s=n(57655),a=n(72500);function c(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=(0,a.D)(r,n,n)),r}return i.ZT(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,i=0;i<n;i++)t[i].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var o=n[r];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var r=t[i];r.window.complete(),r.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var i=e[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,i,s){if(e===this.openings){var c=void 0;try{c=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var u=new r.xQ,l=new o.w,p={window:u,subscription:l};this.contexts.push(p);var d=(0,a.D)(this,c,p);d.closed?this.closeWindow(this.contexts.length-1):(d.context=p,l.add(d)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],i=n.window,r=n.subscription;t.splice(e,1),i.complete(),r.unsubscribe()}},t}(s.L)},45586:(e,t,n)=>{n.d(t,{Q:()=>a});var i=n(59312),r=n(32952),o=n(57655),s=n(72500);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return i.ZT(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.openWindow(r)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,i=this.window=new r.xQ;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,s.D)(this,n))},t}(o.L)},53441:(e,t,n)=>{n.d(t,{$:()=>r});var i=n(2746);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(i.$R.apply(void 0,[t].concat(e)))}}},9229:(e,t,n)=>{n.d(t,{h:()=>r});var i=n(2746);function r(e){return function(t){return t.lift(new i.mx(e))}}},49549:(e,t,n)=>{n.d(t,{W:()=>i});var i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},96451:(e,t,n)=>{function i(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>i})}}]);